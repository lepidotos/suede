<HTML
><HEAD
><TITLE
>The &#60;oaf_attribute&#62; tag</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.59"><LINK
REL="HOME"
TITLE="The liboaf Library"
HREF="book1.html"><LINK
REL="UP"
TITLE=".oafinfo file format reference"
HREF="oafinfo-ref.html"><LINK
REL="PREVIOUS"
TITLE=".oafinfo file format reference"
HREF="oafinfo-ref.html"><LINK
REL="NEXT"
TITLE="Migrating from gnorba to OAF"
HREF="migrating.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
BGCOLOR="#000000"
CELLPADDING="1"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="5"
>The liboaf Library</FONT
></TH
></TR
><TR
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="left"
><A
HREF="oafinfo-ref.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>&#60;&#60;&#60; Previous Page</B
></FONT
></A
></TD
><TD
WIDTH="25%"
BGCOLOR="#0000C0"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="book1.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Home</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#00C000"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="oafinfo-ref.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Up</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="right"
><A
HREF="migrating.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Next Page &#62;&#62;&#62;</B
></FONT
></A
></TD
></TR
></TABLE
></DIV
><BR
CLEAR="all"><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="ATTRIBUTE-TAG"
>The &lt;oaf_attribute&#62; tag</A
></H1
><P
>Defining servers is useful (that is what .goad files did light-years ago)  but to 
use all the power of OAF (ie: queries ;-), you have to define <I
CLASS="EMPHASIS"
>oaf_attributes</I
> 
for each of those <I
CLASS="EMPHASIS"
>oaf_server</I
> entries. 
An example is worth all words.
<TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>&lt;oaf_info&#62;

&lt;oaf_server iid="OAFIID:demo_echo_factory:a7080731-d06c-42d2-852e-179c538f6ee5"
  type="exe" location="bonobo-echo"&#62;
&lt;oaf_attribute name="repo_ids" type="stringv"&#62;
&lt;item value="IDL:GNOME/GenericFactory:1.0"/&#62;
&lt;/oaf_attribute&#62;
&lt;oaf_attribute name="name" type="string" value="Echo component factory"/&#62;
&lt;oaf_attribute name="description" type="string" value="Bonobo Echo server factory"/&#62;
&lt;/oaf_server&#62;

&lt;oaf_server iid="OAFIID:demo_echo:fe45dab2-ae27-45e9-943d-34a49eefca96"
  type="factory" location="OAFIID:demo_echo_factory:a7080731-d06c-42d2-852e-179c538f6ee5"&#62;
&lt;oaf_attribute name="repo_ids" type="stringv"&#62;
&lt;item value="IDL:Demo/Echo:1.0"/&#62;
&lt;/oaf_attribute&#62;
&lt;oaf_attribute name="name" type="string" value="Echo component"/&#62;
&lt;oaf_attribute name="description" type="string" value="Bonobo Echo server sample program"/&#62;
&lt;/oaf_server&#62;

&lt;/oaf_info&#62;</PRE
></TD
></TR
></TABLE
>
Each oaf_server entry defines a set of attributes. 
Each attribute has a given name, type and value. The types of the attributes are those defined in the 
OAF query langage reference (<A
HREF="query-syntax.html#OAF-QUERY-REF-TYPES"
>the section called <I
>Constants</I
> in the chapter called <I
>OAF Query Langage</I
></A
>). Type name should
be non-caps.</P
><P
><I
CLASS="EMPHASIS"
>stringv</I
> types value is represented as follows:
<TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>&lt;oaf_attribute name="repo_ids" type="stringv"&#62;
&lt;item value="IDL:GNOME/GenericFactory:1.0"/&#62;
&lt;/oaf_attribute&#62;</PRE
></TD
></TR
></TABLE
>
All other types' values are simply in the <I
CLASS="EMPHASIS"
>value</I
> field.</P
><P
>A certain number of attributes have been normalized for OAF. Some of them are mandatory.
Their list follows.

	<DIV
CLASS="TABLE"
><A
NAME="AEN337"
></A
><P
><B
>Table 1. Normalized attributes</B
></P
><TABLE
BORDER="1"
BGCOLOR="#FFFFFF"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><THEAD
><TR
><TH
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>Attribute name</TH
><TH
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>Type</TH
><TH
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>Signification</TH
><TH
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>Mandatory ?</TH
></TR
></THEAD
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>repo_ids</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>stringv</TD
><TD
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>the list of all IDL interfaces this component implements</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>yes</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>description</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>string</TD
><TD
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>a human readable string describing what the component can do</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>yes</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>name</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>string</TD
><TD
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>a short name for the component</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>yes</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>bonobo:editable</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>boolean</TD
><TD
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>if component allows editing of its content</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>no</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>bonobo:supported_mime_types</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>stringv</TD
><TD
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>a list of mime types this
  component understands as input. In addition to specific mime types,
  it is possible to include supertypes (e.g. "image/*" or "text/*") or
  "*/*" to indicate the component can display any mime
  type. Specifying "*/*" is only necessary if "supported_uri_schemes"
  is not specified, otherwise it is assumed. This only really makes
  sense if the component implements one of the following interfaces:
  Bonobo::PersistStream, Bonobo::ProgressiveDataSink, Nautilus::View.</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>no</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>bonobo:supported_uri_schemes</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>stringv</TD
><TD
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>a list of protocols this
  component knows how to handle. This only really makes sense if the
  component implements one of the following interfaces:
  Bonobo::PersistFile or Nautilus::View</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>no</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>nautilus:view_as_name</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>string</TD
><TD
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>a suitable name for use as a view
as name (it will be displayed as "View as &lt;foo&#62;" where &lt;foo&#62; is the
name). This must be implemented by any Bonobo Embeddables
or Controls that can be used as Nautilus views (for the content in
the main window, not in the sidebar).</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>no</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>nautilus:required_directory_content_mime_types</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>stringv</TD
><TD
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>if the
component is to be activated on a URI with mime type
special/directory, it is only really applicable if the directory
contains one of these mime types. As before, supertypes like "audio/*"
are allowed. If this attribute is omitted, "*/*" is assumed.</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>no</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>nautilus:required_uri_tester</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>string</TD
><TD
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>this specifies the OAFIID
of a component that implements the Nautilus::URITester interface (see
proposal below). If the criteria established by all the other
attributes are satisfied, an object with that OAFIID should be
activated and its is_applicable() method should be called on the URI
to test if it this component _really_, _really_ applies to the given
URI. This should be used as a last resort. (Not yet implemented.)</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>no</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>nautilus:sidebar_panel_name</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>string</TD
><TD
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>a suitable name for use as
a sidebar panel label name. This must be implemented by any Bonobo
Controls that can be used as a Nautilus sidebar view.</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>no</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="LEFT"
VALIGN="TOP"
>nautilus:recommended_uri_schemes</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>string</TD
><TD
WIDTH="67%"
ALIGN="LEFT"
VALIGN="TOP"
>the URI schemes this
meta view is most recommended for. If "*" is included, this component
is recommended for all schemes. If omitted or empty, it is not
recommended for any. (Not yet implemented.)</TD
><TD
WIDTH="7%"
ALIGN="LEFT"
VALIGN="TOP"
>no</TD
></TR
></TBODY
></TABLE
></DIV
></P
><P
>  If <I
CLASS="EMPHASIS"
>bonobo:supported_uri_schemes</I
> is specified but
<I
CLASS="EMPHASIS"
>bonobo:supported_mime_types</I
> is not, it is assumed the component can
handle any type of data that might come via that protocol. Some
schemes may not even have an associated mime type for any given URI,
for instance irc: or news:</P
><P
>  If <I
CLASS="EMPHASIS"
>bonobo:supported_mime_types</I
> is specified but
<I
CLASS="EMPHASIS"
>bonobo:supported_uri_schemes</I
> is not, the component is assumed to be
able to handle all common URI schemes (possible definition: anything
gnome-vfs can handle).</P
><P
>  If neither <I
CLASS="EMPHASIS"
>bonobo:supported_uri_schemes</I
> nor
<I
CLASS="EMPHASIS"
>bonobo:supported_mime_types</I
> is specified, it is assumed the
component cannot handle any data at all in a general way and should
never be generically selected for such purposes.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><BR
CLEAR="all"><BR><TABLE
WIDTH="100%"
BORDER="0"
BGCOLOR="#000000"
CELLPADDING="1"
CELLSPACING="0"
><TR
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="left"
><A
HREF="oafinfo-ref.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>&#60;&#60;&#60; Previous Page</B
></FONT
></A
></TD
><TD
WIDTH="25%"
BGCOLOR="#0000C0"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="book1.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Home</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#00C000"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="oafinfo-ref.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Up</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="right"
><A
HREF="migrating.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Next Page &#62;&#62;&#62;</B
></FONT
></A
></TD
></TR
><TR
><TD
COLSPAN="2"
ALIGN="left"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><TT
CLASS="FILENAME"
>.oafinfo</TT
> file format reference</B
></FONT
></TD
><TD
COLSPAN="2"
ALIGN="right"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Migrating from gnorba to OAF</B
></FONT
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>