2002-01-18  Maciej Stachowiak  <mjs@noisehavoc.org>

	* NEWS, configure.in: Updated for 0.6.8.

2002-01-04  Pablo Saratxaga  <pablo@mandrakesoft.com>

        * configure.in: Added "eu" to ALL_LINGUAS

2001-12-07  Laszlo Peter  <laca@ireland.sun.com>

	* configure.in, test/oaf-slay.in: fix detection of the username.

2001-11-16  Michael Meeks  <michael@ximian.com>

	* oafd/od-corba.c (impl_OAF_ObjectDirectory_activate):
	fix for mutliple activations causing grief issues ...

2001-11-09  Wang Jian  <lark@linux.net.cn>

	* configure.in(ALL_LINGUAS): Added zh_CN.

2001-10-26  Maciej Stachowiak  <mjs@noisehavoc.org>

	* NEWS, configure.in: Updated for 0.6.7
	* api-docs/Makefile.am: Fix distcheck.

2001-10-25  Yanko Kaneti  <yaneti@declera.com>

        * configure.in (ALL_LINGUAS): Added "bg" bulgarian to the language list

2001-10-13  Carlos Perelló Marín <carlos@gnome-db.org>

        * configure.in (ALL_LINGUAS): Added pt

2001-10-11  Carlos Perelló Marín <carlos@gnome-db.org>

	* oafd/main.c: /s/oafinfo/oaf/

2001-10-11  Darin Adler  <darin@bentspoon.com>

	* oafd/ac-query-parse.y: Remove the definition of
	YYSTACK_USE_ALLOCA. As Elliot says, it's not legal according to
	the bison documentation, and we really have no need to insist on
	the use or the non-use of alloca.

	* oafd/od-utils.c: (od_utils_load_config_file): Fix a bug where
	it would segfault if the config file was badly formed.

2001-10-10  Chris Toshok  <toshok@ximian.com>

	* liboaf/oaf-fork-server.c
	(oaf_internal_server_by_forking_extended): make sure to set the
	signal mask back to the old one in the child as well, so SIGCHLD
	isn't blocked.  Fixes evolution hanging out startup on freebsd.

2001-09-27  Maciej Stachowiak  <mjs@noisehavoc.org>

	* liboaf/oaf-registration.c: (rloc_file_lock): Open the lock file
	read/write, not read-only, so getting a write lock succeeds. Moral
	of the story: always check error codes from syscalls!

	* docs/oaf.dtd: Put back this accidentally removed file.

2001-09-25  Jody Goldberg <jgoldberg@home.com>

	* test/oaf-slay.in : Do not kill processes that just have a server
	  name somewhere on the command line.  eg vi server/main.c

2001-09-12  Darin Adler  <darin@bentspoon.com>

	* oafd/ac-corba.c: Add a missing include of config.h.

2001-09-03  Maciej Stachowiak  <mjs@noisehavoc.org>

	* liboaf/oaf-fork-server.c:
	* oafd/OAF_naming-service.oaf.in: Restored files that somehow got
	removed in merge.

2001-09-03  Maciej Stachowiak  <mjs@noisehavoc.org>

	Copy stable branch to HEAD (not a merge - just make everything
	exactly like the stable branch).

2001-09-03  Maciej Stachowiak  <mjs@noisehavoc.org>

	Remaining desirable changes from HEAD:

	* configure.in: Add missing languages.

	2001-06-25  Michael Meeks  <michael@ximian.com>

	* oafd/od-corba.c (od_dump_list): don't dump properties
	containing a '-' they are most likely going to screw the
	terminal.

	2001-03-22  Martin Baulig  <baulig@suse.de>

	* liboaf/*.[ch]: constness fixes

	2001-06-14  Elliot Lee  <sopwith@redhat.com>

	* oafd/main.c: Wait until after we have written our IOR out to close dev_null_fd,
	in the unlikely event that someone wants to output the IOR to pre-dev_null_fd stdout or
	somesuch.

	2001-03-23  Martin Baulig  <baulig@suse.de>

	* oafd/main.c: Call xmlKeepBlanksDefault(0) for the moment.

	2001-07-12  Darin Adler  <darin@bentspoon.com>

	* oafd/main.c: (main): Don't close the fd if we didn't open it.

	2001-05-18  Martin Baulig  <baulig@suse.de>

	* oafd/main.c (main): We need to call oaf_init() before creating
	a GMainLoop to make sure the thread system is initialized.

	2001-03-22  Martin Baulig  <baulig@suse.de>

	* oafd/main.c: Call LIBXML_TEST_VERSION.

2001-09-03  Maciej Stachowiak  <mjs@noisehavoc.org>

	Merged some more useful changes from HEAD:

	2001-07-30  Michael Meeks  <michael@ximian.com>

	* liboaf/oaf-plugin.c (oaf_server_activate_shlib): fire an
	exception if the factory acts strangely, and returns NIL
	when it should create an object - yet threw no exception.

	2001-07-27  Michael Meeks  <michael@ximian.com>

	* liboaf/oaf-plugin.c (oaf_server_activate_shlib): fire an
	exception if the library didn't contain the plugin we wanted.
	Localise exception strings.

	2001-05-08  Michael Meeks  <michael@ximian.com>

	* liboaf/oaf-plugin.c (oaf_server_activate_shlib): 
	return some half way useful exceptions.

	2001-06-25  Michael Meeks  <michael@ximian.com>

	* liboaf/oaf-fork-server.c (oaf_server_by_forking): add
	more debug on failure case.

	2001-06-20  Michael Meeks  <michael@ximian.com>

	* oafd/Makefile.am: add orbit-idl dependency on idl.

	2001-06-14  Elliot Lee  <sopwith@redhat.com>

	* oafd/Makefile.am: OAF_*.oaf is a BUILT_SOURCE

2001-09-03  Maciej Stachowiak  <mjs@noisehavoc.org>

	Merged some useful changes from HEAD:

	2001-07-12  Laszlo Peter  <laca@ireland.sun.com>

	* oafd/qsort_ex.c: added #include <config.h> and
	#include <alloca.h> for portability.

	2001-03-22  Martin Baulig  <baulig@suse.de>

	* liboaf/liboaf-private.h, liboaf/oaf-mainloop.c,
	liboaf/oaf-util.c, oafd/ac-query-expr.c,
	oafd/oafd-corba-extensions.c, oafd/qsort_ex.c,
	test/oaf-test-client.c: #include <string.h> where it was missing.

	2001-07-19  Michael Meeks  <michael@ximian.com>

	* liboaf/oaf-servreg.c (oaf_active_server_register): quiet
	registration debug accidentaly left on.

2001-08-31  Abel Cheung  <maddog@linux.org.hk>

	* configure.in (ALL_LINGUAS): zh_TW.Big5 -> zh_TW

2001-08-27  Gregory Leblanc  <gleblanc@linuxweasel.com>

	* oaf.spec.in: lots of updates, see ChangeLog inside of the file
	for details

2001-08-26  Maciej Stachowiak  <mjs@noisehavoc.org>

	* api-docs/Makefile.am: Fixed doc build up a little. Don't install
	the html files, but do distribute them.

	* api-docs/tmpl/query.sgml,
	api-docs/tmpl/registration.sgml,
	api-docs/tmpl/utilities.sgml: Updated.

	* NEWS: Fix typo.

2001-08-20  Maciej Stachowiak  <mjs@noisehavoc.org>

	* NEWS: Updated for 0.6.6 release.

2001-08-20  Maciej Stachowiak  <mjs@noisehavoc.org>

	* test/Makefile.am, test/empty.oafinfo, test/oaf-test-client.c
	(main): Fix problems which were making `make check' fail.

2001-08-19  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "ta" to the languages list.

2001-08-10  jacob berkman  <jacob@ximian.com>

	* liboaf/oaf-plugin.c (oaf_server_activate_shlib): include the
	error message from gmodule in the oaf GeneralError's description

2001-08-09  Dan Winship  <danw@ximian.com>

	* configure.in: Find paths for perl and ps. Figure out if ps is
	BSD or POSIX.
	(AC_OUTPUT): Add test/oaf-slay.

	* test/oaf-slay.in: (Moved here from oaf-slay). Use perl and ps
	info from configure. Handle OAF_INFO_PATH and GNOME_PATH properly.

	* test/Makefile.am (bin_SCRIPTS, EXTRA_SCRIPTS, EXTRA_DIST): Tweak
	for the oaf-slay -> oaf-slay.in change.

2001-08-09  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added "zh_TW.Big5" to ALL_LINGUAS.
	
2001-08-07  Maciej Stachowiak  <mjs@noisehavoc.org>

	* oafd/ac-query-parse.y: Add prototype to fix OpenBSD build
	issues; patch from <smallm@world.std.com>

2001-07-20  Havoc Pennington  <hp@redhat.com>

	* oafd/main.c (main): become a process group leader
	on startup

	* oafd/od-activate.c (od_server_activate_exe): use 
	oaf_internal_server_by_forking_extended() to set process group
	of activated servers

	* liboaf/oaf-fork-server.c
	(oaf_internal_server_by_forking_extended): 
	new function to allow setting process group of the child

2001-07-20  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-corba.c: (impl_OAF_ActivationContext_remove_directory),
	(ac_do_activation), (impl_OAF_ActivationContext_activate),
	(impl_OAF_ActivationContext_activate_from_id):
	* oafd/client.c: (main):
	* oafd/od-corba.c: (impl_OAF_ObjectDirectory_activate):

	Improve error reporting.

2001-07-20  Richard Hult  <rhult@codefactory.se>

	* liboaf/oaf-activate.c (oaf_activate_from_id): Move the code that
	makes sure we have a CORBA_Environment over things that use ev, so
	that we don't pass a NULL environment to things that can't handle
	it (like CORBA_Object_non_existent).
	(oaf_activate_from_id): Fix a leak of a CORBA_Environment that the
	previous commit introduced.

2001-07-16  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added "nn" to ALL_LINGUAS.
	
2001-07-09  Havoc Pennington  <hp@redhat.com>

	* liboaf/oaf-activate.c (oaf_activate_from_id): use below
	functions to report error properly if we can't fork oafd. Don't
	launch oafd if EXISTING_ONLY flag is specified.
	
	* liboaf/oaf-mainloop.c
	(oaf_internal_activation_context_get_extended): another
	internal function hack

	* liboaf/oaf-registration.c
	(oaf_internal_service_get_extended): new function, 
	to be used internally by OAF only for now

2001-07-13  Richard Hult  <rhult@codefactory.se>

	* liboaf/oaf-registration.c (rloc_file_check): Don't write the
	string to unallocated memory, and use g_strdup_printf instead of 
	sprintf. Don't access namecopy after it's freed.

2001-06-14  Peter Williams  <peterw@ximian.com>

	* configure.in (AC_CHECK_FUNCS): Check for unsetenv.

	* oafd/main.c (main): If the platform doesn't have unsetenv,
	use putenv ("SESSION_MANAGER=");

	Patch from Laszlo Peter <Laszlo.Peter@ireland.sun.com>
	
2001-06-10  Maciej Stachowiak  <mjs@eazel.com>

        Fixed bug 2142 (environment variable for component debugging)
	
	* liboaf/oaf-servreg.c (oaf_active_server_register): Print a
	message when a component registers; this will only be actually
	displayed when OAF_DEBUG_OUTPUT is set.

2001-06-10  Maciej Stachowiak  <mjs@eazel.com>

	Fixed bug 6532 (configure should reject popt versions that lack
	POPT_ARG_INTL_DOMAIN)

	* configure.in: Check for poptDupArgv instead of poptGetContext to
	ensure a popt new enough to have POPT_ARG_INTL_DOMAIN.

2001-06-10  Maciej Stachowiak  <mjs@eazel.com>

	Fix bug 6217 (liboaf/oaf-registration.c sloppiness)
	
	* liboaf/oaf-registration.c: (rloc_file_lock, rloc_file_check,
	rloc_file_register, rloc_file_unregister): Fixed numerous minor
	bugs which could lead to buffer overflows, etc.

2001-05-22  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-mainloop.c: Documented oaf_activation_iid_get().

2001-05-22  Darin Adler  <darin@eazel.com>

	* acinclude.m4: Add BUILD_INCLUDED_LIBDIR variable so we
	can build with new gettext.

2001-05-14  Maciej Stachowiak  <mjs@eazel.com>

	* MAINTAINERS: Remove Michael, per his request.

2001-05-09  Darin Adler  <darin@eazel.com>

	* test/Makefile.am: Make Tinderbox happy by including
	oaf-slay in EXTRA_DIST.

2001-05-09  Michael Meeks  <michael@ximian.com>

	* test/Makefile.am: remove oaf-slay generation.

	* test/oaf-slay: Totaly re-written by
	Brian Cameron <Brian.Cameron@Sun.COM>

2001-05-08  Michael Meeks  <michael@ximian.com>

	* liboaf/oaf-plugin.c (oaf_server_activate_shlib): 
	return some half way useful exceptions.

2001-04-21  Kjartan Maraas  <kmaraas@gnome.org>

	* liboaf/oaf-async-corba.c: Added #include <config.h>
	
2001-04-19  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-servreg.c (oaf_active_server_register): Minor style
	fixes.

2001-04-18  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-servreg.c (oaf_active_server_register): Remove
	unnecessary attempt to get activation context; getting the object
	directory should be perfectly sufficient for starting oafd.

2001-04-18  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/liboaf-private.h:
	* liboaf/oaf-activate.c: (oaf_activate_from_id):
	* liboaf/oaf-async.c: (oaf_activate_from_id_async):
	* liboaf/oaf-mainloop.c: (oaf_activation_context_get),
	(oaf_object_directory_get):
	* liboaf/oaf-registration.c: (oaf_registration_check),
	(oaf_registration_iterate), (existing_check), (oaf_existing_set),
	(oaf_activators_use):
	* liboaf/oaf-registration.h:
	* liboaf/oaf-servreg.c: (oaf_active_server_register),
	(oaf_active_server_unregister):

	More changes in preparation for oafd life cycle management fixes.
	
2001-04-18  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/Makefile.am:
	* liboaf/oaf-activate.c: (oaf_activate_from_id):
	* liboaf/oaf-async.c: (oaf_activate_from_id_async):
	* liboaf/oaf-mainloop.c: (oaf_activation_context_get),
	(cmdline_check), (ac_check), (local_activator), (oaf_postinit):
	* liboaf/oaf-registration.c: (ri_compare),
	(oaf_registration_location_add), (oaf_registration_check),
	(oaf_registration_iterate), (oaf_registries_lock),
	(oaf_registries_unlock), (oaf_registration_unset),
	(oaf_registration_set), (existing_check), (oaf_existing_set),
	(ai_compare), (oaf_registration_activator_add),
	(oaf_activators_use), (oaf_service_get), (rloc_file_lock),
	(rloc_file_unlock), (rloc_file_check), (rloc_file_register),
	(rloc_file_unregister):
	* liboaf/oaf-registration.h:
	* liboaf/oaf-servreg.c: (oaf_active_server_register),
	(oaf_active_server_unregister): 
	* liboaf/oaf-fork-server.c:

	Assorted refactoring / code churn, plus attempt to fix 6218
	(SOLARIS: Multiple oafd processes) by fixing some obvious bugs in
	the locking logic.

2001-04-17  Darin Adler  <darin@eazel.com>

	* liboaf/Makefile.am: Another try at a dependency that
	might get the Tinderbox to build.

2001-04-17  Darin Adler  <darin@eazel.com>

	* liboaf/Makefile.am: Add more dependencies. Maybe this
	will make that Tinderbox build.

2001-04-17  Darin Adler  <darin@eazel.com>

	* idl/oaf.idl: Add missing parenthesis.
	* liboaf/Makefile.am: Tweak a tiny bit.

2001-04-17  Darin Adler  <darin@eazel.com>

	* oafd/Makefile.am: Must remove the stamp files too, or you
	end up with a tarball that won't build.

2001-04-17  Michael Meeks  <michael@ximian.com>

	* oafd/Makefile.am (dist-hook): remove built files from distro.

	* liboaf/Makefile.am: ditto.

2001-04-13  Peter Williams  <peterw@ximian.com>

	* oafd/main.c (main): Unset "SESSION_MANAGER" to prevent slow
	activations if oafd persists across X sessions, Otherwise, spawned
	programs inherit a bad SESSION_MANAGER and waste time trying to
	connect to it.

2001-03-22  Robey Pointer  <robey@eazel.com>

	* api-docs/Makefile.am:
	Let 'make install' work when gtk-doc support is off.

2001-03-15  Rusty Conover  <rconover@zootweb.com>

	* idl/oaf.idl: Added proper preprocessor magic to allow other apps
	to include oaf.idl in their idl.

2001-03-01  Robin * Slomkowski  <rslomkow@eazel.com>

	* NEWS: updated that I am fixing the perl5.00404 mistake
	* configure.in: updated development version to 0.6.6

2001-03-01  Seth Nickell  <seth@eazel.com>

	reviewed by: Maciej Stachowiak <mjs@eazel.com>

	* oafd/od-activate.c: (od_server_activate_exe):

	Add casts to guchar to all isspace calls so 
	they'll compile on Solaris. Fix bug #7199.
	
2001-02-26  Robin * Slomkowski  <rslomkow@rslomkow.org>

	* NEWS: updated file from the ChangeLog

2001-02-26  Robin * Slomkowski  <rslomkow@rslomkow.org>

	* configure.in: upped version to 0.6.5 for development

2001-02-26  Robin * Slomkowski  <rslomkow@rslomkow.org>

	* configure.in: upped the version to 0.6.4 for release

2001-02-26  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Robey Pointer  <robey@eazel.com>

	Fixed bugzilla.eazel.com bug 6981 (Unregistering servers causes
	failure when activating a re-registered version), AKA
	bugzilla.ximian.com bug 1559

	* liboaf/oaf-servreg.c (oaf_active_server_register): Call the
	ObjectDirectory registration method _before_ returning the IOR to
	avoid a race condition when activating the same server twice in
	rapid succession. This fixes the bugs above.

	* docs/standard-attributes.txt: Document new attributes.

2001-02-20  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: George Lebl  <jirka@5z.com>

	Fixed bug 6728 (inherited file descriptors stymie automounter)

	* oafd/main.c (main): Replace stdin, stdout and stderr with
	/dev/null to avoid automounter problems when these are redirected
	by the OS to a log file. However, do not do this if
	OAF_DEBUG_OUTPUT is set to a non-empty value, so that there is
	still a way to get debug output.

2001-02-15  Darin Adler  <darin@eazel.com>

	* liboaf/oaf-mainloop.c: (oaf_get_popt_table_name):
	Fix "OAF Options" to be "OAF options" to match all the other
	popt option sections which use lower case (except GNOME).

2001-02-15  Dan Damian  <dand@dnttm.ro>

	* configure.in (ALL_LINGUAS): added "ro" (Romanian".

2001-02-14  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in, NEWS: Updated for 0.6.3

2001-02-07  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Pavel Cisler  <pavel@eazel.com>

	Fix bug 6266 (oafd process size frows as you use Nautilus). Two of
	these leak fixes are from a patch by <migras@atlas.uvigo.se>. In
	the process fixed 2728 (Memory leak to avoid segfaulting) - turns
	out it is now safe to free.

	* oafd/ac-corba.c (ac_query_run): Free the requirements and sort
	item query expressions when done (thanks to <migras@atlas.uvigo.se>).
	
	(impl_OAF_ActivationContext_activate_from_id): Free requirements
	string.
	
	(impl_OAF_ActivationContext_activate_from_id_async): Free
	requirements string.

	* oafd/ac-query-expr.c (qexp_free): Free function name for functions.
	
	(qexp_function_new): turn wacky for loop into equivalent while loop

	(qexp_evaluate_id): Set needs_free to TRUE (thanks to
	<migras@atlas.uvigo.se>).
	
	* oafd/ac-query-lex.l, oafd/ac-query-parse.y: Reformatted a bit.

2001-02-06  Maciej Stachowiak  <mjs@eazel.com>

	* Makefile.am: Put .in versions xml-i18n-tools in EXTRA_DIST.
	* .cvsignore: Add .in versions of xml-i18n-tools.

2001-02-05  Gustavo Maciel Dias Vieira  <gdvieira@zaz.com.br>

	* configure.in (ALL_LINGUAS): Added pt_BR to ALL_LINGUAS.

2001-02-03  Michael Meeks  <michael@helixcode.com>

	* test/oaf-slay.tmpl: cope with SunOS elegantly.

2001-02-01  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Robey Pointer  <robey@eazel.com>

	* liboaf/liboaf.h: Move oaf_popt_options to oaf-mainloop.h *
	liboaf/oaf-mainloop.h, liboaf/oaf-mainloop.c
	(oaf_get_popt_table_name): New call to get the proper name for the
	oaf options table (a translated copy of the string "OAF Options").

2001-02-01  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Darin Adler  <darin@eazel.com>

	Changes to help fix bug 5510 (descriptions of OAF-specific options
	in --help are not translated).

	* liboaf/Makefile.am: pass OAF_TEXTDOMAIN define.
	* liboaf/oaf-mainloop.c: (oaf_init): Call bindtextdomain so popt
	options etc get translated right.

2001-01-31  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Ian McKellar  <ian@eazel.com>

	Fix bug 6170 (OAF should have an easy way to prefer components
	according to a prioritized preference list on query or activate)
	
	* oafd/ac-query-expr.c: (qexp_func_prefer_by_list_order): Add a
	new query language operator to allow sorting results according to
	an explicit preference list.
	(qexp_constant_compare): Fix comparing numeric constants. The
	previous version was numerically unstable and would give
	inconsistent results when comparing two equal numbers (such as -1
	to -1, as revealed by the change above).

	* api-docs/query-langage.sgml, docs/query-language.txt: Document
	the new operator.

2001-01-31  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/main.c (main): Change working directory to "/" on startup
	to fix bug 6059 (oafd's cwd stymies automounter), patch from
	Wolfgang Sourdeau <wolfgang@ultim.net>
	
2001-01-25  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Darin Adler  <darin@eazel.com>
	
	* liboaf/oaf-plugin.c (oaf_plugin_unuse): Defer unloading shlib to
	idle time to fix 2736 (shared libraries for components will never
	be unloaded).
	
	(oaf_plugin_real_unuse): The idle handler. 

2001-01-23  Maciej Stachowiak  <mjs@eazel.com>

	* NEWS: Updated for 0.6.2
	* configure.in: Bumped version to 0.6.2

2001-01-19  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added sk (Slovak) to ALL_LINGUAS.

2001-01-09  Darin Adler  <darin@eazel.com>

	* .cvsignore:
	* po/.cvsignore:
	Shh!

2001-01-09  Darin Adler  <darin@eazel.com>

	* liboaf/oaf-mainloop.c: Added i18n domain to popt options.

2001-01-03  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: George Lebl  <jirka@5z.com>

	Part of the fix to bug 2693 (Localizers don't know how to localize
	.oafinfo); make .oaf files translatable through the normal po
	mechanism.
	
	* autogen.sh, configure.in: Enable oaf-xml-i18n-tools
	* oafd/OAF_naming-service.oaf.in: Renamed from oafd.oafinfo, added
	* oafd/Makefile.am: Add translation merge rule.
	* po/POTFILES.in: Added oafd/OAF_naming-service.oaf.in
	* xml-i18n-extract, xml-i18n-merge: Remove (now using copies we
	get from xml-i18n-toolize).

2001-01-01  Ali Abdin  <aliabdin@aucegypt.edu>

        This is the 'manual eyeball' technique to fixing memory leaks - also
        known as "I don't need no steenkin' memprof".

        * liboaf/oaf_async.c:
        (oaf_activate_async): Free the 'ext_requirements' variable before
        returning.

        * oafd/ac-corba.c:
        (impl_OAF_ActivationContext_activate_async): Free 'hostname' when
        done with it.
        (impl_OAF_ActivationContext_activate_from_id_async): Free
        'requirements' if we get an exception.

        * oafd/od-corba.c:
        (od_get_active_server): Free 'display' variable when done with it.

2000-12-30  Ali Abdin  <aliabdin@aucegypt.edu>

	We now save a whopping 28 bytes with this fix (according to
	memprof)

	* oafd/od-utils.c (od_utils_load_xml_file): Free a leaked
	string.

	* oafd/main.c (main): ditto.

2000-12-28  Michael Meeks  <michael@helixcode.com>

	* test/oaf-slay.tmpl: Reverse grep on type="shlib" so we don't
	go round trying to kill shared libraries.

2000-12-24  Ali Abdin  <aliabdin@aucegypt.edu>

	* oafd/od-load.c (od_load_directory): Free the pathname. It was
	  getting leaked.

2000-12-19  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Rebecca Schulman  <rebecka@eazel.com>

	* xml-i18n-merge: Entity-encode the translated strings, to avoid
	possible XML parsing problems. This is really the wrong way to
	handle things - the encoding should be converted to UTF-8 and the
	characters should be entity encoded as UTF-8 multibyte chars, not
	bytes. But this should work OK for now.
	
2000-12-19  Maciej Stachowiak  <mjs@eazel.com>

	* xml-i18n-extract, xml-i18n-merge: First cut of translation
	extraction and merge tools, based on Kenneth Christiansen's
	ui-xml-extract.pl. The merge tool still needs to deal with
	different character sets and both need a better home.

2000-11-29  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/liboaf.h: Make definition of oaf_popt_options
	unconditional.

2000-11-28  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Reject libxml 2.x and other unknown libxml
	versions to fix bug 1956 (oaf config does not reject libxml 2).

2000-11-28  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/liboaf.h: Made inclusion of popt.h and definition of the
	popt argument table unconditional, fixing bug 1291 (liboaf.h
	include isn't standalone). OAF depends on popt anyway so the
	reason for the optionality was unclear.
	* docs/oaf.dtd: Added DTD for oafinfo files.
	* oafd/oafd.oafinfo: Improved formatting.

2000-11-24  Michael Meeks  <michael@helixcode.com>

	* oafd/od-utils.c (od_utils_load_config_file): fix leak.

2000-11-22  Maciej Stachowiak  <mjs@eazel.com>

	reviewed by: Mathieu Lacage  <mathieu@eazel.com>

	* oafd/od-load.c:
	(OAF_ServerInfo_load): Massively refactored and cleaned up for
	style. Also, made the loader accept ".oaf" as well as ".oafinfo"
	files.
	(od_entry_read_props, od_validate, od_process_server_xml_node,
	od_load_file, od_load_directory, od_string_to_boolean,
	od_filename_has_extension): New and updated helper functions.
	* oafd/oafd.h: Changed prototype for OAF_ServerInfo_load
	* oafd/od-corba.c: (update_registry): Fixed call to OAF_ServerInfo_load
	
	* oafd/ac-corba.c (ac_context_to_string_array): Removed out of
	date FIXME comment.

2000-11-21  Mathieu Lacage  <mathieu@eazel.com>

	* liboaf/oaf-servreg.h: once more, add correct includes.

2000-11-21  Mathieu Lacage  <mathieu@eazel.com>

	add corrct includes within the header file.
	* liboaf/oaf-activate.h:

2000-11-21  Mathieu Lacage  <mathieu@eazel.com>

	Patch from John R. Sheets <dusk@ravendusk.org>
	* api-docs/architecture.sgml:
	* api-docs/configuring.sgml:
	* api-docs/migrating.sgml:
	* api-docs/oafinfo-ref.sgml:
	* api-docs/query-langage.sgml:
	* api-docs/tutorial.sgml:

2000-11-16  Elliot Lee  <sopwith@redhat.com>

	* (oaf_server_by_forking) Use $OAF_OD_IOR environment variable
	instead of --oaf-od-ior cmdline arg.

2000-11-16  Mathieu Lacage  <mathieu@eazel.com>

	Fix bug 4658
	* api-docs/Makefile.am: add new doc file.
	* api-docs/liboaf-decl.txt: add declarations of new API.
	* api-docs/liboaf-sections.txt: add declaration of new file.
	* api-docs/liboaf.sgml: add ref to new API.
	* api-docs/tmpl/debugging.sgml: new doc file.	
	* liboaf/oaf-activate.c: (oaf_get_test_components_enabled):
	add proper API doc.

2000-11-12  Jason Leach  <leach@wam.umd.edu>

	* oafd/Makefile.am (LDADD): added @INTLLIBS@ because some
	platforms don't do -lintl automatically.  From the bug reports
	listed below.

	* utils/Makefile.am (LDADD): same here.

	* configure.in: don't need to AC_CHECK_FUNC strsignal here anymore

	* liboaf/oaf-registration.c (oaf_strsignal): remove this function
	(actually it's just a define to strsignal or a
	not-totally-portable replacement function for systems without
	strsignal.h).  Fixes bugs.gnome.org reports #10807, #17146, and
	#31298.

	* liboaf/oaf-registration.c (oaf_server_by_forking): replace a
	oaf_strsignal() call with a g_strsignal().

2000-11-09  Josh Barrow  <josh@eazel.com>

	* liboaf/oaf-activate.c:
	* oafd/ac-corba.c: (ac_aid_to_query_string):
	Put bug numbers to the only FIXMEs.

2000-11-09  Darin Adler  <darin@eazel.com>

	Do the recommended (by DV) steps to make oaf ready for either
	gnome-xml 1.X or gnome-xml 2.X, to save us some work later.

	* oafd/main.c: (main): Use LIBXML_TEST_VERSION macro.

	* oafd/od-load.c: (od_entry_read_props), (OAF_ServerInfo_load):
	* oafd/od-utils.c: (od_utils_load_config_file):
	* utils/oaf-sysconf.c: (add_directory), (remove_directory),
	(display_directories):
	Use xmlChildrenNode instead of childs and xmlRootNode instead
	of root.

2000-11-08  Eskil Heyn Olsen  <eskil@eazel.com>

	* oafd/main.c:
	#include <locale.h> for setlocale

2000-11-08  Szabolcs BAN <shooby@gnome.hu>

	* configure.in: Initial support of Hungarian language.

2000-11-08  Michael Meeks  <michael@helixcode.com>

	* test/oaf-slay.tmpl: kill apps with the 'lt-' prefix as well.

	* test/Makefile.am (check): impl. overriding autoconf version,
	setup the OAF_INFO_PATH and the PATH to avoid needing to install
	stuff.

2000-09-07  Michael Meeks  <michael@helixcode.com>

	* test/oaf-slay.tmpl: add kill of lt-app-name as well as
	just app-name.

2000-11-06  Maciej Stachowiak  <mjs@eazel.com>

	* NEWS, configure.in: Updated for 0.6.1

2000-11-03  Kjartan Maraas  <kmaraas@gnome.org>

	* oafd/main.c: (main): Added a call to setlocale(LC_ALL, "");
	to fix problems caused by glibc-2.1.9x and newer assuming
	US-ASCII locale without it.
	
2000-10-31  Darin Adler  <darin@eazel.com>

	* oaf.spec.in: Got rid of vendor field. Checking these in is a
	bad idea. Also turned off "check" since "make check" doesn't
	work for oaf at the moment.

2000-10-31  Darin Adler  <darin@eazel.com>

	* configure.in: Fix compile check so it properly detects the state
	of gcc options.
	* oaf.spec.in: Added Vendor field to build and turned on warnings
	when building the RPM (for the Tinderbox). Also turned on "make
	-k" so the Tinderbox will show more than one error.
	
	* oafd/.cvsignore: Corrected for the latest changes in generated
	files.
	* test/.cvsignore: Corrected for the latest changes in generated
	files.

2000-10-31  Zbigniew Chyla  <cyba@gnome.pl>

	* configure.in: Added pl to ALL_LINGUAS.

2000-10-29  Mathieu Lacage  <mathieu@eazel.com>

	Fix compilation for newer gcc.
	* liboaf/oaf-registration.c: (oaf_existing_set):
	* oafd/oafd-corba-extensions.c: (oafd_CORBA_Context_get_value):

2000-10-27  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs/Makefile.am: fix compilation for documentation.

2000-10-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* api-docs/Makefile.am:
	Temporary fix to the dist-hook to get the build working
	again.

2000-10-27  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs/Makefile.am: add liboaf-decl.txt and 
	liboaf-sections.txt to the tarball.

2000-10-25  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs/liboaf-decl.txt:
	The new version of gtkdoc I just installed yells at
	some of my syntax... fixed :)

2000-10-25  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs/tmpl/query_and_activation.sgml: remove this old useless
	template file. Man, the API doc rocks now :)

2000-10-25  Mathieu Lacage  <mathieu@eazel.com>

	* README: add requirement for gtk-doc and jade to build docs.
	* api-docs/Makefile.am: tweak.
	* api-docs/fdl.sgml: add real fdl.
	* api-docs/liboaf-decl.txt: tweak: I know all gtkdoc magic now :)
	* api-docs/liboaf-sections.txt: same.
	* api-docs/liboaf.sgml: fix for new file
	* api-docs/tmpl/query.sgml: new file.
	
	* liboaf/oaf-activate.c: 
	* liboaf/oaf-async.c:
	* liboaf/oaf-plugin.c:
	* liboaf/oaf-servreg.c:
	Fix inline API doc.

	* liboaf/oaf-i18n.h:
	Fix i18n. ayyyy!!! It works now :)
	
	* po/da.po:
	* po/de.po:
	* po/es.po:
	* po/fi.po:
	* po/fr.po:
	* po/ga.po:
	* po/gl.po:
	* po/it.po:
	* po/ja.po:
	* po/ko.po:
	* po/no.po:
	* po/ru.po:
	* po/sl.po:
	* po/sv.po:
	* po/tr.po:
	* po/uk.po:
	make distcheck updates all those...
	

2000-10-25  Mathieu Lacage <mathieu@eazel.com>

	* liboaf/oaf-actid.c: fi warning while generating the doc
	due to bad comment format in there.

2000-10-20  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* oafd/ac-corba.c (impl_OAF_ActivationContext__get_directories):
	increase i in the for loop.

2000-10-19  Maciej Stachowiak  <mjs@eazel.com>

	* NEWS, configure.in: Updated for 0.6

2000-10-15  Jarkko Ranta <jjranta@cc.joensuu.fi>

	* added "fi" to ALL_LINGUAS

2000-10-09  Maciej Stachowiak  <mjs@eazel.com>

	* HACKING: Updated commit policy.
	* MAINTAINERS: Mentioned people with blanket or local commit
	privs.

2000-10-07  Bradford Hovinen  <hovinen@helixcode.com>

	* oafd/oafd-corba-extensions.c (oafd_CORBA_Context_get_value):
 	Search through the array for the value with the correct name and
 	return it, rather than naively returning the first value in the
 	array

2000-10-05  Mathieu Lacage  <mathieu@eazel.com>

	fix OAF-side part of bugzilla.eazel.com 2131
	add async interfaces to oaf for activation.

	add some doc discussion fo the new stuff.
	* api-docs/architecture.sgml: 
	* api-docs/liboaf-decl.txt:
	* api-docs/liboaf-sections.txt:
	
	* idl/oaf.idl: new CORBA interfaces for async activation.
	
	* liboaf/Makefile.am: add all new header files and new 
	source files.
	* oafd/Makefile.am: beautification.
	
	* liboaf/liboaf.h: remove all function declarations and 
	move them to the relevant new header files.

	The new header files.
	* liboaf/oaf-async.h, liboaf/oaf-mainloop.h, liboaf/oaf-registration.h,
	  liboaf/oaf-util.h, liboaf/oaf-plugin.h, liboaf/oaf-actid.h,
	  liboaf/oaf-activate-private.h, liboaf/oaf-activate.h,
	  liboaf/oaf-servreg.h

	add proper header includes.
	* liboaf/oaf-plugin.c:
	* liboaf/oaf-mainloop.c:
	* liboaf/oaf-util.c:
	
	Kind of refactor so that code is shared with the new async 
	activate functions.
	* liboaf/oaf-activate.c: (oaf_maybe_add_test_requirements),
	(oaf_copy_string_array_to_GNOME_stringlist), (oaf_query),
	(oaf_activate), (oaf_activate_from_id):
	* liboaf/oaf-registration.c: (oaf_registration_check),
	(existing_check):

	CORBA implementation of the OAF::ActivationCallback interface.
	* liboaf/oaf-async-corba.c: (oaf_async_corba_callback_new),
	(impl_OAF_ActivationCallback__destroy),
	(impl_OAF_ActivationCallback_report_activation_failed),
	(impl_OAF_ActivationCallback_report_activation_succeeded):
	* liboaf/oaf-async-corba.h:

	API wrappers for the new CORBA async calls.
	* liboaf/oaf-async.c: (oaf_activate_async),
	(oaf_activate_from_id_async):

	Server-side implementation of the new interfaces.
	* oafd/ac-corba.c: (impl_OAF_ActivationContext_activate_async),
	(ac_aid_to_query_string), (ac_context_to_string_array),
	(impl_OAF_ActivationContext_activate_from_id),
	(impl_OAF_ActivationContext_activate_from_id_async): implement 
	the new activation methods, refactor to share code between the 
	async and non-async versions of the thingy.

	Tests for the new API.	
	* test/Makefile.am: add new test for async inerfaces.
	* test/oaf-test-async.c: (test_callback), (test_activate),
	(test_activate_from_id), (main): test for async interfaces.
	* test/oaf-test-client.c: (main): dont' remember: a space prolly.

	Hm... Dunno: made a make distchek and it regenerated all those.
	* po/da.po, po/de.po, po/es.po, po/fr.po, po/ga.po, po/gl.po,
	  po/it.po, po/ja.po, po/ko.po, po/no.po, po/ru.po, po/sl.po,
	  po/sv.po, po/tr.po, po/uk.po:
	
2000-10-04  Elliot Lee  <sopwith@redhat.com>

	* /cvs/gnome/oaf/oafd/od-load.c: When loading the properties,
	provide an error message if a property name begins with _ (these
	are reserved for OAF to provide).

	* /cvs/gnome/oaf/docs/Makefile.am,
	/cvs/gnome/oaf/docs/oaf-regloc.txt: Docs.

2000-10-03  Jaka Mocnik  <jaka@activetools.si>

	* oafd/oafd-corba-extensions.c (oafd_CORBA_Context_get_value):
	check local_ev NOT ev for exceptions from CORBA_Context_get_values()!

2000-09-28  Ramiro Estrugo  <ramiro@eazel.com>

	* configure.in:
	Switch the order of assignment of warnings to CFLAGS so that they
	can be overridden by the user at configure time.
	
2000-09-26 Alastair McKinstry <mckinstry@computer.org>

	* configure.in (ALL_LINGUAS): Added Irish translation

2000-09-25  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Rename --enable-debug to --enable-oaf-debug to
	avoid it getting turned on automatically by Eazel build scripts.
	* oafd/oafd-corba-extensions.c (oafd_CORBA_Context_get_value):
	Remove debugging message.
	* oafd/od-corba.c (update_registry): Remove debugging message.

2000-09-23  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/od-corba.c (od_get_active_server,
	impl_OAF_ObjectDirectory_activate,
	impl_OAF_ObjectDirectory_register): Remove debugging output
	statements I accidentally left in.

	* oafd/oafd-corba-extensions.c (oafd_CORBA_Context_get_value): Add
	debugging statement to help people who are seeing problems with
	the new DISPLAY hack.

2000-09-22  Darin Adler  <darin@eazel.com>

	* liboaf/oaf-registration.c: (oaf_existing_set),
	(oaf_service_get): Renamed the static "existing_set" to
	"oaf_existing_set" to make the it easier for the leak checker
	(currently in the Nautilus source module, but useful for any
	program) to recognize this as an exception to the normal rules
	about what leaks are. A bit of a hack; alternative include adding
	code to free things at exit time.

2000-09-22  Maciej Stachowiak  <mjs@eazel.com>

	Some changes leading towards fixing bugzilla.eazel.com bugs 3033
	and 2037; these changes recognize the fact that GUI-based exe
	servers are inherently per-x-display, and allow them to register
	per-display. It also makes sure to pass the application's DISPLAY
	rather than oafd to launched exe servers.

	* idl/oaf.idl: Add "display" context item to some methods.

	* liboaf/oaf-mainloop.c: (local_activator), (oaf_orb_init):

	* liboaf/liboaf-private.h, liboaf/oaf-registration.c:
	(oaf_setenv): Convenience wrapper for setenv for lame systems that
	only have putenv.
	(oaf_server_by_forking): Added display argument; if non-NULL, will
	be set as DISPLAY in the server's environment.

	* liboaf/liboaf.h, liboaf/oaf-servreg.c
	(oaf_active_server_register): Accept registration IDs of the form
	`DISPLAY,iid', for example "foo.bar.com:0.0,OAFIID:some_iid". Just
	passing an IID is also accepted.
	(oaf_make_registration_id): New convenience function for making a
	registration ID from an IID and a display.

	* oafd/ac-corba.c: (ac_CORBA_Context_get_value): renamed from
	`ctx_get_value', and changed to use
	oafd_CORBA_Context_get_value.
	(impl_OAF_ActivationContext_activate,
	impl_OAF_ActivationContext_activate_from_id): Use the renamed
	function.

	* oafd/od-activate.c (od_server_activate_factory): Pass the
	CORBA_Context we got, not the one from oaf_context_get(), so
	DISPLAY-passing works right.
	(od_server_activate_exe): Make sure to pass the DISPLAY to to the
	launched executable.

	* oafd/od-corba.c (od_get_active_server): New function that tries
	getting an active per-display sever for the context display, and
	if that files an active non-per-display server.
	(impl_OAF_ObjectDirectory_activate): Use od_get_active_server to
	try to find the active server.
	(impl_OAF_ObjectDirectory_register): Handle new "DISPLAY,iid"
	registration IDs (as well as plain IIDs).

	* oafd/oafd-corba-extensions.h, oafd/oafd-corba-extensions.c:
	(oafd_CORBA_Context_get_value): New utility function.

	* oafd/Makefile.am: Add new files to build.
	
2000-09-18  Maciej Stachowiak  <mjs@eazel.com>

	Part of fixing bugzilla.eazel.com bugs 674 & 2052.

	* liboaf/liboaf.h, liboaf/oaf-activate.c
	(oaf_set_test_components_enabled,
	oaf_get_test_components_enabled): New API calls to set and check
	whether to return test components from queries or consider them
	for activation. The default is FALSE. If not set to TRUE, then
	components which define the test_only boolean attribute to TRUE
	will not be considered (activating them by ID will still work
	though). This is a client-side setting so it can be set
	per-client.
	(oaf_query, oaf_activate): Use the above settings.

2000-09-17  Dan Winship  <danw@helixcode.com>

	* liboaf/oaf-registration.c (oaf_server_by_forking): deal with
	waitpid being interrupted and close race condition with SIGCHLD
	handler.

2000-09-15  Jesus Bravo Alvarez  <jba@pobox.com>

	* configure.in: Added Galician (gl) to ALL_LINGUAS

2000-09-13  Dan Winship  <danw@helixcode.com>

	* liboaf/oaf-mainloop.c (oaf_hostname_get): Copy the results of
	gethostbyname into a temporary variable before passing it to
	gethostbyaddr, since the two functions may be sharing the same
	static buffer.

2000-09-08  Elliot Lee  <sopwith@redhat.com>

	* /cvs/gnome/oaf/idl/oaf-factory.idl:

	add 'params' back in. Lookie ma, I can screw thangs up!

	* /cvs/gnome/oaf/test/empty-server.c,
	/cvs/gnome/oaf/idl/oaf-factory.idl,
	/cvs/gnome/oaf/liboaf/liboaf.h,
	/cvs/gnome/oaf/liboaf/oaf-servreg.c:

	BackPedal(tm)

	* /cvs/gnome/oaf/test/empty-server.c,
	/cvs/gnome/oaf/oafd/od-corba.c:

	Oops.

	* /cvs/gnome/oaf/liboaf/liboaf.h,
	/cvs/gnome/oaf/liboaf/oaf-servreg.c,
	/cvs/gnome/oaf/oafd/od-corba.c,
	/cvs/gnome/oaf/idl/oaf-factory.idl, /cvs/gnome/oaf/idl/oaf.idl:

	Some changes to allow reffing factories and allow factories to notify object
	directories that they don't have any more objects left to use.

2000-09-06  Pavel Cisler  <pavel@eazel.com>

	* configure.in:
	Get rid of -Wno-uninitialized. This way we will get uninitialized
	variable warnings when we do a release build (with optimizations
	-O1 or higher).

2000-09-03  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-corba.c: (impl_OAF_ActivationContext_activate_from_id):
	* oafd/ac-query-expr.c: (qexp_evaluate_variable),
	(qexp_evaluate_id):
	* oafd/od-corba.c: (update_registry):
	* oafd/od-utils.c: (od_utils_load_config_file):

	Converted XXX comments to FIXME comments. Added bugzilla bug
	numbers for all FIXMEs (after filing bugs).
	
2000-08-31  Martin Baulig  <baulig@suse.de>

	* autogen.sh: Don't use oaf-hack-macros; this doesn't seem
	to work quite well.

	* oaf-hack-macros/oaf-gettext.m4: Removed; simply use acinclude.m4
	instead.

	* acinclude.m4: New file containing AM_GNU_OAF_GETTEXT.

2000-08-30  Maciej Stachowiak  <mjs@eazel.com>

	* oaf.spec.in: Fixed License field (it used to be called Copyright
	and claimed GPL whereas OAF is actually a mix of GPL and LGPL.)

2000-08-29  Manuel de Vega Barreiro <barreiro@arrakis.es>

	* configure.in (ALL_LINGUAS): added "es"

2000-08-24  Christopher R. Gabriel  <cgabriel@softwarelibero.org>

	* configure.in (ALL_LINGUAS): added "it"

2000-08-15  Yuri Syrota <rasta@renome.rovno.ua>

	* configure.in: Add "uk" to ALL_LINGUAS.
	
2000-08-14  Takayuki KUSANO  <AE5T-KSN@asahi-net.or.jp>

	* configure.in: Add "ja" to ALL_LINGUAS.

2000-08-13  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Bump to 0.5.1
	* NEWS: Update for 0.5.1

2000-08-13  Anders Carlsson  <andersca@gnu.org>

	* utils/oaf-sysconf.c: Include string.h to allow compilation 
	without warnings.
	* oafd/od-utils.c: Likewise.

	* api-docs/liboaf-decl.txt: Make typedef enum use <ENUM> 
	instead of <STRUCT>.

2000-08-12  Maciej Stachowiak  <mjs@eazel.com>

	* NEWS: Updated for 0.5.0
	* README: Added descriptive blurb.

2000-08-12  Michael Meeks  <michael@helixcode.com>

	* test/oaf-test-client.c (main): clean some mess.

2000-08-11  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Bump version to 0.5.0

2000-08-11  Maciej Stachowiak  <mjs@eazel.com>

	* idl/oaf-factory.idl: Rename GNOME::GenericFactory interface to
	GNOME::ObjectFactory (leaving in GNOME namespace to avoid being
	labeled "against GNOME").
	* liboaf/oaf-plugin.c (oaf_server_activate_shlib): Deal with the rename.
	oafd/od-activate.c (od_server_activate_factory): Likewise.

2000-08-11  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-factory-suppress.h: Hack include file to avoid
	multiple definition of CORBA_sequence_CORBA_string.
	* liboaf/Makefile.am: Build and install it.
	* idl/oaf-factory.idl: Get the magic pragmas right to deal with
	this idl being included in other idl files.

2000-08-11  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs: doc tweaking.
	* liboaf/*.c: more API doc tweaking.

2000-08-11  Mathieu Lacage  <mathieu@eazel.com>

	* liboaf/Makefile.am: add skeletons to the library.

2000-08-11  Mathieu Lacage  <matheiu@eazel.com>

	* idl/oaf-factory.idl: _evil_ ugly hack to get oaf compilation running.
	If we are generating the oaf-factory stubs and skeletons, we decide to
	#define ORBIT_DEF_CORBA_sequence_CORBA_string 1 so the 
	CORBA_sequence_CORBA_string_* functions are not defined both in the 
	factory and the oaf stubs. (breaks stuff upon linking)

2000-08-12  Mathieu Lacage  <mathieu@eazel.com>

	* api-docs: tweak documentation.
	* idl/oaf-factory.idl: s/gnome/oaf/.

2000-08-10  Mathieu Lacage  <mathieu@eazel.com>

	fixes compilation of gnome-core afetr oaf is installed on 
	top of gnome-libs
	* idl/Makefile.am: use oaf-factory.idl
	* idl/gnome-factory.idl: remove.
	* idl/oaf-factory.idl: add. we don't care about the history. 
	* idl/oaf.idl: include oaf-factory.idl instaed of gnome-factory.idl
	* liboaf/Makefile.am: use oaf-factory.idl

2000-08-09  Mathieu Lacage <mathieu@eazel.com>

	* add api-doc directory to cvs and everything it contains :)
	Happy users.

2000-08-09  Robin * Slomkowski  <rslomkow@eazel.com>

        * oaf.spec.in: moddifed using nifty neato buggy new
	spec formating tool


2000-08-09  Michael Meeks  <michael@helixcode.com>

	* test/broken.oafinfo: Add more tests.

	* test/Makefile.am: Stop broken.oafinfo installing by default; it gives
	errors.

	* test/oaf-test-client.c (main): Add more tests.

	* oafd/od-load.c (OAF_ServerInfo_load): update checks, & allocations.
	(od_validate_iid): rename to (od_validate): and make errors more friendly.

	* oafd/ac-corba.c (ac_do_activation): check server_type before strcmp

2000-08-07  Maciej Stachowiak  <mjs@eazel.com>

	* CVSVERSION: New file, used to detect whether we are configuring
	a cvs version or a release tarball.
	
	* configure.in: Default -Werror to off when configuring a release
	tarball, and to on when configuring a cvs version.

2000-08-04  Robin * Slomkowski  <rslomkow@eazel.com>

	* Makefile.am: added oaf-config.xml.sample to EXTRA
	* autogen.sh: added aclocal include of oaf-hack-macros dir
	* configure.in:	modified to use AM_GNU_OAF_GETTEXT
	instead of AM_GNU_GETTEXT
	* liboaf/Makefile.am: added  oaf-i18n.h as a private header
	* liboaf/oaf-i18n.h: moved this file out of the root
	* oaf-hack-macros/oaf-gettext.m4: it is a copy of the file from gnome/macros
	with the GETTEXT macro names changed.
	* oaf-i18n.h: moved to liboaf

2000-08-03  Fatih Demir	<kabalak@gmx.net>

	* configure.in: Added "da" and "no" to ALL_LINGUAS.

2000-07-31  Ettore Perazzoli  <ettore@helixcode.com>

	* utils/Makefile.am: Add `-I$(top_srcdir)' for `oaf-i18n.h'.

2000-07-30  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/od-load.c: (od_entry_read_props): Accept either
	oaf_attribute or oaf_property in oafinfo XML files. Thanks to
	Peter Williams for catching that the code had been accidentally
	changed to accept "oaf_propibute" [sic] only, which is clearly
	wrong.

2000-07-29  ERDI Gergo <cactus@cactus.rulez.org>

	* idl/oaf.idl: Changed Attribute to Property to avoid clash with
	the reserved word `Attribute'
	* liboaf/liboaf.h, liboaf/oaf-util.c, oafd/ac-query-expr.c,
	oafd/client.c, oafd/od-load.c: Changed `Attribute' to `Property'
	everywhere (including function names)

2000-07-25  Fatih Demir	<kabalak@gmx.net>

	* configure.in: Added "de" and "ru" to ALL_LINGUAS,
		as Kai and Valek had got committed their
		 translations.

2000-07-25  Mathieu Lacage  <mathieu@eazel.com>

	* liboaf/Makefile.am: make builddir != srcdir work.
	* liboaf/oaf-registration.c: (oaf_server_by_forking): 
	internationalization
	* oafd/Makefile.am: make builddir != srcdir work.
	* oafd/ac-corba.c: (ac_do_activation): internationalization
	* oafd/od-activate.c: (od_server_activate): internationalization
	* oafd/od-load.c: (od_entry_read_attrs), (OAF_ServerInfo_load): 
	internationalization
	* oafd/od-utils.c: (od_utils_load_xml_file):internationalization
	* po/Makefile.in.in:
	* utils/Makefile.am: make builddir != srcdir work.
	* utils/oaf-sysconf.c: (save_file), (display_config_path),
	(add_directory), (display_directories): internationalization

2000-07-25  Mathieu Lacage  <mathieu@eazel.com>

	* oafd/od-load.c: (OAF_ServerInfo_load): 
	fix bug 1665 for true after Michael Meeks report.
	* oafd/Makefile.am: internationalization.
	* oafd/main.c: (main): idem.

2000-07-25  Fatih Demir	<kabalak@gmx.net>

	* configure.in: Added "tr" to ALL_LINGUAS.

2000-07-24  Robin * Slomkowski  <rslomkow@eazel.com>

	* po/ChangeLog: added as gettext 0.10.35 seems to require
	it for po dirs

2000-07-24  Robin * Slomkowski  <rslomkow@eazel.com>

	* Makefile.am: Added Documentation files to dist
	* Makefile.in.in: removed dependency on ChangeLog

2000-07-24  Robin * Slomkowski  <rslomkow@eazel.com>

	* Makefile.am: added support for oaf-config.xml
	* oafd/Makefile.am: added support for od-utils.h

2000-07-18  Michael Meeks  <michael@helixcode.com>

	* oafd/main.c (main): fix some brokenness.

2000-07-17  Michael Meeks  <michael@helixcode.com>

	* test/broken.oafinfo: add NotInServer entry.

	* test/oaf-test-client.c (main): add test for non-registering
	server.

	* liboaf/oaf-servreg.c (oaf_active_server_register): make
	need_printout module global, rename to need_ior_printout.
	(oaf_timeout_reg_check): implement catch for norberts.
	(oaf_timeout_reg_check_set): allow turning it off.

	* liboaf/oaf-mainloop.c (oaf_postinit): hook in the check function
	if appropriate, be a bit defensive.

2000-07-24  Mathieu Lacage <mathieu@eazel.com>

	Adds internationalization to oaf. (TODO: add it 
	to the test directory). So, marked strings to be 
	translated, added proper autoconf/automake magic
	where needed, included new file oaf-i18n.h where 
	needed. added a basic french translation. Feel 
	free to change it.

	Adds proper copyrights and licence headers to all 
	source files. liboaf is LGPLed and oafd is GPLed.
	all files have been afected by this commit so it 
	is no use describing them.

	You want to know that the utils directory and the po
	directory were added to cvs: utils contains the tool
	Elliot wanted to process the oaf configuration file.
	po contains the translated portable object files.

2000-07-23  ERDI Gergo  <cactus@cactus.rulez.org>

	* idl/gnome-factory.idl: Changed `supports' to `manufactures' to
	be in sync with Bonobo::GenericFactory and to avoid clash with the
	IDL reserved word `supports'

2000-07-21  Mathieu Lacage <mathieu@eazel.com>

	Closes bugzilla.eazel.com number 1703 

	* doc/oaf-config.doc: add doc for config paths.
	* Makefile.am: add oaf-config.xml.in to the build.
	* oafd/Makefile.am: add od-utils.[hc] to te build.
	* oafd/od-utils.[hc]: add function od_utils_load_config_file.
	* oafd/main.c: add call to od_utils_load_config_file to 
	really read the configuration from the xml file.
	I now need to write a command line util to manipulate
	the configuration file from shell scripts as Sopwith asked
	me.
	
2000-07-19  Gene Z. Ragan  <gzr@eazel.com>

	* liboaf/oaf-plugin.c: (oaf_server_activate_shlib):
	Remove a debugging g_message. Sorry.

2000-07-17  Mathieu Lacage <mathieu@eazel.com>

	* oafd/main.c: realy fix bug 1666. I am a real 
	asshole: GNOME_PATH support is now working.
	close bug 1665 which does not seem to be an issue
	anymore. Fix last Changelog entry: wong bug number.
	
2000-07-14  Michael Meeks  <michael@helixcode.com>

	* liboaf/oaf-servreg.c (oaf_active_server_register): add debug for
	people who can't match their oafids up and thus cause a program
	to be exec'd that doesn't register the correct iid, hence oafd will
	block waiting for some data on the pipe; whereas in reality there is
	none.

2000-07-14  Mathieu Lacage <mathieu@eazel.com>

	* oafd/main.c: (main): fix bug 1666.
	add support for the GNOME_PATH env var to find the oaf
	files around. Also s/ getenv/ g_getenv/. Bad maciej.
	Good Darin :)
	
2000-07-10  Robin * Slomkowski <rslomkow@eazel.com>

	* test/Makefile.am: added $(scrdir) for .tmpl file

2000-07-07  Michael Meeks  <michael@helixcode.com>

	* liboaf/liboaf.h: extern "C".

2000-07-06  Michael Meeks  <michael@helixcode.com>

	* test/oaf-slay.tmpl: add.

	* test/Makefile.am (oaf-slay): add oaf-slay generation.

2000-07-05  Michael Meeks  <michael@helixcode.com>

	* test/oaf-test-client.c (main): update to return a value
	dependant on tests passing.

	* test/Makefile.am (TESTS): add oaf-test-client

	* oafd/od-load.c (od_validate_iid): update to make Maciej
	happy.

2000-06-21  Michael Meeks  <michael@helixcode.com>

	* test/oaf-test-client.c (test_empty): add return value.
	(main): make it more obvious if everything succeeded.

2000-06-05  Michael Meeks  <michael@helixcode.com>

	* oafd/od-load.c (od_validate_iid): implement.
	(OAF_ServerInfo_load): check iid's for conformance.

2000-07-03  Maciej Stachowiak  <mjs@eazel.com>

	* NEWS: Updated for 0.4.0
	* configure.in: Bumped to 0.4.0

2000-07-02  Robin * Slomkowski <rslomkow@eazel.com>

	* oaf.spec.in: added more files such as *.m4 /usr/share/oaf

2000-06-27  Gene Z. Ragan  <gzr@eazel.com>

	* liboaf/oaf-plugin.c: (oaf_server_activate_shlib):
	* oafd/ac-corba.c: (ac_do_activation), (ctx_get_value):
	Removed some g_messages left from debugging.

2000-06-27  Gene Z. Ragan  <gzr@eazel.com>

	Work on making shared libraries/plugins properly activate.
	
	* liboaf/oaf-plugin.c: (oaf_server_activate_shlib): Fixed the way
	that the GNOME_stringlist is parsed when extracting the location
	and oafiid of the shlib.  Before, the code was indexing off the
	beginning of the stringlist if no factories are present in the
	shlib. Now, the last two elements of the stringlist in the plugin
	are the oafiid and the location info.
	
	Removed a mirrored variable that caused code to crash when
	activating shlib.

	* oafd/ac-corba.c: (ac_do_activation): Fixed the way that
	factories in shared libraries are handled.  If a shlib contains no
	factories, a GNOME_stringlist was created with one element with an
	allocation of zero. Incremented the variable that tracks the
	number of factories.

	Store both the oafiid and location info as the last two entries in
	the GNOME_stringlist.  This data is used later when the shlib is
	acvtivated.

2000-06-20  ERDI Gergo  <cactus@cactus.rulez.org>

	* idl/oaf.idl (OAF): New exception: IncompleteContext

	* oafd/ac-corba.c (impl_OAF_ActivationContext_activate_from_id):
	Throw an IncompleteContext when the context is incomplete (duh)

2000-06-19  Darin Adler  <darin@eazel.com>

	* .cvsignore: Ignore generated oaf.spec.
	* liboaf/oaf-util.c: (CORBA_sequence_CORBA_string_copy):
	Fixed a bug that caused the buffer for a sequence of strings
	to be allocated 4 times too big.

2000-06-17  Dan Winship  <danw@helixcode.com>

	* configure.in: Make sure the user has the special post-0.5.1
	ORBit.

	* README: explain how to get it if he doesn't.

2000-06-16  Darin Adler  <darin@eazel.com>

	* oafd/ac-corba.c: (impl_OAF_ActivationContext__get_servers),
	(impl_OAF_ActivationContext_query): Changed OAF itself to use
	the new liboaf calls I just added.

2000-06-16  Darin Adler  <darin@eazel.com>

	* liboaf/liboaf.h:
	* liboaf/oaf-util.c: (CORBA_sequence_CORBA_string_copy),
	(OAF_AttributeValue_copy), (OAF_Attribute_copy),
	(CORBA_sequence_OAF_Attribute_copy), (OAF_ServerInfo_copy),
	(OAF_ServerInfo_duplicate):
	Add new useful public calls to be shared by clients.
	The CORBA_string one is not public because it's really not
	at all OAF-specific.

2000-06-14  Dan Winship  <danw@helixcode.com>

	* configure.in: Move --enable-more-warnings to the end so that
	configure tests don't get run with -Werror enabled, which can skew
	the results. ("What do you mean I don't have working const??")

2000-05-30  Michael Meeks  <michael@helixcode.com>

	* test/broken.oafinfo: add circular and broken exe tests.

	* oafd/ac-corba.c (ac_do_activation): add bound on number of layers,
	and exception for activation loops.

	* test/oaf-test-client.c (main): Add broken exe and circular
	factory loop tests. Add loads of redundant braces to make Maciej
	a happy chappy. Print out exception text to verify they are correct.

2000-05-31  Darin Adler  <darin@eazel.com>

	* oafd/main.c: Fixed so it will compile if OAF_DEBUG is unset.

2000-05-31  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-mainloop.c (do_debug): Don't define if OAF_DEBUG is
	not set, otherwise it will be unused and we'll get a warning.

2000-05-30  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Enable -Werror and lots of useful warning flags.
	
	* liboaf/liboaf-private.h: Fix warnings.
	* liboaf/liboaf.h: Fix warnings.
	* oafd/ac-corba.c: (impl_OAF_ActivationContext_activate_from_id): 
	Fix warnings.
	* oafd/ac-query-lex.l: Fix warnings.
	* oafd/od-corba.c: (update_registry): Fix warnings.
	* test/oaf-test-client.c: Fix warnings.

2000-05-30  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-corba.c: (impl_OAF_ActivationContext_activate_from_id):
	Remove some stray puts() calls.

2000-05-30  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-corba.c: (impl_OAF_ActivationContext_activate_from_id):
	Change ID activation so that for IIDs as well as for AIDs that are
	not fully specified, the defaults for username, hostname and
	domain are the same as the user's context for the activation. This
	fixes bugzilla.eazel.com task #503.

2000-05-29  Michael Meeks  <michael@helixcode.com>

	* test/Makefile.am: install both files.

	* test/empty.oafinfo: split out regression tests into

	* test/broken.oafinfo: create.

2000-05-26  Michael Meeks  <michael@helixcode.com>

	* test/empty.oafinfo: Add bogus entry with deliberately broken
	factory location.

	* idl/oaf.idl: Fix missing exceptions causing oafd to segfault.

	* test/oaf-test-client.c (empty_test): expand.
	(test_object): add. (test_oafd): see if we crashed the daemon
	(main): update to add test for fix.

2000-05-26  Michael Meeks  <michael@helixcode.com>
	
	* test/oaf-run-query.c (main): sort comments.

	* test/Makefile.am: Stupid cut and paste error fixed, re-instating the
	test client, doh.

	* test/oaf-test-client.c (test_empty): split.
	(main): expand.

	* oafd/ac-query-expr.c (qexp_sort): cast sort_compare to right type,
	include qsort_ex.h

2000-05-24  Darin Adler  <darin@eazel.com>

	* docs/standard-attributes.txt: Updated documentation of some
	of the Nautilus-specific attributes.

2000-05-24  Michael Meeks  <michael@helixcode.com>

	* docs/query-language.txt: Fix typo in example code.

2000-05-15  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/main.c (main): rename environment variable for oafinfo
	files to OAF_INFO_PATH; use new IID for name service.

	* oafd/oafd.h: * oafd/od-load.c (OAF_ServerInfo_load): take a list
	of strings rather than a path-like string for directories to
	search.

	* oafd/od-corba.c (registry_directory_needs_update),
	(update_registry), (OAF_ObjectDirectory_create),
	(impl_OAF_ObjectDirectory__get_servers),
	(impl_OAF_ObjectDirectory_activate): check if any of the oafinfo
	directories have changed before a _get_servers or _activate call,
	and if so, reread-them.
	
2000-05-10  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-activate.c: (oaf_name_service_get): Fixed bad cut &
	paste job.

	* liboaf/oaf-activate.c (oaf_name_service_get): Access name
	service via the new IID.

	* oafd/oafd.oafinfo: Reformat; change IID format to new style.

	* NEWS: News since last release.

	* docs/Makefile.am: Install new docs.

	* docs/debugging.txt: Fix debugging info.
	
	* docs/id-format.txt: Update ID format to brave new uuid system.

	* test/Makefile.am: Install oaf-run-query.

2000-05-09  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Bumped version to 0.3.0.

	* HACKING: New file covering policy for this module.
	
	* docs/activation-discussion.txt: New file; IRC discussion between
	me and Elliot about activation by IID instead of AID.
	
	* docs/query-language.txt: Removed never-implemented `has_field'
	function. Added new `defined' function. Documented all operators.
	
	* oafd/ac-query-lex.l: Changed alias for XOR operator from "^" to
	"^^".

2000-05-08  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-util.c (oaf_server_info_attr_lookup): Various fixes
	to avoid crashing on attr lookup.

2000-05-08  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-util.c: (oaf_server_info_attr_lookup): Adjust
	language handling so if a language looks like "en_US" we will try
	that value first, then "en"; this way regionalization can work
	better.

2000-05-07  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/liboaf-private.h, liboaf/oaf-registration.c
	(oaf_server_by_forking): Instead of taking a specific fd to dup
	the magic ior pipe to, instead take the number of an argument that
	is expected to contain a %d, where the real ior fd will be
	substituted. This change is needed because hardcoding 123 for the
	fd everywhere is lame, and can break on systems where a lower file
	descriptor limit has been set.
  	
	* liboaf/oaf-registration.c (oaf_activators_use),
	(oaf_service_get):
	liboaf/oaf-mainloop.c (local_activator):
	oafd/od-activate.c (od_server_activate_exe):
	Updated to deal with the above change.
	
2000-05-07  Maciej Stachowiak  <mjs@eazel.com>

	* idl/gnome-factory.idl, idl/oaf.idl, test/empty.idl: Indented
	gnome-style and added modeline.

	* acconfig.h, liboaf/liboaf-private.h, liboaf/liboaf.h,
	liboaf/oaf-actid.c, liboaf/oaf-activate.c, liboaf/oaf-mainloop.c,
	liboaf/oaf-plugin.c, liboaf/oaf-registration.c,
	liboaf/oaf-servreg.c, liboaf/oaf-util.c, oafd/ac-corba.c,
	oafd/ac-query-expr.h oafd/client.c, oafd/main.c, oafd/oafd.h,
	oafd/od-activate.c, oafd/od-corba.c, oafd/od-load.c,
	oafd/qsort_ex.c, oafd/qsort_ex.h, test/empty-client.c,
	test/empty-server.c, test/oaf-run-query.c, test/oaf-test-client.c:
	Reindented everything GNOME style, and added emacs mode-lines to
	hopefully keep it that way.

2000-05-02  Michael Meeks  <michael@helixcode.com>

	* oafd/od-load.c, docs/debugging.txt, docs/query-language.txt: 
	Add debugging document, Add examples of various oaf queries,

2000-05-02  Michael Meeks  <michael@helixcode.com>

	* oafd/od-load.c (od_entry_read_attrs): Validate the values
	from the XML stream, warn on NULL strings.

2000-04-28  Maciej Stachowiak  <mjs@eazel.com>

	* ChangeLog: Add Sopwith-standard empty ChangeLog

2000-04-27  Maciej Stachowiak  <mjs@eazel.com>

	* docs/standard-attributes.txt:
	Clarified some things; removed irrelevant open questions.

	* test/oaf-run-query.c:
	Add ability to provide sort criteria as well as a test query.

	* oafd/ac-corba.c, oafd/od-corba.c:
	Fix random formatting errors.

	* liboaf/oaf-activate.c,
	liboaf/liboaf.h (oaf_query, oaf_activate): Use char
	*const *, not const char ** in these prototypes. The latter causes
	warnings if you try to pass char ** and is not what is really
	intended anyway.

2000-04-26  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-query-expr.c (qexp_sort_compare): Make
	sure to always return the appropriate choice of a negative number,
	a positive number, or 0, otherwise qsort_ex gets badly confused.

	* oafd/ac-query-lex.l: Capitalize all logical
	operators and add "XOR" as a synonym for "^" for consistency.

2000-04-26  Darin Adler  <darin@eazel.com>

	* oafd/ac-query-parse.y: Fixed unary operators.

	* test/.cvsignore: Some more files to ignore.

2000-04-26  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-query-expr.c (qexp_func_defined): New function
	implementing the new `defined' operator.  This is similar to the
	documented but unimplemented `has_field' but more general (should
	work on variables as well as fields) and with nicer syntactic
	sugar (you can write expressions like "repo_ids.defined()").

	* oafd/ac-query-expr.c (qexp_func_has_one): I could not figure out
	the logic of the for loop that is the heart of this test so I made
	it use an explicit boolean variable to indicate when it has
	successfully found a match.

	* oafd/ac-query-expr.c (qexp_evaluate_id):
	when allocating space for the char** array, multiply the number of
	elements by sizeof (char *), otherwise insufficient space is
	allocated and mayhem ensues.

	* docs/standard-attributes.txt:
	Standard attributes that should be specified in oafinfo files.

	* oafd/ac-query-lex.l:
	Allow `:' character in identifiers to allow the illusion of attribute
	namespaces.

2000-04-20  George Lebl  <jirka@5z.com>

	* configure.in, .cvsignore, Makefile.am, oafConf.sh.in: 
	Add oafConf.sh file so that gnome-config works with oaf.

2000-04-17  Kelly Lynn Martin  <kelly@gimp.org>

	* oafd/Makefile.am, liboaf/Makefile.am, oaf-config.in:
	Configuration tweak to avoid dependency on orbit-config and
	orbit-idl being in $PATH.

2000-04-17  Maciej Stachowiak  <mjs@eazel.com>

	* liboaf/oaf-mainloop.c (oaf_orb):
	Initialize to CORBA_OBJECT_NIL so that oaf_orb_get will return
	a valid value before you call oaf_init() and therefore can be used
	to tell if oaf_init() has been called already.

2000-04-16  Maciej Stachowiak  <mjs@eazel.com>

	* oaf-config.in: pass --use-service=name to orbit-config since we
	now implement the name service

	* liboaf/liboaf.h, liboaf/oaf-activate.c (oaf_name_service_get): 
	New function. A convenience function to get the CosNaming service,
	so user apps don't have to know it's IID.

	* oafd/ac-query-expr.c (qexp_eval_id): When returning a stringv
	value, indicate that it should not be freed. This leaks memory but
	otherwise oafd segfaults if you have a stringv of 3 elements or
	more. So I am putting in this hack for now.

2000-04-14  Maciej Stachowiak  <mjs@eazel.com>

	* test/Makefile.am, test/oaf-run-query.c: New test program to run
	an OAF query and print the resulting IIDs. 

2000-04-13  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-corba.c (OAF_ServerInfo__copy): CORBA_string_dup() the
	empty string for unspecified fields instead of passing NULLs to
	avoid attempting to free a null pointer in the skeletons when
	querying. 

	* oafd/od-load.c (OAF_ServerInfo_load): if the top-level element
	is <oaf_info>, step into it.  This is so we can have records for
	multiple servers in one .oafinfo file.

	* oafd/ac-corba.c (ac_do_activation): if we can't find the server
	for the specified factory, give a useful error instead of
	segfaulting.
	(impl_OAF_ActivationContext_activate_from_id): allow activation
	from IID as well as AID. This is done by doing a query-based
	activation. This means there is some non-determinism in what
	server is activated; this should be fixed by eventually having
	some low-priority selection criteria to express the appropriate
	defaults for AID fields.

	* oafd/ac-query-expr.c (qexp_evaluate): if we have a cached value,
	copy it and mark the copy as not needing freeing before returning
	it to acoid double-frees.

2000-04-10  Elliot Lee  <sopwith@redhat.com>

	* oafd/main.c, oafd/Makefile.am, oafd/oafd.oafinfo:
	Implement naming service inside OD for mjs.

2000-04-10  Maciej Stachowiak  <mjs@eazel.com>

	* oafd/ac-query-expr.c: Fix sort function to ensure NULL pointers
	always compare as greater so they end up last.

	* oafd/Makefile.am: Add qsort_ex.h

	* oafd/Makefile.am: Add qsort_ex.c to the build.

	* oafd/ac-query-expr.c, oafd/qsort_ex.c, oafd/qsort_ex.h (qsort_ex): 
	New function; a version of qsort that allows a user-data argument
	for the compare function.
	(qexp_sort): Use qsort_ex instead of the ad-hoc sort algorithm.

2000-04-05  Elliot Lee  <sopwith@redhat.com>

	* oafd/ac-corba.c: Misc fixes to Jaka's changes.

2000-04-05  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* oafd/ac-corba.c (child_od_update_list): 
	call CORBA_sequence_set_release() with FALSE on the acquired
	servers list and CORBA_sequence_set_release() with TRUE on the old
	servers list.

2000-04-01  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* liboaf/oaf-actid.c (oaf_actid_parse): when encountering a ',',
	copy the part if bracket_count == 1 and not 0.

2000-03-01  Cody Russell <bratsche@dfw.net>

	* idl/gnome-factory.idl: Undoing that last commit. Sorry.

	* idl/gnome-factory.idl: Generate liboaf/oaf.h to say 
	  #include <liboaf/gnome-factory.h>
	instead of
	  #include <"liboaf/gnome-factory.h">.

2000-02-21  Elliot Lee  <sopwith@redhat.com>

	* test/Makefile.am, idl/Makefile.am, liboaf/Makefile.am,
	configure.in, Makefile.am: 0.2.0

2000-02-18  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-plugin.c: no deathwatch for now

2000-02-16  Elliot Lee  <sopwith@redhat.com>

	* idl/gnome-factory.idl: and yet some more

2000-02-15  Elliot Lee  <sopwith@redhat.com>

	* oafd/main.c, oafd/od-corba.c,	liboaf/oaf-registration.c,
	liboaf/oaf-util.c: Some bug fixes etc.
	* liboaf/oaf-registration.c: Use CORBA_Object_non_existent()
	instead of CORBA_Object_is_nil() to check that listed server is
	alive & well, not just non-nil. Also fix strsignal warning.
	* liboaf/oaf-util.c: Fix warnings.
	* oafd/main.c: Use oaf_init() instead, just for sanity.
	* oafd/od-corba.c: Don't output server list by default.

2000-02-02  Elliot Lee  <sopwith@redhat.com>

	* test/empty-server.c, liboaf/oaf-servreg.c: If we can't get an
	ObjectDirectory, start up an activation context so that one will
	appear.

2000-02-01  Elliot Lee  <sopwith@redhat.com>

	* test/Makefile.am: Install empty.oafinfo.

2000-01-15  Martin Baulig  <martin@home-of-linux.com>

	* liboaf/oaf-registration.c: s/oaf_reglocks_lock/oaf_reglocs_lock/.

2000-01-14  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-registration.c: try to eliminate locking during
	possible user input or long delays 

2000-01-07  Havoc Pennington  <hp@redhat.com>

	* oafd/od-corba.c, idl/oaf.idl: Add an EXISTING_ONLY activation
	flag to oaf.idl and object directory activate routine.

1999-12-14  Elliot Lee  <sopwith@redhat.com>

	* test/oaf-test-client.c: Make it compile (add missing param).

1999-12-10  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/oaf-actid.c: 
	Add oaf_servinfo_to_actinfo().

1999-12-10  Havoc Pennington  <hp@redhat.com>

	* liboaf/liboaf.h, liboaf/oaf-mainloop.c:
	add oaf_is_initialized()

1999-12-07  Jeremy Wise  <jwise@pathwaynet.com>

	* liboaf/oaf-util.c: Fixed a couple compilation errors

1999-12-07  Elliot Lee  <sopwith@redhat.com>

	* docs/test.oafinfo, liboaf/liboaf.h, liboaf/Makefile.am,
	liboaf/oaf-util.c: Add some util routines for retrieving
	attributes from an OAF_ServerInfo. 
	Put a proper description in the test.oafinfo for reference purposes.

1999-12-06  Elliot Lee  <sopwith@redhat.com>

	* TODO:	Update TODO.

1999-12-05  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* liboaf/liboaf.h: it's struct poptOption not poptOptions

1999-12-03  Elliot Lee  <sopwith@redhat.com>

	* oaf.m4: The "duh" fix for empty 'for' loops, from Jonas Oberg.

1999-12-03  Michael Zucchi  <zucchi@zedzone.mmc.com.au>

	* oaf.m4: Add an empty "" string to the modules for loop, so it
	will end up valid shell syntax if no modules are defined.  This
	shouldn't cause problems when they are defined (it will just
	evaluate to an empty string anyway)

	* liboaf/oaf-registration.c, configure.in: Check for strsignal(),
	and use that instead of sys_siglist[] to get a signal name if it
	exists.

	* liboaf/liboaf-version.h.in: Make sure the last line of this file
	has a \n on it, otherwise it can be dropped off the file when
	processed.

1999-11-29  Havoc Pennington  <hp@redhat.com>

	* liboaf/oaf-registration.c: another IOR g_free()

	* liboaf/oaf-actid.c: Free strings inside an ActivationInfo

	* liboaf/oaf-mainloop.c: in oaf-mainloop.c, CORBA_free the object
	directory list in the non-error case (ac_check function)

	* liboaf/oaf-registration.c: missing semicolon

1999-11-29  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-registration.c: Fix memory leak - when creating a new
	'struct SysServerInstance', remember to add it onto the list.

1999-11-29  Havoc Pennington  <hp@redhat.com>

	* liboaf/oaf-registration.c:
	Free a returned IOR string if we don't store it

	* liboaf/oaf-activate.c: mem leak

1999-11-23  Havoc Pennington  <hp@redhat.com>

	* oaf.m4: Put quotes around $4 in "for module in $4" so it works
	if you have no modules 
	
1999-11-23  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-mainloop.c, liboaf/oaf-registration.c,
	liboaf/oaf-servreg.c, oafd/client.c: 
	Plug some file descriptor leaks.

1999-11-22  Elliot Lee  <sopwith@redhat.com>

	* oafd/ac-corba.c, oafd/ac-query-expr.c, oafd/client.c,
	liboaf/liboaf.h, liboaf/liboaf-private.h: Do the hokey pokey!

	* oafd/ac-corba.c, liboaf/oaf-actid.c, liboaf/oaf-mainloop.c:
	Fixes.

1999-11-19  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-registration.c, oafd/ac-corba.c, oafd/od-corba.c,
	idl/oaf.idl: Raise some more exceptions to satisfy havoc.

	* oafd/ac-corba.c, oafd/od-activate.c, oafd/od-corba.c,
	idl/oaf.idl, liboaf/liboaf.h, liboaf/oaf-activate.c,
	liboaf/oaf-mainloop.c, liboaf/oaf-plugin.c, oaf.m4: Return the
	ActivationID for the newly activated server, to allow future
	activations.

1999-11-17  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/oaf-mainloop.c, configure.in,
	oaf-config.in, oaf.m4: Misc bugfixes.

	* Makefile.am: Install .m4 file.

1999-11-16  Elliot Lee  <sopwith@redhat.com>

	* configure.in, liboaf/liboaf.h, liboaf/liboaf-version.h.in,
	liboaf/Makefile.am, liboaf/oaf-mainloop.c, oaf-config.in, oaf.m4:
	Do the whole m4 etc. hokey pokey.

1999-11-11  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/oaf-activate.c: Add oaf_query(), make
	oaf_activate_from_id() get the OD that would be activating the
	server.

1999-11-09  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/oaf-activate.c, liboaf/oaf-mainloop.c:
	liboafgnome: Do the rcmd_activator method. Still need to figure
	out how to make this happen automatically.

	oaf: Add oaf_activate_from_id(). Make a couple of functions
	'static' as intended.

1999-10-29  Elliot Lee  <sopwith@redhat.com>

	* configure.in:

	* liboafgnome/: builds now.
	* support/: Integrate new popt. Don't install this library.
	* libgnome/Makefile.am: Link ../support/libgnomesupport.la in as part of libgnome.la
	* */Makefile.am: Reflect this
	* configure.in: Use AM_PATH_ORBIT macro

	* liboaf/DEPENDS.liboaf, liboaf/liboaf.h, liboaf/Makefile.am,
	liboaf/oaf-mainloop.c:

	Just sync stuff to CVS in case my computer crashes, is broken,
	will fix in morning: Remove esound/audiofile usage (we'll stick
	this functionality in a dynamically loaded module later on).

	Add some DEPENDS files just so we can get the dependency tree
	straight some day.

	Start on liboafgnome (tiny thing to implement an
	OAFRegistrationLocation on the rootwin for the ActivationContext,
	will also add remote exec hooks).

	Use the .m4 file from ORBit instead of our own.

1999-10-26  Elliot Lee  <sopwith@redhat.com>

	* oafd/oafd.h, oafd/od-activate.c, oafd/od-corba.c:
	Pass OD IOR on cmdline.

1999-10-25  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/liboaf-private.h, liboaf/oaf-mainloop.c,
	liboaf/oaf-registration.c, liboaf/oaf-servreg.c, oafd/main.c,
	oafd/od-activate.c, oafd/od-corba.c, oafd/od-load.c,
	test/empty.oafinfo, test/empty-server.c, test/Makefile.am,
	test/oaf-test-client.c, .cvsignore:
	Woohoo! Activation works!

	* liboaf/liboaf.h, liboaf/Makefile.am, liboaf/oaf-mainloop.c,
	liboaf/oaf-registration.c, liboaf/oaf-servreg.c, oafd/main.c,
	oafd/od-activate.c, oafd/od-corba.c, oafd/od-load.c,
	test/.cvsignore, test/empty.oafinfo, test/empty-server.c,
	test/Makefile.am, configure.in, idl/oaf.idl, TODO:

	Finish basic server bootstrapping (oaf-registration.c)

	Handle most of server bootstrapping.

	Make test/ compile.

	etc.

1999-10-24  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/liboaf-private.h, liboaf/Makefile.am,
	liboaf/oaf-activate.c, liboaf/oaf-mainloop.c, liboaf/oaf-plugin.c,
	liboaf/oaf-registration.c, oafd/ac-corba.c, oafd/ac-query-expr.c,
	oafd/main.c, oafd/od-activate.c, oafd/od-corba.c,
	test/empty-client.c, test/empty.idl, test/empty-server.c,
	test/Makefile.am, test/oaf-test-client.c, configure.in, TODO:

	Modified:
		Expanded command line options for oafd.

		Fixed a bunch of warnings.

		ObjectDirectory should now be fully implemented.

	Added:
		test/ - will be a test case or two, in the future.

		TODO - reminders to myself.

		liboaf/oaf-registration.c: Framework for locating
		already-running basic servers 
		(i.e. ActivationContext, ObjectDirectory).

1999-10-22  Elliot Lee  <sopwith@redhat.com>

	* liboaf/liboaf.h, liboaf/Makefile.am, liboaf/oaf-activate.c,
	liboaf/oaf-mainloop.c, liboaf/oaf-plugin.c, oafd/ac-corba.c,
	oafd/Makefile.am:

	Do the hokey pokey - now it's time for debugging.

1999-10-21  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-actid.c, liboaf/oaf-activate.c, liboaf/oaf-plugin.c,
	oafd/ac-corba.c, oafd/client.c, oafd/Makefile.am, oafd/oafd.h,
	oafd/od-activate.c, oafd/od-corba.c, docs/limitations.txt,
	idl/gnome-factory.idl, idl/oaf.idl, liboaf/liboaf.h,
	liboaf/Makefile.am, acconfig.h, configure.in:

	More work. Doesn't compile, waiting on ORBit improvements.

	* idl/oaf.idl, liboaf/Makefile.am, oafd/ac-corba.c,
	oafd/ac-query-expr.c, oafd/oafd.h, oafd/od-corba.c,
	oafd/od-load.c, docs/limitations.txt, docs/Makefile.am,
	docs/query-language.txt:

	Work on activation a bit.  Make username/hostname/domain be part
	of a ServerInfo thing, just because it simplifies things (even
	though it eats memory, oh well).

	* liboaf/oaf-mainloop.c, oafd/client.c:
	Forgot to add these files - mainloop integration etc., plus a
	simple oafd client for testing purposes.

1999-10-20  Elliot Lee  <sopwith@redhat.com>

	* liboaf/oaf-actid.c, oafd/ac-corba.c, oafd/ac-query-expr.c,
	oafd/ac-query-expr.h, oafd/ac-query-lex.l, oafd/main.c,
	oafd/Makefile.am, oafd/od-corba.c, oafd/od-load.c,
	docs/query-language.txt, idl/oaf.idl, liboaf/liboaf.h,
	liboaf/liboaf-private.h, liboaf/Makefile.am, acconfig.h,
	ChangeLog, configure.in, NEWS, README:

	Lots of additions - the basic server side is starting to work.

	* oafd/ac-corba.c, oafd/ac-query-expr.h, oafd/main.c,
	oafd/od-corba.c, oafd/od-load.c, docs/id-format.txt,
	docs/Makefile.am, idl/oaf.idl, liboaf/liboaf.h,
	liboaf/Makefile.am, liboaf/oaf-actid.c:

	Mo work (start gluing things together in the ActivationContext
	server, do some liboaf utility routines, document IID/AID format).

	Compilation not tested. sync only.

	* oafd/oafd.h, oafd/od-activate.c, oafd/od-corba.c,
	oafd/od-load.c, docs/test.oafinfo, idl/oaf.idl, oafd/ac-corba.c,
	oafd/ac-query-expr.c, oafd/main.c, oafd/Makefile.am, configure.in:

	All in a day's work - write the directory loader etc.

1999-10-19  Elliot Lee  <sopwith@redhat.com>

	* idl/.cvsignore, oafd/Makefile.am, oafd/oafd.h:
	And finally, catch some files we missed before.

	* oafd/ac-query-expr.c:
	"Duh".	Make it compile.

	* idl/oaf.idl, oafd/ac-corba.c, oafd/ac-query-expr.c,
	oafd/Makefile.am, oafd/od-corba.c: sync to work box. I blame
	no-compile on borked home box compiler

	* docs/.cvsignore, docs/query-language.txt,
	docs/remote-activate.txt, idl/oaf.idl, liboaf/.cvsignore,
	liboaf/Makefile.am, oafd/ac-query-expr.c, oafd/ac-query-expr.h,
	oafd/ac-query-lex.l, oafd/ac-query-parse.y, oafd/.cvsignore,
	oafd/main.c, oafd/Makefile.am, configure.in, .cvsignore,
	Makefile.am:

	The query parser/evaluator now works AFAIK. All that is left in
	that arena is to write the sorting routine, and to do some testing
	with real data (dependency: directory reading code).

1999-10-18  Elliot Lee  <sopwith@redhat.com>

	* oafd/ac-query-expr.h, oafd/ac-query-lex.l,
	oafd/ac-query-parse.y, oafd/Makefile.am: I should have called this
	directory oafd, not liboaf

	* oafd/ac-query-lex.l, oafd/ac-query-parse.y, oafd/Makefile.am,
	AUTHORS, autogen.sh, configure.in, docs/Makefile.am, docs/oaf.dia,
	idl/Makefile.am, idl/oaf.idl, Makefile.am: Install basic build
	structure.

1999-10-17  Elliot Lee  <sopwith@redhat.com>

	* docs/INTERNALS, docs/oaf.dia, docs/oaf-use.dia, idl/oaf.idl: 
	New file.

	* docs/INTERNALS, docs/oaf.dia, docs/oaf-use.dia, idl/oaf.idl:
	Start work
