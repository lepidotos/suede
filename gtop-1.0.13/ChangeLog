2001-03-14  Martin Baulig  <baulig@suse.de>

	Released GTop 1.0.13 "Endstation Gerolzhofen".

2001-03-11  Marius Andreiana  <mandreiana@yahoo.com>
	
	* configure.in: Added ro (Romanian) to ALL_LINGUAS
	
2001-03-10  Timur Bakeyev <timur@gnu.org>

	This is the patch from Vlad Harchev <hvv@hippo.ru>:

        * detailes.c, process-detailes.c: Fix crash in "details" and "memory map" 
	dialogs if they are closed by "Esc", and probably by "Close" button.
	
	* Make gtop gtk-theme friendly: gtk_widget_ensure_style(widget) needs 
	to be called before gtk_widget_get_style() - otherwise you'll get a 
	builtin gtk style - black text on gray - in the copy. Also after this 
	patch global style (used by ALL widgets - including menu) won't be 
	altered any more after "process details" dialog is opened first time.

2001-02-17  Martin Baulig  <baulig@suse.de>

	* configure.in: Set version number to 1.0.13.

	* details.c (add_mem_map): Call gtk_drag_source_set() on
	the clist, not the notebook. Fixes #2419.

2001-02-15  Martin Baulig  <baulig@suse.de>

	Released GTop 1.0.12 "Gerolzhofen".

2001-02-14  Martin Baulig  <baulig@suse.de>

	* procview.c (procview_update): Fix timings if p->frequency != 100.

2001-02-09  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: (ALL_LINGUAS) Added sk
	* gtop.desktop: Added Slovak translations from Marcel Telka <marcel@telka.sk>

2001-02-08  Gustavo Maciel Dias Vieira  <gdvieira@zaz.com.br>

	* configure.in (ALL_LINGUAS): Added pt_BR to ALL_LINGUAS

2001-01-29  Martin Baulig  <baulig@suse.de>

	Released GTop 1.0.11 "Berlin".

2001-01-27  Martin Baulig  <baulig@suse.de>

	* global.c (gtop_check_old_config): New function. This checks
	whether we have an old ~/.gnome/gtop and clean it. Should fix
	this crash on startup problem which sometimes happens with
	such old config files.

	* main.c (main): Call gtop_check_old_config ().

2001-01-04  Yukihiro Nakai <nakai@gnome.gr.jp>

	* gtop.desktop: Add Japanese translation

2000-12-03  Martin Baulig  <baulig@suse.de>

	* autogen.sh: Use gnome-common.
	* Makefile.am (SUBDIRS): Remove macros.

2000-12-01  Fatih Demir	<kabalak@gmx.net>

	* configure.in: Added tr to ALL_LINGUAS.

2000-11-22  John Gotts  <jgotts@linuxsavvy.com>

	* gtop.spec.in: Overhauled; the old spec file worked but was a little
	bit crusty.

2000-11-20  Martin Baulig  <baulig@suse.de>

	Released GTop 1.0.10 "November Rain".

	* NEWS: Started to put stuff in here.

	* BUG-REPORTING: New file. Please read it before reporting bugs.

	* configure.in: Require LibGTop >= 1.0.6 (this is still a fairly
	old version, but it had 0.98.2 before).

2000-11-20  Martin Baulig  <baulig@suse.de>

	* procview.c (procview_new, procview_type_set): Added some
	g_asserts().

	* procview.c (procview_click_column): Removed a superfluous
	`g_assert (nfs == n)' which made absolutely no sense and caused
	a crash on startup.

2000-09-01  Martin Baulig  <baulig@suse.de>

	* procview.c: Protect "sort_field" against being to large and
	thus causing a crash.  Thanks a lot to Jonathan Weesner for
	reporting this problem.

2000-08-05  Martin Baulig  <baulig@suse.de>

	* gtop-procbar.h (GTopProcBar): Privatized this structure.
	* gtop-procbar.c (GTopProcBarPrivate): Added.

2000-08-05  Martin Baulig  <baulig@suse.de>

	* gtop-procbar.[ch]: New files.  The GnomeProcBar
	widget will be dropped from libgnomeui for GNOME 2.0;
	copied here and renamed to GTopProcBar.

	* summary.c: Use our GTopProcBar instead of GnomeProcBar.

2000-05-25  Martin Baulig  <baulig@suse.de>

	Released GTop 1.0.9 "Stuttgart".

2000-05-22  Martin Baulig  <baulig@suse.de>

	Released GTop 1.0.8 "Frankfurt".

2000-05-22  Jacob Berkman  <jacob@helixcode.com>

	* Makefile.am (Utilitiesdir): install in System/

	* configure.in (ALL_LINGUAS): define the icon dir

	* main.c (main): set default icon

2000-05-16  Martin Baulig  <baulig@suse.de>

	* sysview.c: Removed.

2000-05-11  Pablo Saratxaga <pablo@mandrakesoft.com>

	* configure.in (ALL_LINGUAS): Added Catalan

2000-05-10  Pablo Saratxaga <pablo@mandrakesoft.com>

	* configure.in (ALL_LINGUAS): Added Lithuanian

2000-05-09  Andreas Hyden  <a.hyden@cyberpoint.se>

	* gtop.desktop: Added Swedish translation.

2000-04-08  Jesus Bravo Alvarez  <jba@pobox.com>

	* configure.in (ALL_LINGUAS): Added Galician (gl).
	* gtop.desktop: Added Galician entry.

2000-03-09 Fatih Demir <kabalak@gmx.net>

	* gtop.desktop : Added the Turkish
	  translation to the gtop.desktop file .

2000-02-20  Martin Baulig  <martin@home-of-linux.org>

	* configure.in: Set version number to 1.0.8.

2000-02-15  Martin Baulig  <martin@home-of-linux.org>

	Released GTop 1.0.7 "Copenhagen".

2000-02-13  Matthias Warkus  <mawa@iname.com>

	* gnome-gtop.png: Improved.

2000-02-13  Martin Baulig  <martin@home-of-linux.org>

	Applied a patch from Chih-Wei Huang <cwhuang@linux.org.tw> to
	make it display multibyte strings like Chinese in the graph
	window.

2000-02-13  Martin Baulig  <martin@home-of-linux.org>

	* configure.in: Set version number to 1.0.7.

2000-02-13  Martin Baulig  <martin@home-of-linux.org>

	Added first version of the GTop Documentation from
	Telsa Gwynne.

	* doc/: New directory.

	* main.c (helpMenu): Added GTop Documentation.

2000-02-06  Martin Baulig  <martin@home-of-linux.org>

	* procview.c: Use "Kill nicely (SIGTERM)" and "Kill now (SIGKILL)"
	in the right-click menu.

	* procview.c (DEFAULT_PROCVIEW_FIELD_MASK): New constant. After a
	suggestion from Alexander Kirillov we only show "Pid", "User", "Pri",
	"Size", "Resident", "Stat", "CPU", "MEM", "Time" and "Command" as the
	default since this is less confusing to newbies (and it also helps us
	keeping the default window size small).
	(procfields_properties_load): Don't crash here when some bad guy
	sets "gtop/procview/procview_field_mask=0". Fixes #2420.

2000-01-31  Yuan-Chung Cheng <platin@linux.org.tw>

        * configure.in: Added "zh_CN.GB2312" to ALL_LINGUAS.

2000-01-22  Martin Baulig  <martin@home-of-linux.org>

	* procview.c (get_command_line): New static function. Try to get
	the `command' field from glibtop_get_proc_args () if possible since
	glibtop_get_proc_state () sometimes truncates this field. GTop will
	not correctly show the full name of executables with long names.

	* global.c: In the preferences dialog, use "Update times" instead
	of "Update times (notebook pages)".

2000-01-22  Martin Baulig  <martin@home-of-linux.org>

	* summary.c (gtop_summary_destroy): Renamed to `summary_destroy_cb'
	and made it static.
	(gtop_summary_new): Call `summary_destroy_cb' on the "destroy" signal.
	(gtop_statusbar_destroy): Renamed to `statusbar_destroy_cb' and
	made it static.
	(gtop_statusbar_new): Call `statusbar_destroy_cb' on the "destroy"
	signal.

	* mdi.c (app_destroy_cb): Don't call `gtop_statusbar_destroy' here.

2000-01-13  Martin Baulig  <martin@home-of-linux.org>

	* process-details.c (process_args_update): Make this work with
	LibGTop 1.1.4.

1999-11-22  Martin Baulig  <martin@home-of-linux.org>

	* configure.in: Set version number to 1.0.6.

1999-09-24  Yuri Syrota  <rasta@renome.rovno.ua>

	* configure.in: Added "uk" to ALL_LINGUAS.

1999-10-08  Matthias Warkus  <mawa@iname.com>

	* gnome-gtop.png: An icon, an icon!

1999-09-30  Radek Doulik  <rodo@praha.eridan.cz>

	* memusage.c: added popup-menu to allow show menu/toolbar
	* fsusage.c: added popup-menu to allow show menu/toolbar
	* procview.c: added items to popup-menu to allow show menu/toolbar

	* main.c (gtop_show_mtbar): added "show menu/toolbar" menucheckbuttons to
	allow some sort of fullscreen mode

1999-09-29  Martin Baulig  <martin@home-of-linux.org>

	Released GTop 1.0.5.

1999-09-29  Martin Baulig  <martin@home-of-linux.org>

	* graph.c (graph_destroy): This takes a `Graph *' parameter now.
	
	* gtop-graph.c (gtop_graph_destroy): Call graph_destroy () on the
	`Graph *' object that's associated with our GTopGraph widget.
	Fixes #2425.

	* summary.c (summary_colors_properties_changed): Copy the properties
	over the temp properties and call summary_colors_properties_update ()
	to work around a bug in libgnomeui. This makes it possible to change
	the summary colors again.

	* graph.c (graph_properties_changed): Likewise.

	* memusage.c (radio_procall_cb): The first parameter of this
	callback function is already the button, so we don't need to pass
	it as data value as well; pass the GnomePropertyObject as data value
	instead and use it to actually write the temp properties. Fixes #2424.
	(radio_procuser_cb, radio_proctty_cb): Likewise.

	* main.c (delete_event_handler): Don't "safe_yourself" here since
	the toplevel windows may already have beed removed if the user
	terminates GTop from the windowmanager. This fixes #2418.
	(gtop_quit): Moved the "safe_yourself" call here so we still save
	state when the user choosed Quit from the menu.

1999-09-26  Kuba Winnicki <blackwine@optimus.wroc.pl>

	* procview.c (procview_clist_button_press): Let you select
	a process with all buttons of your mouse like gmc does.

1999-09-24  Martin Baulig  <martin@home-of-linux.org>

	* configure.in: Set version number to 1.0.5.

1999-09-24  Martin Baulig  <martin@home-of-linux.org>

	Released GTop 1.0.4.

1999-09-24  Martin Baulig  <martin@home-of-linux.org>

	* memusage.c (memusage_data_fn): sprintf doesn't like '%Ld' on
	some systems; use '%ld' and explicitly cast the argument to
	`unsigned long'.
	* fsusage.c (fsusage_data_fn): Likewise.

	* gtop-procview.c (gtop_procview_flags_cb, gtop_procview_type_set):
	Call procview_update () if the widget is realized.

	* gtop-memusage.c (gtop_memusage_type_set): Only call
	memusage_update () if the widget is realized.
	* gtop-fsusage.c (gtop_fsusage_type_set): Likewise.

	* procview.c (procview_update): When switching from all to user
	processes and the user selected a process, use the uid from that
	process.

	* graph.c (graph_realize, graph_unrealize): New static function.
	(graph_new): Add "realize" and "unrealize" signal handlers.

	* gtop-procview.c (gtop_procview_unrealize): New static function.
	(gtop_procview_class_init): Override "realize" method.

	* gtop-memusage.c (gtop_memusage_unrealize): New static function.
	(gtop_memusage_class_init): Override "realize" method.

	* gtop-fsusage.c (gtop_fsusage_unrealize): New static function.
	(gtop_fsusage_class_init): Override "realize" method.

	* summary.c (summary_colors_properties_update): Make sure the
	widgets are realized before calling gnome_proc_bar_update ().

1999-09-23  Rodrigo Stulzer Lopes <rodrigo@conectiva.com.br>

	* gtop.desktop: Added Brazilian Portuguese (pt_BR) comments 

1999-09-23  Martin Baulig  <martin@home-of-linux.org>

	* summary.c (gtop_summary_destroy, gtop_statusbar_destroy):
 	Don't ignore the return value from g_list_remove ().

	* graph.c (graph_process_data): Return unless GTK_WIDGET_REALIZED.

1999-09-18  Martin Baulig  <martin@home-of-linux.org>

	* session.c (gtop_parse_args): Removed.
	(initial_geometry): This is now a `const gchar *'.

	* mdi.c (gtop_mdi_start): Move geometry code to app_created_cb.
	(app_created_cb): Moved geometry code here and use
 	gnome_parse_geometry () on the initial_geometry.

1999-09-17  Martin Baulig  <martin@home-of-linux.org>

	Released GTop 1.0.3.

1999-09-03  Zbigniew Chyla  <chyla@alice.ci.pwr.wroc.pl>

	* configure.in: Added pl to ALL_LINGUAS.
	
1999-08-31  Kjartan Maraas  <kmaraas@online.no>

	* configure.in: Added "da" to ALL_LINGUAS.
	
1999-08-14  Martin Baulig  <martin@home-of-linux.org>

	Fix a bug reported from Anders Carlsson on irc some time ago.

	* procview.c (procview_properties_load): Use the default font if
	the user specified an incorrect one in the config file.
	* summary.c (summary_properties_load): Likewise.
	* graph.c (graph_properties_load): Likewise.

1999-05-20  Martin Baulig  <martin@home-of-linux.org>

	* procview.c (procview_clist_update): Set the font of the clist
	titles here so changes will take effect immediately.

1999-05-15  Martin Baulig  <martin@home-of-linux.org>

	* dumm.h (gtop_proc_t): Added `update_count' which will be
	incremented with each update.

	* dummy.h (gtop_proc_t): Added `wcpu', `start_utime', `start_stime',
	`start_cpu_user', `start_cpu_system', `cpu_user', `cpu_system',
	`last_utime' and `last_stime'.

	* fromtop.c (get_proc_data): This takes now two arguments: a
	`gtop_proc_t *' and the PID as a `pid_t'; it the first one is NULL,
	it will be allocated, otherwise the return value is guaranteed to
	be the first argument.

1999-05-14  Martin Baulig  <martin@home-of-linux.org>

	* properties.h (GTopUpdateTimes): Added `GTOP_UPDATE_DETAILS'.
	* procview.c: Added update time of the details dialog to the
	properties box.

	* process-details.c: Implement updating and update-updating.

	* dummy.h (gtop_proc_h): Added `ppid', `uid' and `state_string'.
	* fromtop.c (get_proc_data): New global function. Takes a the PID
	as a `pid_t' argument and returns a `gtop_proc_t *'.

1999-05-13  Martin Baulig  <martin@home-of-linux.org>

	First version of a new details dialog.

	* process-details.[ch]: New files.
	(gtop_process_details): Global function that takes a pid as argument.

1999-05-13  Martin Baulig  <martin@home-of-linux.org>

	* details.c (gtop_details_create_mem_map): New global function
	that takes the pid as argument and creates a GtkNotebook to display
	the textual memory maps of that process.
	(add_mem_map): Added DND support.

1999-05-13  Martin Baulig  <martin@home-of-linux.org>

	* details.c (mem_graph_data_fn): Removed.
	(new_mem_graph_data_fn): Renamed to `mem_graph_data_fn'.
	(graph->user_data): This is now a `GTopProcMapRow ***' and points
	to `dt->rows' in add_mem_graph ().

1999-05-13  Martin Baulig  <martin@home-of-linux.org>

	* memusage.c (memusage_update): You can now safely call this even
	if `d->graph' is NULL.
	* fsusage.c (fsusage_update): Likewise.

	* gtop-memusage.c (gtop_memusage_type_set): Call `memusage_update'
	after `memusage_type_set' so it will take effect immediately.

	* gtop-fsusage.c (gtop_fsusage_type_set): Call `fsusage_update'
	after `fsusage_type_set' so it will take effect immediately.

1999-05-10  Martin Baulig  <martin@home-of-linux.org>

	* gtop-fsusage.c, gtop-memusage.c, gtop-procview.c, gtop-page.c:
	Reverted last change here and use [(int) LAST_SIGNAL + 1] in the
	array declaration.

1999-05-06  Drazen Kacar  <dave@srce.hr>

	* dummy.h, details.c, fromtop.c, fromtop.h, procview.c:
	Changed every occurance of proc_t to gtop_proc_t. There was
	a namespace collision with system includes on Solaris.

	* mdi.c: typoo fix, ANSI C compilers didn't like it.

	* gtop-fsusage.c, gtop-memusage.c, gtop-procview.c, gtop-page.c:
	ANSI C fix for enum. Enums start from zero and zero can't
	be used as size when defining arrays. Enum start changed to 1.
	The side effect is that the gtk_object_class_add_signals()
   	function now won't return immediately.

1999-05-03  Martin Baulig  <martin@home-of-linux.org>

	The development versions of LibGTop are now called 1.1.x; changed
	a few LibGTop conditionals to match that new version number.

	* fromtop.c (status): Reflect latest `proc_state.state' change in
	LibGTop if we have LibGTop >= 1.1.0, not 1.0.2.

	* dummy.h (proc_t): Make `state' unsigned for LibGTop >= 1.1.0 and
	leave it `char' otherwise.

	* libgtop.c (glibtop_init_libgtop): The LibGTop bug from the last
	ChangeLog entry here has been fixed in 1.0.2.

1999-04-20  Karl Eichwalder  <ke@suse.de>

	* Makefile.am (Utilities_DATA): New variable.  Add `gtop.desktop'.
	Remove target `INSTALL-data-local'.

1999-04-15  Martin Baulig  <martin@home-of-linux.org>

	* libgtop.c (glibtop_init_libgtop): LibGTop 1.0.1 has a bug which
	will make the error checking functions print out a lot of trash
	without actually checking for errors.

1999-04-01  Martin Baulig  <martin@home-of-linux.org>

	* fromtop.c (status): Reflect latest `proc_state.state' change in
	LibGTop if we have LibGTop >= 1.0.2.

	* dummy.h (proc_t): Make `state' unsigned for LibGTop >= 1.0.2 and
	leave it `char' otherwise.

1999-03-23  Martin Baulig  <martin@home-of-linux.org>

	Added DND support; you can drag the memory map graph from the
	details dialog and drop it into the main window.
	
	* details.c (gtop_details_create_mem_graph): New global function
	that takes the pid as argument and creates a GTopGraph to display
	the memory maps of that process.
	(gtop_target_table): DND targets.
	(add_mem_graph): This is the DND source.
	
	* gtop-page.h (gtop_generic_page_new): Added the `config_string' as
	additional parameter.

	* gtop-page.c (gtop_create_page_from_config): Create generic pages
	from their config string.

	* mdi.c (drag_data_received): New static function. As selection data,
	we get the config_string for gtop_create_page_from_config ().
	(app_created_cb): Set DND target.

1999-03-22  Martin Baulig  <martin@home-of-linux.org>

	Added support for generic GTopPages. This will later allow us to
	drag notebook pages from the details dialog and drop them into the
	main window.

	* gtop-page.h (GTopGenericFunc): Callback function that will be called
	whenever a new view is created. Takes a gpointer argument to pass
	arbitrarty data and should return the newly created widget.
	(GTopPageType): Added `GTOP_PAGE_GENERIC'. You must use the newly added
	gtop_generic_page_new () to create a page of this type.
	(GTopPage): Added `generic_func', `generic_data' and `label' for the
	generic pages.

	* gtop-page.c (gtop_generic_page_new): New function to create a generic
	page. Takes the GTopGenericFunc callback function, a label string and
	an arbitrary pointer as arguments.

	* configure.in: Set version number to 1.0.3.

1999-03-19  Martin Baulig  <martin@home-of-linux.org>

	Released GTop 1.0.2 - "The Failsafe Release".

	* libgtop.c: New file.
	(gtop_init_libgtop): This function is called to initialize LibGTop.
	(gtop_libgtop_is_summary_supported): Checks whether LibGTop
 	provides all features that are required for a given summary field.

	* properties.h (GTopSummaryProperties): `summary_mode' is now of
	type `glong'; added new field `summary_provided' which is the same
 	than summary_mode but only accounts whether LibGTop has a feature
 	or not.
	
	* summary.c: Make everything that's not supported by LibGTop
	insensitive in the properties dialog. Use both `summary_mode' and
	`summary_provided' to decide whether to show a field or not.

	* configure.in: Set version number to 1.0.2.

1999-03-16  Martin Baulig  <martin@home-of-linux.org>

	This should now work for people with a single hard disk partition
	that is larger than ~4GB.

	* graph.h (GraphDataFunc): This function now takes a `gint64 *'
	as additional argument; when asking for the GRAPH_VALUE, we
	store it there and return that pointer.

	* fsusage.c (FsUsageProcInfo): Use `gint64' for `value'.
	* fsusage.h (GTopFsUsageData): Use `gint64' for `value_total'.

	* memusage.c (MemUsageProcInfo): Use `gint64' for `value'.
	* memusage.h (GTopMemUsageData): Use `gint64' for `value_total'.

1999-03-08  Martin Baulig  <martin@home-of-linux.org>

	* fsusage.h (GTopFsUsageData): Use `u_int64_t' for `value_total'
	to avoid an integer overflow when people have more than ~4GB.

1999-03-01  Martin Baulig  <martin@home-of-linux.org>

	Released GTop 1.0.1.

	* configure.in: Set version number to 1.0.1.

1999-02-22  Martin Baulig  <martin@home-of-linux.org>

	* gtop-procview.c (gtop_procview_size_request): Make it work
	with the latest gtk_widget_size_request () changes of GTK+ 1.1.16.

	* configure.in: Require GTK+ >= 1.1.16 and LibGTop >= 0.99.8.

1999-02-19  Maciej Stachowiak  <mstachow@alum.mit.edu>

	* session.h: Remove #include of <getopt.h>,apparently unused by
 	anything that includes this file and unportable
 	(many systems prototype getopt in stdlib.h or unistd.h).

1999-02-17  Martin Baulig  <martin@home-of-linux.org>

	Released GTop 0.99.8.
	
	* gtop.spec.in, gtop.spec: Replaced gtop.spec with gtop.spec.in,
	so gtop.spec is now a generated file.

1999-02-17  Martin Baulig  <martin@home-of-linux.org>

	* summary.c (summary_properties_apply): New static function.
	Changing the "Maximum Load Average" field in the properties dialog
	now actually works.
	(SUMMARY_GRAPH_BIT): New #define.
	(summary_properties_update): Only call gnome_proc_bar_update () if
	the procbar is visible.

1999-02-06  Martin Baulig  <martin@home-of-linux.org>

	Moved all summary code from procview.c to summary.c.

1999-02-05  Martin Baulig  <martin@home-of-linux.org>

	* summary.[ch]: New files.

	* mdi.c (gtop_mdi_init): New function; add an "app_created" signal
	handler to the MDI object.
	(app_created_cb): New static function to add a GnomeAppBar to the
	newly created app.
	(app_destroy_cb): New static function to remove all timeouts from
	the statusbar.

	* procview.h (GTopProcViewData): Removed all status bar data.

	* procview.c: Moved all statusbar code to summary.c.

1999-01-23  Martin Baulig  <martin@home-of-linux.org>

	* procview.c (procview_init): Make all fields at least as
 	large as the width of their translated titles.

1999-01-23  Martin Baulig  <martin@home-of-linux.org>

	* configure.in: Set version number to 0.99.3 and require
	LibGTop >= 0.99.3.
 	
	* configure.in: Check for LibGTop documentation.

	* main.c: If the LibGTop documentation is installed, add it
	to the Help menu.

1999-01-22  Radek Doulik  <rodo@aquarius>

	* memusage.c:   switched // comments to /* */
	* properties.h: switched // comments to /* */

	* make properties window smaller to fit in 640x480 screen
	  (procview properties has been split in procview and
	   summary properties, summary properties became summary_colors)

1999-01-21  Radek Doulik  <rodo@aquarius>

	* details.c (add_mem_map): fixed dt->icl_sw to dt->mcl_sw in
	gtk_scrolled_window_set_policy

	* procview.c (procview_new): set AUTOMATIC scrolled window policy

1999-01-18  Martin Baulig  <martin@home-of-linux.org>

	* dummy.h (proc_t): Rename `hz' to `frequency' so that it will
	work on systems where `hz' is declared as a macro in system
	header files.

1999-01-10  Martin Baulig  <martin@home-of-linux.org>

	Use the new macros from gnome-app-helpers.h for all menus.

	* global.h (client): Added `extern' declaration.

	* gtop-fsusage.c (gtop_fsusage_type_labels): Removed.
	* gtop-memusage.c (gtop_memusage_type_labels): Removed.
	* gtop-procview.c (gtop_procview_type_labels): Removed.

	* gtop-fsusage.c (gtop_fsusage_radio_items): This is now global
	and replaces `view_radio_items'.
	* gtop-memusage.c (gtop_memusage_radio_items): Likewise.
	* gtop-procview.c (gtop_procview_radio_items): Likewise.

	* mdi.c (mdiMenu): This is now called `fileMenu'.
	* main.c (fileMenu): Removed.

	* main.c (gtop_quit): New public function.
	
1999-01-06  Martin Baulig  <martin@home-of-linux.org>

	* main.c: Use GNOME_KEY_NAME_EXIT and GNOME_KEY_MOD_EXIT as
	keyboard shortcut to quit.

1999-01-06  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* session.c: Removed unused 'restarted' variable.

	* session.h: Removed unused 'restarted' variable.

	* main.c (main): Use the new gnome_client flags to determine,
 	whether a saved session has to be restored.

1999-01-06  Martin Baulig  <martin@home-of-linux.org>

	Released GTop 0.99.2.

1998-12-30  (*) Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* session.h: Removed unused declarations.

	* session.c (save_state): Use 'rm' to discard unused session.
	(gtop_parse_args): Removed the discarding of a session.
	(discard_session): Removed.
	(client_die): New function.

	* main.c (main): Changed the way, how the application notices,
 	that it has been restarted.  Connected a die signal to the master
 	client.

1998-12-29  (*) Martin Baulig  <martin@home-of-linux.org>

	* gtop-memusage.c (gtop_memusage_new): Call `gtk_object_constructed'.
	* gtop-fsusage.c (gtop_fsusage_new): Likewise.
	* gtop-procview.c (gtop_procview_destroy): Remove all timeouts.

1998-12-28  Martin Baulig  <martin@home-of-linux.org>

	Merged all changes from the HEAD into GNOME_STABLE.

1998-12-26  (*) Martin Baulig  <martin@home-of-linux.org>

	* properties.h (GTopDetailsFlags): Added
 	`GTOP_DETAILS_FULL_PATHNAMES'.

	* procview.c (procview_properties_init): You can now select whether
	to display full pathnames in the memory maps of the details dialog
	in the properties.

	* details.c: Cosmetic updates, make it possible to enable/disable
	display of full pathnames in the memory maps.

1998-12-25  (*) Martin Baulig  <martin@home-of-linux.org>

	Added SMP support. If enabled in the properties, you can now have
	an individual procbar for each of your CPUs.

	All of the following changes only take effect if LibGTop has SMP
	support (LIBGTOP_HAVE_SMP).

	* xcpu0.xpm, xcpu1.xpm, xcpu2.xpm, xcpu3.xpm: New files.

	* proc.h (ProcInfo): Added `xcpu', `xcpu_now' and `xcpu_last'.
	* proc.c (proc_read_cpu): If LibGTop has SMP support, do also read
	xcpu values.

	* properties.h (GTopSummaryMode): Added `GTOP_SUMMARY_GRAPH_XCPU'.
	* procview.h (GTopProcViewData): Added `summary_xcpu' and `xpm_xcpu'.

1998-12-25  (*) Martin Baulig  <martin@home-of-linux.org>

	Added statusbar with hostname, cpu and memory statistics, uptime
	and load average.

	* procview.c (procview_statusbar_uptime_cb): New static function.
	(procview_statusbar_loadavg_cb): New static function.
	(procview_statusbar_cpu_cb): New static function.
	(procview_statusbar_mem_cb): New static function.
	(procview_statusbar): New static function. Creates the statusbar
	and returns its GtkHBox.
	(procview_statusbar_update): New static function to show/hide the
	widget inside the statusbar when the properties have changed.

	* global.c: Added the new update times to the properties dialog.

	* properties.h (GTopProcViewProperties): Added `statusbar_font' and
	`statusbar_font_name'.
	(GTopSummaryMode): Added `GTOP_SUMMARY_TEXT_HOSTNAME',
	`GTOP_SUMMARY_TEXT_USE_FQDN', `GTOP_SUMMARY_TEXT_CPU',
	`GTOP_SUMMARY_TEXT_MEMORY', `GTOP_SUMMARY_TEXT_SWAP' and
	`GTOP_SUMMARY_TEXT_LOADAVG'.
	(GTopUpdateTimes): Added `GTOP_UPDATE_STATUS_CPU',
	`GTOP_UPDATE_STATUS_MEMORY', `GTOP_UPDATE_STATUS_UPTIME' and
	`GTOP_UPDATE_STATUS_LOADAVG'.

	* procview.h (GTopProcViewData): Added `statusbar',
	`status_host', `status_host_label', `status_cpu', `status_cpu_label',
	`status_mem', `status_mem_label', `status_uptime',
	`status_uptime_label', `status_loadavg', `status_loadavg_label',
	`status_cpu_timeout', `status_mem_timeout', `status_uptime_timeout'
	and `status_loadavg_timeout'.

1998-12-25  (*) Martin Baulig  <martin@home-of-linux.org>

	* session.c (save_state): Save the MDI mode here to make restoring
	the session work.

	* procview.c (procview_properties_changed): New static function.
	(ProcViewProperty_Descriptor): Added `procview_properties_changed'
	so changing the procview font will actually work.

1998-12-24  (*) Martin Baulig  <martin@home-of-linux.org>

	* procview.h (GTopProcViewData): Added `summary_box'.
	
	* procview.c (procview_summary_update): New static function to
	show/hide the GnomeProcBar widgets.
	(procview_summary): Always create all of the GnomeProcBar widgets.
	(summary_properties_update): Call procview_summary_update () so
	changes you make in the properties box will take effect immediately.

1998-12-24  (*) Martin Baulig  <martin@home-of-linux.org>

	* global.c (global_properties_update): Call gnome_mdi_set_mode
	only if the mode has changed.

1998-12-23  (*) Martin Baulig  <martin@home-of-linux.org>

	Cosmetic updates for small resolutions.

	* procview.c (default_fonts): List of default fonts that are used
	depending on the screen size.
	(procview_properties_load): Use a default font depending on the
	screen size.

	* graph.c (default_fonts): List of default fonts that are used
	depending on the screen size.
	(graph_properties_load): Use a default font depending on the screen
	size. Make the default window size 85% of the screen width and 70%
	of the screen height.

1998-12-23  Martin Baulig  <martin@home-of-linux.org>

	Created GNOME_STABLE branch in CVS to make a real stable GTop 1.0.

	Everything that has been changed in this branch as well is marked
	with a (*) in this ChangeLog.

	If you make any changes on the GNOME_STABLE branch, please do also
	merge them into the head and mark them with a (*) there.
	
1998-12-22  Yukihiro Nakai  <Nakai@TokyoNet.AD.JP>

	* configure.in: Add ja entry to ALL_LINGUAS

1998-12-21  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* fsusage.h (_GTopProcViewType): start enumerating from zero so
	that enums can be used for indexing type labels. removed some
	warning causing consts that I introduced yesterday in various
	files.

1998-12-20  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtop-*usage.[ch], gtop-procview.[ch]: add tables child type
	labels.
	* mdi.c (view_changed_cb): use above label tables to determine
	the number of menu item to activate. we can't rely on numbers in
	GnomeUIInfo structures for calling gtk_menu_shell_activate_item()
	since there could be a tearoff menu-item at the top of the menu.
	
1998-12-15  Martin Baulig  <martin@home-of-linux.org>

	Released GTop 0.99.0 which is a feature-freezed version
	for GNOME 1.0.

1998-12-13  Martin Baulig  <martin@home-of-linux.org>

	* procbar.[ch]: Removed. This is now in libgnomeui.

	* procbar.c (gnome_proc_bar_properties): Removed. This has been
	replaced with gnome_property_entry_colors () from libgnomeui.
	(gnome_proc_bar_setup_colors): Declared static.

	* properties.h (GTopGraphProperties): Removed `foreground' and
	`background', they're now the first two elements of `colors' which
	has now GRAPH_DEFAULT_COLORS+2 elements.

	* procview.c, graph.c: Use the new gnome_property_entry_colors ().

1998-12-11  Sven Neumann <sven@gimp.org>
	
	* s/mdi_active_*/mdi_get_active* so it compiles with new gnome-libs
	
1998-12-07  Christopher Blizzard  <blizzard@appliedtheory.com>

	* configure.in (AC_OUTPUT): Add po/Makefile so that the po files
 	will build.

1998-12-03  Martin Baulig  <martin@home-of-linux.org>

	GTop now requires gettext >= 0.10.35.

	* intl: Removed &intl CVS alias.

1998-12-02  Martin Baulig  <martin@home-of-linux.org>

	* graph.c: Use the new gnome_property_entry_font () to create
	the font properties.
	* procview.c: Likewise.

	* gnome-properties.[ch]: Removed. This is now in libgnomeui.

1998-11-28  Herbert Valerio Riedel  <hvr@hvrlab.ml.org>

	* graph.c, gtop-fsusage.c, gtop-memusage.c, gtop-procview.c, mdi.c,
	procview.c: replaced some (gpointer) by GINT_TO_POINTER() and some
 	(gint) by GPOINTER_TO_INT()

1998-11-28  Martin Baulig  <martin@home-of-linux.org>

	Rewrote properties to make a GnomeProperty interface out of it.
	
	* gnome-properties.[ch]: New files.
	(GnomePropertyDescriptor): This replaces the `GTopPropertiesHook'.
	(GnomePropertyObject): Created from gnome_property_object_new ().
	(gnome_property_object_new): Takes a GnomePropertyDescriptor and
	a gpointer to the properties data and creates a GnomePropertyObject.
	(gnome_property_object_register): Inserts a GnomePropertyObject in
	a GnomePropertyBox.
	(gnome_property_object_list_walk): Walks a list of GnomePropertyObjects
	and calls one of the callback functions in it.
	(GnomePropertyAction): Enum typedef telling the above function which
	callback function to call.
	(gnome_property_object_apply): User pressed the `Apply' button; save
	the temporary properties as the real ones.
	(gnome_property_object_update): Properties have changed, tell all
	widgets to use the new ones (like changing fonts etc.).
	(gnome_property_object_load): Load properties from the config files.
	(gnome_property_object_save): Save properties in the config files.
	(gnome_property_object_load_temp): Create a temporary copy of the
	properties, all editing in the properties dialog will only affect
	this copy so we can switch back to the real properties if the user
	presses the `Cancel' button.
	(gnome_property_object_save_temp): Overwrite the properties with the
	temporary copy (when applying).
	(gnome_property_object_discard_temp): Discard the temporary copy.

	* properties.c: Moved most of the code from here to the new
	GnomeProperty interface from gnome-properties.[ch].
	(gtop_temp_properties): Removed. It is no longer required to have
	a global variable for this.

	* properties.h (GTopPropertiesHook, gtop_properties_hook): Removed.
	(gtop_property_object_new): This replaces `gtop_properties_hook'.
	(GTopProperties): This structure now contains the following structs:
	(GTopGlobalProperties): Global (global).
	(GTopGraphProperties): Graph (graph).
	(GTopMemUsageProperties): Memory usage (memusage).
	(GTopFsUsageProperties): File system usage (fsusage).
	(GTopProcViewProperties): Processes (procview).
	(GTopProcFieldsProperties): ProcFields (procfields).
	(GTopSummaryProperties): Summary colors (summary).
	This means each notebook page in the properties dialog has its own
	struct entry here. We pass a pointer to this struct entry to
	gnome_property_object_new ().

	* *.c: Use the new GnomeProperty interface.

1998-11-27  Martin Baulig  <martin@home-of-linux.org>

	* main.c: Sync with latest GnomeMDI changes.

	* configure.in, procview.c, details.c: Removed all Gtk+
	conditionals; it is now required to use the latest version
	of Gtk+.

1998-11-20  Martin Baulig  <martin@home-of-linux.org>

	* dummy.h (HZ): Don't define this any longer.
	* procview.c: Replace `HZ' -> `p->hz';

1998-11-11  Martin Baulig  <martin@home-of-linux.org>

	Added graphical load average.

	* load.xpm: New file.

	* proc.c (proc_read_load): New function.

	* proc.h (ProcInfo): Added `load'. Define `PROC_LOAD_SIZE',
	`PROC_LOAD_TOTAL', `PROC_LOAD_USED' and `PROC_LOAD_FREE'.
	* procview.h (GTopProcViewData): Added `summary_load' and `xpm_load'.
	* properties.h (GTopSummaryMode): Added `GTOP_SUMMARY_GRAPH_LOAD'.
	(GTopProperties): Added `summary_load' and `maximum_loadavg'.
	(GTopUpdateTimes): Added `GTOP_UPDATE_LOAD'.

1998-11-10  Martin Baulig  <martin@home-of-linux.org>

	* session.c (gtop_parse_args): Return -1 on error.

1998-11-10  Martin Baulig  <baulig@merkur.uni-trier.de>

	* procview.h (GTopProcViewDetails): Added `icl_sw' and `mcl_sw',
 	but only if we are using Gtk >= 1.1.4.
	(GTopProcViewData): Added `sw', but only if we are using
	Gtk >= 1.1.4.

	* procview.c, details.c: Make it work with latest Gtk from CVS.

1998-11-09  Martin Baulig  <baulig@merkur.uni-trier.de>

	* session.c (gtop_parse_args): New function.
	(gtop_options): New global variable.

	* main.c: Use popt to parse arguments.

1998-10-23  Martin Baulig  <martin@home-of-linux.org>

	The `Start / Stop sampling' feature of the toolbar is working again.

	* main.c (gtop_is_running): New global variable.
	* global.h: Removed some obsolete stuff here.
	* procview.h (GTopProcViewData): Removed `xpm_run' and `xpm_stop'.

1998-10-21  Martin Baulig  <martin@home-of-linux.org>

	* graph.c (graph_properties_load): Don't set a default font,
	but use the style->font in graph_process_data () if none is set.

	* gtoprc: Set a default font for the GTopGraph here.

1998-10-20  Martin Baulig  <martin@home-of-linux.org>

	* gtop-procview.c (gtop_procview_destroy): Don't call
	gtop_procview_unmap (), but remove the timeout handler and
	call procview_unmap () here.
	* gtop-memusage.c (gtop_memusage_destroy): Likewise.
	* gtop-fsusage.c (gtop_fsusage_destroy): Likewise.

	* main.c (main): Add `destroy' signal handler for the `mdi'
	object to make sure gtk_main_quit () is called when the last
	MDI window is closed.
	
1998-10-20  Martin Baulig  <martin@home-of-linux.org>

	* main.c (helpMenu): Commented out the `GNOMEUIINFO_HELP' so
	we don't get a warning here.

1998-10-13  Martin Baulig  <martin@home-of-linux.org>

	* session.c (arguments): Added `--geometry' argument to set
	initial geometry when not restarting from a saved session.
	(initial_geometry): New variable. Pointing to a GtkAllocation
	holding the requested geometry if the `--geometry' argument
	was used.

1998-10-04  Martin Baulig  <martin@home-of-linux.org>

	* configure.in: Check for gtk_clist_set_column_visibility ().

	* procview.h (GTopProcViewType): This needs to start with 4 to make
	the view_changed_cb () in mdi.c work. Also added notice to the
	view_radio_items [] in gtop-procview.c.

	* sysview.c, sysview.h, fsview.cc, fsview.h: Removed.

1998-10-04  Martin Baulig  <martin@home-of-linux.org>

	Merged from GTOP_MDI_BRANCH. This ChangeLog entry covers all
	changes between tags GTOP_BEFORE_MDI_MERGE and GTOP_MDI_BRANCH,
	this means every change done with this commit. Look in the file
	`ChangeLog.MDI' for changes done on the GTOP_MDI_BRANCH.

	* ChangeLog.MDI: This is the ChangeLog from the GTOP_MDI_BRANCH.

	* global.h (procViewMenu): Removed external declaration.
	(gtop_pages, GTopPageSignal): Likewise.
	(gnome_app_menu_hide, gnome_app_menu_show): Likewise.
	(gnome_app_menu_traverse): Likewise.
	(mdiMenu): New external declaration.
	(gtop_mdi_start): Likewise.
	(mdi): Likewise.

	* global.c: New file.
	(GlobalPropertisHook): New GTopPropertiesHook.

	* mdi.c: New file.
	(mdiMenu): GnomeUIInfo structure for the `MDI' menu.
	(gtop_mdi_start): This function is called from main () to set up
	the initial notebook pages.

	* main.c: Rewrote to use the MDI interface and the new widgets.
	(window, notebook, offPage, page_list): Removed.
	(gtop_time_cb, os_x, os_y, os_w, os_h): Likewise.
	(gtop_msg_send, switch_page_handler): Likewise.
	(gnome_app_menu_traverse, createMainWindow): Likewise.
	(systemMenu, ADD): Likewise.
	(tbar): Renamed to `toolbar'.
	(emptyMenu): Added.

	* procbar.h (gnome_proc_bar_start): Added gpointer parameter.
	* procbar.c (gnome_proc_bar_start): Pass the user_data passed to
	this callback to gtk_timeout_add ().

	* session.c (save_state): Don't save window geometry but call
	gnome_mdi_save_state ().
		
	* gtop-page.[ch]: New files. Implement new `GTopPage' widget which
	is subclassed from GnomeMDIChild.
	(GTopPageType): New enum typedef.
	(gtop_page_new): Call this function with a GTopPageType and a subtype
	depending upon the GTopPageType to create a new GTopPage widget.
	(gtop_page_create_from_config): This is called from the session
	management code to recreate a GTopPage widget from a config string.

	* gtop-memusage.[ch]: New files. Implement new GTopMemUsage widget
	which is subclassed from GtkScrolledWindow.
	(gtop_memusage_new): Call this function with a GTopPage widget and
	a subtype to create a new GTopMemUsage widget. The subtype is a
	GTopMemUsageType casted to gint.
	(gtop_memusage_label): Call it with a GTopMemUsageType and you'll
	get the title label for this widget.

	* memusage.c: Rewrote to use the GTopMemUsage widget. You should
	not call any of the function defined here directly, use the
	GTopMemUsage widget instead.
	(MemProcInfo): Renamed to `MemUsageProcInfo'.
	(memUsageMenu): Removed. Menus are now defined in mdi.c.
	(memusage_new): This is called from the GTopMemUsage widget with a
	GTopMemUsageData *, the parent widget and a subtype to create the
	GTopGraph widget.
	(memusage_destroy): New function.
	(memusage_cfg_save, memusage_time_cb, memusage_handler): Removed.
	(memusage_type_set): This function is now global, it takes a
	GTopMemUsageData * and the subtype to set as parameters.
	(memusage_update): This function is now global and takes a
	GTopMemUsageData * as parameter.
	(memusage_start_stop, memusage_init): Removed.

	* gtop-fsusage.[ch]: New files. Implement new GTopFsUsage widget
	which is subclassed from GtkScrolledWindow.
	(gtop_fsusage_new): Call this function with a GTopPage widget and
	a subtype to create a new GTopFsUsage widget. The subtype is a
	GTopFsUsageType casted to gint.
	(gtop_fsusage_label): Call it with a GTopFsUsageType and you'll
	get the title label for this widget.

	* fsusage.c: Rewrote to use the GTopFsUsage widget. You should
	not call any of the function defined here directly, use the
	GTopMemUsage widget instead.
	(fsUsageMenu): Removed. Menus are now defined in mdi.c.
	(fsusage_new): This is called from the GTopFsUsage widget with a
	GTopFsUsageData *, the parent widget and a subtype to create the
	GTopGraph widget.
	(fsusage_destroy): New function.
	(fsusage_cfg_save, fsusage_time_cb, fsusage_handler): Removed.
	(fsusage_type_set): This function is now global, it takes a
	GTopFsUsageData * and the subtype to set as parameters.
	(fsusage_update): This function is now global and takes a
	GTopFsUsageData * as parameter.
	(fsusage_start_stop, fsusage_init): Removed.

	* gtop-procview.[ch]: New files. Implement new GTopProcView widget
	which is subclassed from GtkBin.
	(gtop_procview_new): Call this function with a GTopPage widget and
	a subtype to create a new GTopProcView widget. The subtype is a
	GTopProcViewType casted to gint.
	(gtop_procview_label): Call it with a GTopProcViewType and you'll
	get the title label for this widget.

	* details.h (ProcMapRows): Renamed to `GTopProcMapRows' and moved
	to procview.h.

	* details.c: Removed all static variables, they're now in the
 	new GTopProcViewDetails structure.
	(procview_details): Added GTopProcViewData * parameter.
	Don't automatically update details dialog but give user the
 	choice: either in the properties dialog or with a new toggle
 	button here ...
	(update_cb, close_cb, auto_update_cb): New callback functions.
	(delete_event_handler): Second parameter is unused gpointer, new
	third parameter is GTopProcViewData *.
	(display_details): Added GTopProcViewData * parameter.
	(set_info, add_info, set_mem_map, add_mem_map): Likewise.
	(add_mem_graph): Likewise.

	* procview.h (GTopProcViewType): New enum typedef.
	(GTopProcViewData): New struct typedef.
	(GTopProcViewFlags): New enum typedef.
	(GTopProcViewDetails): New struct typedef.
	(GTopProcMapRows): Formerly known as `ProcMapRows' from details.h.
	(ProcProcData): Added GTopProcViewData * field `d'.
	(proc_field): Renamed to `GTopProcField'.
	(p_fields): Renamed to `gtop_proc_fields'.
	(ProcFieldsPropertiesHook): New GTopPropertiesHook.
	(summary_cpu, summary_mem, summary_swap): Removed.

	* procview.c: Rewrote to use the GTopProcView widget. You should
	not call any of the function defined here directly, use the
	GTopProcView widget instead.
	Removed most of the static variables, they're now in the
	GTopProcViewData.
	(ProcFieldsPropertiesHook): New GTopPropertiesHook.
	(procview_all_procs, procview_tty_procs): Removed.
	(procview_user_procs): Likewise.
	(procview_start_stop, procview_tbar_time): Likewise.
	(procview_cpu, procview_mem, procview_swap): This functions now
 	take an additional GTopProcViewData * parameter.
	(procview_summary, procview_click_column): Likewise.
	(procview_clist_button_press, procview_open_details): Likewise.
	(procview_renice, renice_cb, procview_clist_menu_prepare): Likewise.
	(procview_clist_prepare, procview_update_clist): Likewise.
	(procViewUsageMenu): Removed. Menus are now defined in mdi.c.
	(procview_cfg_save, procview_cfg_read, procview_handler): Removed.
	(procview_new): This is called from the GTopProcView widget with a
	GTopProcViewData *, the parent widget and a subtype to create the
	process list.
	(procview_destroy, procview_map, procview_unmap): New functions.
	(procview_type_set): This function is now global, it takes a
	GTopProcViewData * and the subtype to set as parameters.
	(procview_un_select_row): Removed.
	(procview_select_row, procview_unselect_row): New functions.
	We need to pass the GTopProcViewData * to the callback and callback
	functions only take one argument, so we need to functions here.
	(procview_update): This function is now global and takes a
	GTopProcViewData * as parameter.
	(procview_menu_cb_details, procview_menu_cb_renice): New callback
	functions.
	(renice_close_cb, renice_destroy_cb, renice_ok_cb): Likewise.
	(renice_apply_cb): Likewise.
	(procview_clist_update): New function. This is called when the
	user changes the columns to be displayed and/or their widths in
	the properties dialog.
	(procview_init): This function now takes only a GTopProcViewData *
	parameter.

	* properties.h (GTopDetailsFlags): New enum typedef.
	(RadioButtonCbData): New struct typedef.
	(GTopProperties): Added `mdi_mode', `procview_field_mask',
	`procview_field_width', `update_times', `details_flags',
	`procview_font' and `procview_font_name'.

1998-09-27  Martin Baulig  <martin@home-of-linux.org>

	* procview.h (RadioButtonCbData): New typedef.
	(GTopProperties): Added `procview_summary_mode'.
	(GTopSummaryMode): New enum.

	* fusage.c: Replaced `SelectedFsCbData' with `RadioButtonCbData'.

	* procview.c: Improved properties handling, you can now use the
	properties dialog to select which graph summary widgets to show.
 	(gtop_signal): Removed. We now use `glibtop_sys_siglist'.

1998-09-21  Martin Baulig  <martin@home-of-linux.org>

	* procbar.c (gnome_proc_bar_properties): Use the more powerful
	GnomeColorPicker instead of the deprecated GnomeColorSelector.

	* graph.c (cpu_defaults, mem_defaults, swap_defaults): Use
	numerical GdkColor constants instead of string constants.

1998-09-21  Martin Baulig  <martin@home-of-linux.org>

	Added GTopGraph widget from the GTOP_MDI_BRANCH, this is now
	used for the MemUsage and FsUsage notebook pages.
	
	* gtop-graph.c: New file.
	* gtop-graph.h: New file.

	* fsusage.h (GTopFsUsageType): New enum containing
	`FSUSAGE_TOTAL', `FSUSAGE_USED' and `FSUSAGE_FREE' which
	replaces the `FieldType' from fsusage.c.
	(GTopFsUsageData): New structure.

	* fsusage.c (FieldType): Replaced with `GTopFsUsageType'.
	(fsusage_data_fn): Added new first argument of type `Graph *'.
	(addFsUsageView): Use the GTopGraph widget.

	* memusage.h (GTopMemUsageType): New enum containing
	`GTOP_MEMUSAGE_RESIDENT', `GTOP_MEMUSAGE_SHARED',
	`GTOP_MEMUSAGE_SIZE', `GTOP_MEMUSAGE_VIRTUAL' and
	`GTOP_MEMUSAGE_SWAP' which replaces the `FieldType'
	from memusage.c.
	(GTopMemUsageData): New structure.

	* memusage.c (FieldType): Replaced with `GTopMemUsageType'.
	(memusage_data_fn): Added new first argument of type `Graph *'.
	(addMemUsageView): Use the GTopGraph widget.

	* details.c (mem_graph_data_fn): Added new `Graph *' argument.
	(add_mem_graph): Use the GTopGraph widget.

	* main.c (main): Add graph properties.

	* global.h (__unused__): Define to `__attribute__ ((unused))'
 	if we have GNU C and to the empty string otherwise.

1998-09-03  Martin Baulig  <martin@home-of-linux.org>

	* properties.c (gtop_properties_apply): New function formerly
	known as static `properties_apply'.
	(gtop_properties_close): New function formerly known as static
	`properties_close'.

	* properties.h (GTopPropertiesHook): Added `load_temp_func',
	`save_temp_func' and `discard_temp_func'.

	* properties.h (GTopPropertiesHook): Added `user_data'.

1998-08-30  Martin Baulig  <martin@home-of-linux.org>

	Added some basic session management code. All that it does at the
	moment is to save the window geometry.
	
	* session.[ch]: New files. Copied from `ghex/gnome-support.[ch]'.
	* main.c: Added session management code.

1998-08-30  Martin Baulig  <martin@home-of-linux.org>

	Added memory usage properties. You can set the minimum sizes
	and select which processes to show.

	* properties.c (properties_hook_apply): New static function.
	(gtop_init_properties): No longer calling properties_hook_update ().

	* properties.h (GTopProcSelect): New typedef.
	(GTopPropertiesHook): Added `apply_func'.
	(GTopProperties): Added `memusage_thresholds' and `proc_select'.

	* procview.c (SummaryColorsPropertiesHook): New global variable.
	(ProcViewPropertiesHook): Splitted out summary colors stuff.

	* memusage.c (MemUsagePropertiesHook): New global variable.
	Implements memusage properties: you can set the `memusage_thresholds'
	and select which processes to show.

	* main.c: We now read and init the properties before we add any
	notebook pages so they will get the correct properties on startup.

1998-08-30  Martin Baulig  <martin@home-of-linux.org>

	Improved and rewrote property handling code. We now have
	a list called `gtop_properties_hook' of (GTopPropertiesHook)
	objects. All properties functions walk this list to call
	static functions in the C source files of the notebook pages
	we want to set the properties for.

	The C source files define a global initialized variable of type
	(GTopPropertiesHook). It is added to the `gtop_properties_hook' list
 	in `main.c' with the (ADD_PROPERTIES) C preprocessor macro and
	consists of pointers to static functions that do the properties
	handling.

	* properties.h (GTopPropertiesHook): New typedef.
	(gtop_properties_hook): New global variable.
	(gtop_temp_properties): Likewise.
	
	* properties.c (properties_hook_init, properties_hook_update),
	(properties_hook_load, properties_hook_save): New static functions
	to walk the `gtop_properties_hook' list.
	(gtop_load_properties): Renamed to `gtop_init_properties'.
	(temp_props): Renamed to `gtop_temp_properties'.
	(gtop_show_properties): The notebook pages are now initialized
	in fsusage_properties_init () and procview_properties_init () in
	`fsusage.c' and `procview.c'.
	(gtop_init_properties): Renamed from `gtop_load_properties'.
	Actual loading of properties occurs in fsusage_properties_load ()
	and procview_properties_load ().
	(gtop_save_properties): Removed this function.
	Actual saving of properties occurs in fsusage_properties_save ()
	and procview_properties_save ().

	* fsusage.c (FsUsagePropertiesHook): New global variable.
	(fsusage_properties_init, fsusage_properties_update),
	(fsusage_properties_load, fsusage_properties_save):
	New static functions to handle properties.
	
	* procview.c (ProcViewPropertiesHook): New global variable.
	(procview_properties_init, procview_properties_update),
	(procview_properties_load, procview_properties_save):
	New static functions to handle properties.

	* main.c (ADD_PROPERTIES): New C preprocessor macro that is
	used to add a (GTopPropertiesHook) object to the
	`gtop_properties_hook' list.

1998-08-28  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* procbar.c: include <config.h> for i18n.
	(gnome_proc_bar_configure): removed unused variable.

	* properties.c: include <config.h> for i18n and "fsusage.h" to
	kill warning. Also removed some excess translation (arrays were
	being translated :)

1998-08-26  Martin Baulig  <martin@home-of-linux.org>

	Added Filesystem Usage Notebook page.

	* fsusage.[ch]: New files.
	
	* properties.c: Renamed `gtop_properties' to `gtop_show_properties'.
	(gtop_properties): New global variable formerly known as `props'.
	(gtop_fstype_names, gtop_fstype_labels): New variables.
	(gtop_show_properties): Added filesystem properties.

1998-08-25  Martin Baulig  <martin@home-of-linux.org>

	Colors are are now correctly saved and loaded.

	* main.c: Call `gtop_load_properties'.

	* procbar.c (gnome_proc_bar_update): Added `GdkColor *colors'
	arguments, we use `gdk_color_parse' to write the colors found
	here to `&pb->colors [i]'.

	* procbar.h: Include "properties.h".

	* properties.h (GTopProperties): New typedef.

	* properties.c (gtop_load_properties): New function.
	(gtop_save_properties): Likewise.
	(temp_cpu_colors, temp_mem_colors, temp_swap_colors): Removed.
	(temp_props, props): New static variables of type `GTopProperties'.
	We no longer read the colors form the procbar widgets but use
	`props' and `temp_props' instead. This makes sure the user can
	change a color, press cancel and get the original one back.

1998-08-25  Martin Baulig  <martin@home-of-linux.org>

	You can now change the colors of the procbars.

	* procbar.c (gnome_proc_bar_setup_colors): New function.
	(gnome_proc_bar_update): Likewise.
	(gnome_proc_bar_properties): Changed declaration; replaced
 	`GnomeProcBar *pb' with `gint n' and `GdkColor *colors'.

	* properties.c (gtop_properties_changed): New function.
	(temp_cpu_colors, temp_mem_colors, temp_swap_colors): New
	static variables used to store properties while properties
	box is popped up.
	(properties_apply): New static function; copies `temp_cpu_colors'
	to `summary_cpu' etc., then calls `gnome_proc_bar_update'.
	(gtop_properties): Save current colors in `temp_*_colors'.
	Using `gtk_notebook_append_page' instead of obsolete
	`gnome_property_box_append_page'.

1998-08-25  Martin Baulig  <martin@home-of-linux.org>

	* configure.in: Bumped version number to 0.28.
	* gtop.spec: Likewise.
	
	* AUTHORS, main.c: I've done so much work to make it portable,
	so I think I can add myself here ...
	
	* main.c: Added properties dialog again.

	* po: New directory. Copied from `gnome-utils/po', but we'll
	remove everything that does not belong to GTop.

1998-08-25  Martin Baulig  <martin@home-of-linux.org>

	GTop has now been ported to use LibGTop.

	* proc: Removed this directory.

	* Makefile.am: Link with LibGTop.
	(gtop_SOURCES): Commented out properties dialog.

	* dummy.h: New file. Delares `proc_t' that was formerly
	in `proc/readproc.h'.

	* details.c: Large modifications to use LibGTop.

	* fromtop.c (sprintf_time): Takes tick frequency as third argument.
	* (get_elapsed_time): Some fixes here.
	* (get_etime, shift_main, pcpu_sort, mem_sort): Commented out.
	* (status): New function. Takes `proc_t' argument and returns
 	pointer	to `static char [4]' holding process state.
	* fromtop.h: Changed prototypes according to changes above.

	* global.h: Include "dummy.h".

	* graph.c (graph_expose): Replaced `w->style->bg_gc [0]' with
	`w->style->black_gc' in call to `gdk_draw_rectangle'.
	(graph_process_data): Replaced `g->da->style->bg_gc [0]' with
	`g->da->style->black_gc' in call to `gdk_draw_rectangle'.

	* main.c: Commented out properties dialog.

	* proc.c: Completely rewritten to use LibGTop.

	* memusage.c: Changed to use LibGTop.
	* procview.c: Likewise.
	
1998-08-15  Martin Baulig  <martin@home-of-linux.org>

	* memusage.c: Added virtual and swapped memory sizes.

	* procview.c: Using `gnome_stock_set_icon' instead of obsolete
	`gnome_stock_pixmap_widget_set_icon'.
	* memusage.c: Likewise.

	* main.c (createMainWindow): We now get the correct menu when
	starting with memusage view.

1998-08-05  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* main.c (mainmenu): #ifdef'ed out the System menu, as it does not
	have anything useful.

	* Fixed compiler warnings.

1998-07-01  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* gtop.desktop: Added Portuguese translation.

1998-06-14  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* main.c (main): Uses 'gnome_master_client' instead of
 	'gnome_client_new_default'.

1998-06-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* details.c (mem_graph_data_fn): Long format for snprintf is needed.
	Also, handle the case where (*rs)->filename is not null but it
	does not have a '/' in it.

1998-05-24  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* properties.c 	(properties_close): Bug fix:  add a signal handler
	for delete_event so that we mark the properties page as not being shown.
	
	(gtop_properties): Add i18n support for initialized
	constatns. 

1998-05-18  Radek Doulik  <rodo@msdec.ms.mff.cuni.cz>

	* procbar.c: rewrite procbar to GtkWidget

	* properties.c: started work on gtop properties dialog

1998-05-11  Radek Doulik  <rodo@msdec.ms.mff.cuni.cz>

	* procview.c (procview_clist_menu_prepare): fixed send KILL signal
	so now it really sends KILL instead of TERM like before
	* added renice dialog

1998-04-27  Radek Doulik  <rodo@msdec.ms.mff.cuni.cz>

	* memusage.c: fixed start/stop icon

	* main.c (main): save selected page on exit to restore it on start

Sun Apr 26 00:06:47 1998  Havoc Pennington  <hp@pobox.com>

	* details.c: use GnomeDialog for the details window. Mostly
 	involved changes to procview_details(). Also, create all the
 	widgets inside the dialog before showing it.

1998-04-17  Radek Doulik  <rodo@msdec.ms.mff.cuni.cz>

	* memusage.c: fields in menu work now, physical memory break down
	disabled because there is no way to get these info from kernel,
	last impl. wasn't right (rss is not what it was supposed to be).

	* global.h: dropped GNOME_PAD definition, it is already in gnome-uidefs.h

1998-04-05  Radek Doulik  <rodo@msdec.ms.mff.cuni.cz>

	* memusage.c: mem usage viewer - uses graph.ch

Fri Mar 20 21:14:33 1998  Radek Doulik  <rodo@aquarius>

	* details.c (set_mem_map): keep clist scrollbars in their position
	(mem_graph_data_fn): fixed segfault in details, when process don't
	exist

Wed Mar 18 14:09:14 1998  Radek Doulik  <rodo@aquarius>

	* added #include <config.h> to some .c files to make i18n stuff work

Mon Mar  9 21:11:24 1998  Radek Doulik  <rodo@aquarius>

	* procview.c: show swap summary, only if there is one

Mon Mar 16 01:44:39 1998  Tom Tromey  <tromey@cygnus.com>

	* procview.c (procview_init): Renamed "index" to "ndx".  Somewhere
	on my system `index' is being defined to `strchr', which causes
	problems.

Sun Mar  8 16:40:07 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (INCLUDES): Added GNOME_INCLUDEDIR.

	* main.c (main): Use new gnome_init.

Sun Mar  1 14:48:54 1998  Radek Doulik  <rodo@aquarius>

	* details.c (get_map_rows): close maps file in proc, I have hunted
	this bug a whole day ;-) (thanks for the great strace program
	(also used with gtop itself to locate growing memory section :))

Sat Feb 28 09:55:43 1998  Radek Doulik  <rodo@aquarius>

	* proc/readproc.c: set procfs to NULL in openproc, so then
	condition in closeproc [if (PT->procfs)] has sense now

	* removed // comments from C code for those not using GCC ;-)

	* main.c: use GNOMEUIINFO macros

	* details.c (mem_seg): minor changes in identifying map row

1998-02-26  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* procview.c: Added #ifdefs for some signals which may not be
	available everywhere.  Maybe this is not the best way to handle things.

1998-02-25  Raja R Harinath  <harinath@cs.umn.edu>

	* procview.c: Replace `//...' comments with `/*...*/'.

Wed Feb 25 19:16:18 1998  Radek Doulik  <rodo@aquarius>

	* details.c (add_mem_graph): graphical memory map for processes

Tue Feb 24 16:11:27 1998  Radek Doulik  <rodo@aquarius>

	* procview.c: updated to work with new app_helper

Sun Feb 22 17:15:46 1998  Radek Doulik  <rodo@aquarius>

	* Makefile.am (gtkrc_DATA): added gtoprc for monospaced fonts in
	GTop Lists

	* details.c (get_map_rows): Raw Memory Map page in Details window
	filled :-)

Sat Feb 21 21:07:26 1998  Radek Doulik  <rodo@aquarius>

	* details.c (add_info): started work on details window

Fri Feb 20 11:36:18 1998  Radek Doulik  <rodo@aquarius>

	* procview.c (sprint_fmt): added P_TIME, P_UTIME, P_STIME
	(PIX): ref pixmaps widgets, so select sort field works again :)
	(procview_update): use proc_data instead of proc_tab, so now I can
	use not only values from proc_t, but also computed ones per process

1998-02-19  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* main.c (main): Added app_id "gtop".

Wed Feb 18 11:14:39 1998  Radek Doulik  <rodo@aquarius>

	* procview.c: added popup menu in proclist

	* gtop.desktop (Comment): added Name[cz] and Comment[cz]

1998-02-14  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* main.c (save_state): Changed to use new SM support.
	(main): Changed to use new SM support.

	* Makefile.am (gtop_LDADD): Added $(INTLLIBS)

Sat Jan 24 17:09:05 1998  Radek Doulik  <rodo@aquarius>

	* procview.c: view menu

Wed Jan 28 12:00:09 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* main.c (about_cb): Added about box support;

1998-01-26  Mark Galassi  <rosalia@cygnus.com>

	* Makefile.am (LDADD): added $(DL_LIB) since these are now
	required for any user of libgnome.a.

Sun Jan 25 23:38:30 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* main.c: Replace "Quit" with "Exit".
	
Fri Jan 23 17:37:38 1998  Radek Doulik  <rodo@aquarius>

	* procview.c (procview_clist_prepare): added pixmap indicating
	sort order + change sort order, when click on sorted column

	* main.c: use these nice gnome menus

Tue Jan 20 13:04:14 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* procview.cc (procview_clist_prepare): Use new gtk+ prototype for
	gtk_clist_new. 

Tue Jan 20 08:05:48 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile: Removed.
	* proc/Makefile: Removed.

