<!DOCTYPE Book PUBLIC "-//GNOME//DTD DocBook PNG Variant V1.0//EN" [
<!ENTITY GNOME-APPS SYSTEM "gtop.sgml">] >

<Book id="index">
 <title>The GNOME System Monitor</title>
 <bookinfo>
  <authorgroup>
   <author>
    <firstname>Telsa</firstname>
    <surname>Gwynne</surname>
   </author>
  </authorgroup>
  <releaseinfo>documentation in progress</releaseinfo>
   <legalnotice>   
    <para>
      This document can be freely redistributed according to the
      terms on the GNU General Public License.
    </para>
   </legalnotice>
 </bookinfo>
 <toc></toc>

 <chapter id="gtop">
  <title>The GNOME System Monitor</title>

  <sect1 id="Description">
  <title>Description</title>
   <para>
     The <guimenu>GNOME System Monitor</guimenu> menu entry starts a 
     program called <application>gtop</application>. 
     <application>gtop</application> is a graphical version of a text 
     program called <application>top</application>. It displays information 
     about all the programs running on your computer. There are three ways 
     to start it:
    <itemizedlist>
     <listitem>
      <para>
        At the command line, type <command>gtop</command>.
      </para>
     </listitem>
     <listitem>
      <para>
       <menuchoice>
        <guimenu>main GNOME menu</guimenu>
        <guimenu>Utilities</guimenu>
        <guimenuitem>Systems Monitor</guimenuitem>
       </menuchoice>
      </para>
     </listitem>
     <listitem>
      <para>
       If you have the <application>multi_load applet</application> running
       on your GNOME panel, then you can start gtop by right-clicking on
       the applet and selecting the <command>Run gtop</command> option.
      </para>
     </listitem>
    </itemizedlist>
   </para>

   <para>
     UNIX and UNIX-like systems (Linux, Solaris, *BSD and so on) are 
     multi-tasking, which means that they can run more than one program
     at a time. Each program can run one or more "tasks", or processes.
     All these processes share processor (CPU) time and memory. Whilst
     only one process can talk to a CPU at a time, the processes take 
     turns at this which are very short. The result is that all the
     programs on the machine can proceed. gtop produces one or more 
     constantly-updated windows which show you snapshots of the state of 
     your system. The display can show you:

    <orderedlist>
     <listitem>
      <para>
        processes: which processes are currently the most active and what 
        they are doing;
      </para>
     </listitem>
	 
     <listitem>
      <para>
        memory: how much memory is available and how much is in use;
      </para>
     </listitem>
         
     <listitem>
      <para>
        filesystems: how much of the filesystem is full or empty.
      </para>
     </listitem>
    </orderedlist>
   </para>

   <para>
     The gtop window also shows some additional system information 
     at the bottom. In all windows, a menubar and toolbar are visible. 
     These let you customise the current display of information or 
     switch to a different display. In addition, you can get more 
     information on a particular process by clicking on the name of 
     that process in the process window.
   </para>
   <para>
      By default, gtop will begin with the first window: processes.
   </para>
  </sect1>

  <sect1 id="processes">
   <title>The Processes window</title>


   <para>
     There is a lot of information displayed in this window, and it is
     constantly being updated. (If you have the CPU monitor applet running, 
     you will see periodic spikes as the updates occur.) For clarity in this 
     guide, this window's display can be divided into three areas. The top 
     shows menubars, options, and a graphical summary. The central area shows 
     fields of process information. The statusline shows a summary of other 
     machine information at the base of the window.
   </para>

   <figure>
    <title>The processes window of gtop</title>
    <screenshot>
     <screeninfo>The processes window of gtop</screeninfo>
     <graphic format="png" fileref="./figs/gtop-proc.png" srccredit="telsa">
     </graphic>
    </screenshot>
    </figure>

   <sect2 id="processes-top">
    <title>The top part of the display</title>
    <para>
      At the top of the display are the <guibutton>menubar</guibutton> and 
      the <guibutton>toolbar</guibutton>. These are explained in the 
      <link linkend="p-menu-file">menubar</link> section. 
      If gtop is using the 'notebook' display format (this is set in the 
      <link linkend="preferences">Preferences</link> dialogue), then beneath
      the toolbar you will also see a list of the three displays you can 
      view: processes, memory use and filesystem use; with the current
      display highlighted. Beneath these is a graphical summary of the
      machine's state.
    </para>


    <sect3 id="processes-graphs">
     <title>The graphical summary</title>
     <para>
       The fluctuating graphs visible show:
      <itemizedlist>
       <listitem>
        <para>
          CPU use;
        </para>
       </listitem>
       <listitem>
        <para>
          Memory use;
        </para>
       </listitem>
       <listitem>
        <para>
          Swap space use;
        </para>
       </listitem>
       <listitem>
        <para>
          The load average.
        </para>
       </listitem>
      </itemizedlist>
     </para>


     <para>
       <guilabel>CPU</guilabel>: The colours for the display are 
       configurable with the Preferences dialogue but default values are:
     </para>

     <para>
      <itemizedlist>
       <listitem>
        <para>
          programs running in user-mode: default colour is yellow
        </para>
       </listitem>

       <listitem>
        <para>
          programs at low priority: default colour is pale grey
        </para>
       </listitem>

       <listitem>
        <para>
          programs runing in kernel-mode: default colour is dark grey
        </para>
       </listitem>

       <listitem>
        <para>
          amount of idle CPU: default colour is black
        </para>
       </listitem>
      </itemizedlist>
     </para>

     <para>
       These vary in quantity as the CPU usage changes, giving you an idea of
       how busy your CPU is. The actual figures can be seen in percentage form
       at the base of the gtop display. 
     </para>

     <para>
       <guilabel>MEM</guilabel>: The colours for the display are configurable 
       with the Preferences dialogue but default values are:
     </para>

     <para>
      <itemizedlist>
       <listitem>
        <para>
          free, ie unused, memory: default colour is dark green
        </para>
       </listitem>

       <listitem>
        <para>
          buffers, or memory which is holding such things as data which 
          has not yet been written to the disk, and data which has been 
          read from the disk and kept in memory just in case it is needed 
          again: default colour is dark grey
        </para>
       </listitem>

       <listitem>
        <para>
          shared memory: memory containing information that more than
          one program is using: default colour is yellow
        </para>
       </listitem>

       <listitem>
        <para>
          other: default colour is mucky yellow-green
        </para>
       </listitem>
      </itemizedlist>
     </para>

     <para>
       These vary in quantity as programs require or yield memory. Because
       operating systems vary, it is not easy to compare these numbers 
       across operating systems. 
     </para>

     <para>
       <guilabel>SW</guilabel>: The colours for the swap space in use are 
       configurable with the Preferences dialogue but default values are:
     </para>

     <para>
      <itemizedlist>
       <listitem>
        <para>
          swap space in use: default colour is red
        </para>
       </listitem>

       <listitem>
        <para>
          swap space not in use: default colour is dark green
        </para>
       </listitem>
      </itemizedlist>
     </para>

     <para>
       On Solaris, the amount of swap space available can change
       whilst the system is running.
     </para>

     <para>
       The swap space is a part of the hard drive which is not
       part of the filesystem. When the kernel decides a program in
       memory is not being used a lot but might be required soon, 
       it takes parts of the program (called 'pages') out of memory
       and puts those into the swap space, where it can easily retrieve it.
       This is called swapping. If the data is put back into memory, the 
       swap space is not immediately freed up, which means its use may 
       look higher than it really is.
     </para>

     <para>
       <guilabel>LA</guilabel>: The colours for the current load average 
       are configurable with the Preferences dialogue but default values are:
     </para>
     <para>
      <itemizedlist>
       <listitem>
        <para>
          load average: default colour is red
        </para>
       </listitem>
       <listitem>
        <para>
          background colour: default colour is green
        </para>
       </listitem>
      </itemizedlist>
     </para>

     <para>
       The load average is a representation of how "busy" your machine is.
       The figures can be seen at the base of the display in a group of
       three. The first is the load average over the last minute, the 
       second is the load average of the last 5 minutes, and the third 
       is the load average of the last 15 minutes. When the load average 
       over the last 15 minutes is consistently over 1.0, then the CPU on
       a single-processor machine is constantly in use at 100% of its 
       capacity. The effect of different load averages will vary by 
       machine. Whilst a single-processor machine may feel horribly 
       slow with a load average of 0.8, a multi-processor machine showing
       the same load average will feel far less 'busy'. (For the curious
       wondering why it's called a load average, it is calculated over
       time as an average from the number of processes which show up 
       as R or D. See <guibutton>Stat</guibutton> below for what these
       mean.)
     </para>

    </sect3>
   </sect2>

   <sect2 id="process-fields">
    <title>The process fields</title>

    <para>
      This is where the most information can be seen. Those familiar 
      with the <application>top</application> program will recognise it easily. 
      The display can be customised with the 
      <link linkend="preferences">Preferences</link>
      dialogue box, but the default settings include all but three information 
      fields. There are two scrollbars: horizontal and vertical. To see
      everything on the display, you will certainly need to use the 
      vertical scrollbar. You will probably need the horizontal one too.
    </para>

   <figure>
    <title>The gtop processes display</title>
    <screenshot>
     <screeninfo>The gtop processes display</screeninfo>
     <graphic format="png" fileref="./figs/gtop-pic-middle.png" srccredit="telsa">
     </graphic>
    </screenshot>
    </figure>

    <para>
     <itemizedlist>
      <listitem>
       <para>
         <guibutton>PID</guibutton>: process identification.
       </para>
      <para>
        This is the unique number of the process. No two processes 
        will have the same number.
      </para>
     </listitem>
    
     <listitem>
      <para>
        <guibutton>user</guibutton>: the name of the user owning 
         the process.
       </para>
      <para>
        This is normally the user who started the program, but not
        always. For example, a user can start X running, but the
        resulting X process is owned and controlled by root. There
        is also a special user called 'nobody' which runs quite a
        lot of things. So if 'nobody' is the user, it does not mean
        that the process is unowned and uncontrolled. 
      </para>
     </listitem>

      <listitem>
       <para>
         <guibutton>Pri</guibutton>: the priority of the process
       </para>
       <para>
         Priority controls how much access the process can get to the
         CPU. The normal priority is zero. <!--A positive number is a 
         low priority. A negative number is a high priority.--> See 
         the field called <guibutton>Ni</guibutton>, too. 
       </para>
      </listitem>

      <listitem>
       <para>
         <guibutton>Ni</guibutton>: the 'nice' value of the process
       </para>
       <para>
         This field is not shown by default. You can <command>nice</command> 
         a process (see 
         <link linkend="p-mouse-proc-sel">manipulating processes</link>), 
         which then lowers its priority. This is called nice because it is a 
         sociable thing to do for programs which don't need high priority. 
         It is often done with resource-hungry programs which do not need 
         interactive input in order to stop them using all the system's 
         resources. The super-user can <command>nice</command> a process 
         in the opposite direction to give it a higher priority. The range 
         is from -20 (not nice and high-priority) to +19 (nice and 
         low-priority). See the field called <guibutton>Pri</guibutton>, too.
       </para>
      </listitem>

      <listitem>
       <para>
         <guibutton>Size</guibutton>: the size of the code, data and stack 
         space (everything it need to run, in other words), in kilobytes.
       </para>
       <para>
         This is a very rough guide, as it depends on how much memory
         the process has been allocated, not how much of that it is
         actually using. It may well not be using it all. So it is
         a bad way to look at how big a program is. A better way to find 
         out what is in memory is the <guibutton>RSS field</guibutton>.
       </para>
      </listitem>

      <listitem>
       <para>
         <guibutton>RSS</guibutton>: the resident memory set size
       </para>
       <para>
         This is not shown by default. This is the total amount of physical 
         memory (it does not include swap space) in kilobytes being used by 
         the process. If shared libraries are used by the program, that is 
         added into the total. 
       </para>
      </listitem>

      <listitem>
       <para>
         <guibutton>Resident</guibutton>: the resident memory size.
       </para>             
       <para>
         On BSD and Solaris systems, this field has the same value as the 
         RSS field. See the previous entry for what that means. On Linux, 
         it is the size of the process including what has been swapped out. 
         It is displayed in kilobytes.
       </para>
      </listitem>

      <listitem>
       <para>
         <guibutton>Share</guibutton>: shared memory
       </para>
       <para>
         This field is not shown by default. It is the amount of shared 
         memory used by the process, shown in kilobytes. It includes 
         memory, but not swap space. Shared memory is memory which more 
         than one program is using, saving space. 
       </para>
      </listitem>

      <listitem>
       <para>
         Stat: the state of the process
       </para>
       <para>
         This is what the process is doing currently. The symbols
         you will see here are:
       </para>
       <itemizedlist>
        <listitem>
         <para>
            R = running; 
         </para>               
        </listitem>
        <listitem>
         <para>
           S = sleeping; 
         </para>
        </listitem>
        <listitem>
         <para>
           D = uninterruptible sleep. The process is asleep and waiting 
           for a wake-up call. 
         </para>
        </listitem>
        <listitem>
         <para>
           Z = zombie. A zombie process is dead and waiting for its parent 
           process to clean it up;
         </para>
        </listitem>
        <listitem>
         <para>
           T = stopped or traced. Tracing a process means looking at
           a list of output for every single little thing it does.
         </para>
        </listitem>
       </itemizedlist>
       <para>
         Sometimes a second symbol is visible:
       </para>
       <itemizedlist>
        <listitem>
         <para>
           W = the entirety of the program (not just part of it) has been 
           swapped to disk; or the process is currently in the middle
           of swapping.
          </para>
         </listitem>
        <listitem>
        <para>
           N = niced (positive value), so having less CPU time
           than normal. See <guibutton>Pri</guibutton> and 
           <guibutton>Ni</guibutton>.
         </para>
        </listitem>
        <listitem>
         <para>
           &lt = niced (negative value), so able to get more CPU time
           than normal. See <guibutton>Pri</guibutton> and 
           <guibutton>Ni</guibutton>.
         </para>
        </listitem>
       </itemizedlist>
      </listitem>

      <listitem>
       <para>
         <guibutton>CPU</guibutton>: the CPU use of the process
       </para>
       <para>
         This is what percentage of the total CPU time available the
         process is using.
       </para>
      </listitem>

      <listitem>
       <para>
         <guibutton>MEM</guibutton>: the memory use of the process
       </para>
       <para>
         The amount of memory currently being used, as a percentage.
       </para>
      </listitem>

      <listitem>
       <para>
         <guibutton>Time</guibutton>: the total time the process has spent 
         talking to the CPU.
       </para>
       <para>
         This is only how much time the process has spent talking to the
         CPU. It does not tell you much about how long the program has
         been running, because different programs require different 
         amounts of CPU time. 
       </para>
      </listitem>

      <listitem>
       <para>
         <guibutton>UTime</guibutton>: the total usertime of the process.
       </para>
       <para>
         This is not shown by default. It is the total time spent in 
         "userspace": running the application without talking to the kernel, 
         in other words.
       </para>
      </listitem>

      <listitem>
       <para>
         <guibutton>STime</guibutton>: the total system time of the process.
       </para>
       <para>
         This is not shown by default. This is the amount of time the 
         process has spent running kernel code. This is often required 
         if the program needs to do I/O: to move things from disk to 
         memory, from memory to disk, or around a network, for example.
       </para>
      </listitem>

      <listitem>
       <para>
         <guibutton>Cmd</guibutton>: command
       </para>
       <para>
         This is the command which the process is running. If it is in
         brackets, then the program has been 'swapped out' and is on the
         disk, not in memory. It needs to be swapped back (by the system,
         not the user) into memory before it will do more. 
       </para>
      </listitem>
     </itemizedlist>
    </para>
   </sect2>

   <sect2 id="statusbar">
    <title>The lower part of the display</title>
    <para>
      There are (by default) four boxes at the base of the display. You
      can change this, adding more or removing some, if you alter your 
      <link linkend="preferences">preferences</link>. 
    </para>

   <figure>
    <title>The gtop statusbar</title>
    <screenshot>
     <screeninfo>The gtop statusbar</screeninfo>
     <graphic format="png" fileref="./figs/gtop-pic-bottom.png" srccredit="telsa">
     </graphic>
    </screenshot>
    </figure>

    <para>
      If you shrink the display horizontally, you may find that some of the
      boxes are no longer visible. The left-most of the default four boxes 
      displays your hostname. The second box displays CPU usage by users 
      and the system as percentages. The third gives you the current time 
      and the uptime (how long the system has been up) of your system. The 
      fourth box displays the load average of the machine in numbers rather 
      than the graphical representation at the top of the display.
    </para>
   </sect2>
        
   <sect2 id="processes-menus">
    <title>Menu options affecting the process display</title>
    <para>
      Several menu options can affect the display in the process
      window, as can the <link linkend="preferences">preferences and 
      toolbar options</link>.
    </para>

    <sect3 id="p-menu-file">
     <title><guimenu>File Menu</guimenu></title>

      <variablelist>
       <varlistentry>
        <term><guimenuitem>New View</guimenuitem></term>
        <listitem>
         <para>
           When using the 'notebook' mode (see the MDI modes in the
           Preferences dialogue), this redraws the current process view 
           as a new page of the notebook. When using the 'toplevel' mode,
           it draws it in a new window. When using the 'modal' mode, it
           draws it on top of the original display. (FIXME -- Check this.
           Needs better wording in any case.)
         </para>
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guimenuitem>New Window</guimenuitem></term>
         <listitem>
         <para>
           This opens a new window of gtop. If you have a low-end
           machine, you will see the load average increase sharply
           when you do this. 
         </para>
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guisubmenu>New...</guisubmenu></term>
        <listitem>
         <para>
           This leads to a further choice of options: Process
           usage, Memory usage, and Filesystem usage. These are
           described under other menu entries.
         </para>
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guimenuitem>Close</guimenuitem></term>
        <listitem>
         <para>
           This closes the window. If it is the final or only
           window, gtop exits.
         </para>
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guimenuitem>Exit</guimenuitem></term>
        <listitem>
         <para>
           This exits gtop, closing the window(s).
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
     </sect3>

     <sect3 id="p-menu-view">
      <title><guimenu>View Menu</guimenu></title>
      <variablelist>
       <varlistentry>
        <term><guimenuitem>tty processes checkbox</guimenuitem></term>
        <listitem>
         <para>
          'tty' is a common abbreviation for terminal. If 'tty 
           processes' is checked, only those processes which run in a 
           terminal are shown. This includes most processes started
           by users. Some processes, such as system daemons, do not 
           get run in a terminal and so will be removed from the
           display whilst this box is checked. 
         </para>
        </listitem>
       </varlistentry>
       
       <varlistentry>
        <term><guimenuitem>Hide idle processes checkbox</guimenuitem></term>
        <listitem>
         <para>
           If 'hide idle processes' is checked, only those
           processes in a state of 'R' (or running) are shown. This
           will often mean only the gtop process is visible on the 
           display. This is a useful box to check if you think that
           one of your programs is 'eating CPU time' as it will 
           show up more obviously here if this is the case. 
         </para>
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guimenuitem>Hide system processes checkbox</guimenuitem></term>
        <listitem>
         <para>
           If 'hide system processes' is checked, the processes
           which the system runs continually are not shown, largely 
           cutting the display down to programs started by users.
         </para>
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guimenuitem>All processes radio box</guimenuitem></term>
        <listitem>
         <para>
           If 'all processes' is checked, gtop displays
           information on all processes running on the machine.
           You will need to use the scrollbar to see all of them.
           Either this or the 'user processes' box must be checked.
         </para>
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guimenuitem>User processes radio box</guimenuitem></term>
        <listitem>
         <para>
           If 'user processes' is checked, gtop displays
           information only on processes which were started as the
           result of commands by the user. (Note that some processes
           are still owned by 'root'; they are processes started by
           a command from the user, which root then runs for the user.)
           Either this or the 'all processes' button must be checked.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
     </sect3>

     <sect3 id="p-menu-set">
      <title><guimenu>Settings Menu</guimenu></title>
      <para>
        The <guimenu>Settings Menu</guimenu> gives access to the 
        <link linkend="preferences"><guimenu>Preferences</guimenu></link> 
        dialogue.            
      </para>
     </sect3>

     <sect3 id="p-menu-win">
      <title><guimenu>Windows Menu</guimenu></title>
      <para>
        The <guimenu>Windows Menu</guimenu> provides a choice of which of 
        gtop's three displays to show: <guimenuitem>Processes</guimenuitem>, 
        <guimenuitem>Memory Usage</guimenuitem>, or <guimenuitem>Filesystems
        </guimenuitem>.
      </para>
     </sect3>

     <sect3 id="p-menu-help">
      <title><guimenu>Help Menu</guimenu></title>
      <para>
        The <guimenu>Help Menu</guimenu> gives access to the 
        <guimenuitem>About</guimenuitem> dialogue box for gtop's credits 
        and to this manual.
      </para>
     </sect3>

     <sect3 id="toolbar">
      <title>Toolbar</title>
      <para>
        There are two icons on the toolbar. The <guiicon>icon</guiicon>
        with a little clock and a tick or a cross by it is for 
        'start/stop sampling'. The default is that sampling is on and the 
        display is being constantly updated. Switching it off will stop the 
        display being updated. The <guiicon>notepaper icon</guiicon> invokes 
        the Preferences dialogue for gtop. 
      </para>
     </sect3>
    </sect2>

    <sect2 id="procview-mouse">
     <title>Mouse selection</title>
     <para>
     </para>

     <sect3 id="p-mouse-columns">
      <title>Altering the process display</title>
      <para>
        There are three ways to alter the display of the different
        fields in the processes view.
      </para>
      <orderedlist>
       <listitem>
        <para>
          You can remove or add entire fields from the display. To
          do this, use the <link linkend="preferences"><guimenu>
          Preferences</guimenu></link> dialogue.
        </para>
       </listitem>
       <listitem>
        <para>
           You can alter the width of the different fields displayed. 
           Move the pointer to the boundary between two fields, and it
           will change to a double-headed arrow and a vertical bar will
           appear. Drag this bar to where you want to resize the column.
           (POSSBUG: is this what's supposed to happen? I can move the 
           line that appears but the display doesn't redraw and adjust.)
        </para>
       </listitem>
       <listitem>
        <para>
           You can sort the display by each field so that processes with
           the highest or lowest value appear at the top of the display.
           Pick a column title and click on it with <mousebutton>mouse 
           button one</mousebutton> (this is the left mouse button for most 
           people, although some left-handers change this). Most columns 
           have two alternative ways of sorting the display. For example, 
           clicking a few times on the <guibutton>PID</guibutton> column 
           title will switch between displaying the processes in ascending 
           and descending order of their PID number. Clicking on 
           <guibutton>Time</guibutton> will range them in order of which has 
           used the most or least CPU time. Sorting by the different memory 
           options can be interesting, but it can be very noticeable that 
           some programs appear large by one measure and small by other 
           measures. The only column which does not have a sorting facility 
           in it is the Stat column.
        </para>
       </listitem>
      </orderedlist>
     </sect3>

     <sect3 id="p-mouse-proc-sel">
      <title>Selecting and manipulating processes</title>
      <para>
        Individual processes can be selected by clicking on them with 
        <mousebutton>mouse button one</mousebutton> (which is the left
        mouse button for most people.) To deselect a process, either
        select a new one, or single-click on the one you want to 
        deselect. Double-clicking on a selected process will produce a 
        further display of information in a new window. This new window 
        is the same as the window produced by the <guimenuitem>Details
        </guimenuitem> menu item described below. 
      </para>

      <para>
        Once a process has been selected, clicking with <mousebutton>
        button two</mousebutton> on that process produces a further menu. 
        This gives the choice of 
          <guisubmenu>Send...</guisubmenu> <guimenuitem>SIGTERM</guimenuitem>,
          <guisubmenu>Send...</guisubmenu> <guimenuitem>SIGKILL</guimenuitem>,
          <guimenuitem>Renice</guimenuitem>,
          <guimenuitem>Memory maps</guimenuitem>, or
          <guimenuitem>Details</guimenuitem>.
      </para>

      <para>
        The list of SIG messages that you can send to that process is 
        very long, but they are almost all ways of killing that process. 
        <emphasis>Be sure you mean to kill it if you select anything 
        beginning with SIG. Be doubly sure if you are running gtop as root.
        </emphasis> As root, you can kill processes belonging to other 
        people, and you can kill processes that the machine needs. This is 
        a bad idea. 
      </para>
      <para>
        <guimenuitem>SIGTERM</guimenuitem> is used to send the process
        a polite "please terminate and tidy up" signal. 
        <guimenuitem>SIGKILL</guimenuitem> is used to send a process a less 
        polite "die now" signal. If SIGTERM doesn't work to kill a process, 
        then try SIGKILL. 
      </para>
      <para>
        Selecting <guimenuitem>renice</guimenuitem> brings up a dialogue box 
        where you can alter the process's priority. 0 is normal. Only root 
        can renice processes to negative numbers, which makes them less
        nice and gives them a higher priority. Anyone can slow their 
        own processes down, however. 
      </para>
    
      <para>
        There are three forms of the <guimenuitem>memory map</guimenuitem>. 
        The first, <guilabel>process info</guilabel>, displays the same 
        information that the process display shows. The <guilabel>raw 
        memory map</guilabel> shows all the addresses in memory that
        this process uses and that its shared libraries use. The
        <guilabel>graphical memory map</guilabel> is a graphical 
        representation of the information in the raw memory map. This 
        information is probably not something that most people will need 
        (or want) to know.
      </para>

      <para>
        The <guimenuitem>Details</guimenuitem> menu option brings up the
        same information that double-clicking with <mousebutton>button 
        1</mousebutton> on the process line on the main display does. It 
        appears in a very wide dialogue box, so people with small screens 
        should beware. The only extra information not on the main process 
        screen which is provided by this dialogue box are the WCPU on
        systems which support it (weighed CPU use, calculated slightly
        differently from CPU but a similar idea); and the <phrase>process 
        credentials</phrase>: effective user ID (EUID), real user ID (RUID), 
        effective group ID (EGID) and real group ID (RGID). These show 
        whose permissions the process is running with. Some programs are 
        invoked by the user but run with other permissions. For example, 
        changing your password with the <command>passwd</command> command 
        will result in an effective UID of root for that process, because 
        only root can run the part of that program which changes the password. 
      </para>

     </sect3>
    </sect2>
   </sect1>

   <sect1 id="memory">
    <title>The Memory Usage window</title>

    <sect2 id="display">
     <title>The display</title>

     <figure>
      <title>The gtop memory usage display</title>
      <screenshot>
       <screeninfo>The gtop memory usage display</screeninfo>
       <graphic format="png" fileref="./figs/gtop-mem.png" srccredit="telsa">
       </graphic>
      </screenshot>
     </figure>

     <para>
       This window shows the percentage of memory used by different
       programs. Each section is colour-coded and labelled. The number 
       in brackets after a program's name is the number of instances of 
       that program running. If you have gnome-terminals or xterminals
       open, for example, you will see more than one instance of these
       and of bash, or your preferred shell, running. The default display 
       shows the Resident Set Size (the amount of physical memory used by 
       the program and the shared libraries that it needs, but not 
       swapped-out data) for all processes. Other displays can be invoked 
       from the
       <link linkend="m-menu-view"><guimenu>View Menu</guimenu></link> and 
       the <link linkend="preferences"><guimenu>Preferences</guimenu></link> 
       box. 
     </para>
    </sect2>

    <sect2 id="memory-menus">
     <title>Menu options affecting the memory display</title>
     <para>
       Several menu options can affect the display in the memory
       window. There is also a <link linkend="toolbar">toolbar</link>
       which is described in the Processes section of this document. 
     </para>

     <sect3 id="m-menu-file">
      <title><guimenu>File Menu</guimenu></title>
      <para>
        The File Menu provides the same options as the File Menu on
        the Processes Window. See <link linkend="p-menu-file">there
        </link> for the description.
      </para>
     </sect3>

     <sect3 id="m-menu-view">
      <title><guimenu>View Menu</guimenu></title>
      <para>
        The View Menu provides a choice of five options:
      </para>

      <variablelist>
       <varlistentry>
        <term><guimenuitem>Resident Set Size</guimenuitem></term>
        <listitem>
         <para>
           The Resident Set Size shows the total of what is in physical
           memory, both the program and any shared libraries associated
           with it. It does not show data about anything which has been
           swapped out to disk.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenuitem>Shared Size</guimenuitem></term>
        <listitem>
         <para>
           FIXME: Need a clear explanation of what Shared Size memory view
           means.
         </para>
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guimenuitem>Total Size</guimenuitem></term>
        <listitem>
         <para>
           FIXME: Need a clear explanation of what Total Size memory view
           means.
         </para>
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guimenuitem>Virtual Size</guimenuitem></term>
        <listitem>
         <para>
           FIXME: Need a clear explanation of what Virtual Size memory view
           means.
         </para>          
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guimenuitem>Swapped Size</guimenuitem></term>
        <listitem>
         <para>
           Swapped Size shows the sizes of what's in swap. When 
           something is swapped out, it means that not all of the
           program is in physical memory. All or some of it has been
           moved from the memory to the hard drive, into the 'swap
           partition'. When the program requires it again, it will
           put it back into memory. The process of swapping between
           memory and disk can be slow, so programs which swap a lot
           can appear to progress in jerks rather than running smoothly. 
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
     </sect3>

     <sect3 id="m-menu-set">
      <title><guimenu>Settings Menu</guimenu></title>
      <para>
        The <guimenu>Settings Menu</guimenu> gives access to the 
        <link linkend="preferences"><guimenu>Preferences</guimenu></link>
        dialogue.
      </para>
     </sect3>

     <sect3 id="m-menu-win">
      <title><guimenu>Windows Menu</guimenu></title>
      <para>
        The <guimenu>Windows Menu</guimenu> provides a choice of which of 
        gtop's three displays to show: Processes, Memory Usage, or Filesystems.
      </para>
     </sect3>

     <sect3 id="m-menu-help">
      <title><guimenu>Help Menu</guimenu></title>
      <para>
        The <guimenu>Help Menu</guimenu> gives access to the 
        <guimenu>About</guimenu> dialogue box and gtop's credits.
      </para>
     </sect3>
    </sect2>
   </sect1>

   <sect1 id="filesystems">
    <title>The Filesystems window</title>

    <para>
      The Filesystems window displays information about the machine's
      filesystems. The default display begins by showing a display of
      free space on filesystems on the machine. On the left is a
      graphical representation of the relative sizes of those filesystems,
      and on the right are details for each filesystem: its name, 
      the percentage of free space on it, and whatever parameter
      you have selected to view: the allotted size, the used size, or
      the amount free on it. You can refine exactly how gtop displays
      these with the <link linkend="preferences"><guimenu>Preferences
      </guimenu></link> dialogue and with the <link linkend="fs-menu-view">
      <guimenu>View Menu</guimenu></link>.
    </para>

    <sect2 id="fs-expl">
     <title>A word about filesystems</title>
     <para>
       Filesystems under UNIX can be a little daunting. There is
       a fuller explanation in the appendix to the GNOME users'
       guide. 

       The display on the filesystems window will vary from machine
       to machine. It depends on what filesystems are actually mounted
       on your machine. For a fuller explanation of mounting, you
       may wish to look at the documentation for your system, or at
       the appendix in the GNOME Users' Guide. Most mounting is
       performed automatically when the machine boots up and depends
       on how the hard disk is partitioned.
     </para>
     <para>
       The simplest - and most common - method is to have just a single 
       filesystem mounted on your machine. This is generally called
       the root filesystem and denoted by a slash: <filename>/</filename>.
       If your hard drive is arranged as a root filesystem and swap space,
       and if you have no CDROM or floppy disk mounted at the moment, then 
       as there is only one filesystem, the display on the left will be in 
       one colour only with a single label for it on the right:
     </para>

     <figure>
      <title>The filesystems window of gtop: one filesystem</title>
      <screenshot>
       <screeninfo>The filesystems window of gtop: one filesystem</screeninfo>
       <graphic format="png" fileref="./figs/gtop-fs-1.png" srccredit="telsa">
       </graphic>
      </screenshot>
     </figure>

     <para>
       Some machines have more complicated layouts than this. They have 
       separate parts of the overall filesystem partitioned into their own 
       areas. This is good practice to stop an accident in one filesystem 
       from affecting files in another. If there are several filesystems
       mounted on your machine, then each one will be represented 
       by a different colour and the label for it on the right will be 
       colour-coded appropriately. Again, swap space will not appear on 
       this list. 
     </para>
     <para>
       It is also possible to mount some filesystems whilst the machine
       is running. A very common example is a <medialabel>CD-ROM</medialabel> 
       or a <medialabel>floppy disk</medialabel>. These have filesystems on 
       them. Another example is found on networked machines running 
       <application>NFS</application> (network filesystem). If CD-ROMS, 
       floppies, or remote filesystems are mounted, then they too
       will show up on the gtop display:
     </para>

     <figure>
      <title>The filesystems window of gtop: two filesystems</title>
      <screenshot>
       <screeninfo>The filesystems window of gtop: two filesystems</screeninfo>
       <graphic format="png" fileref="./figs/gtop-fs-2.png" srccredit="telsa">
       </graphic>
      </screenshot>
     </figure>

     <para>
       Solaris users should be aware that Solaris deals with swap 
       slightly differently from most UNIX and UNIX-like systems. 
       It has a special filesystem called tmpfs which holds both swap 
       space and the <filename>/tmp</filename> directory. As more files 
       are put into <filename>/tmp</filename>, the available swap space 
       shrinks. The tmpfs filesystem does not show up on the filesystem 
       display. 
     </para>
    </sect2>

    <sect2 id="fs-menus">
     <title>Menu options affecting the filesystem display</title>
     <para>
       Several menu options can affect the display in the filesystems
       window. There is also a <link linkend="toolbar">toolbar</link>
       which is described in the Processes section of this document.
     </para>

     <sect3 id="fs-menu-file">
      <title><guimenu>File Menu</guimenu></title>
      <para>
        The <guimenu>File Menu</guimenu> provides the same options as the 
        File Menu on the Processes Window. See 
        <link linkend="p-menu-file">there</link> for the description.
      </para>
     </sect3>

     <sect3 id="fs-menu-view">
      <title><guimenu>View Menu</guimenu></title>
      <para>
        The <guimenu>View Menu</guimenu> provides a choice of three options:
      </para>
      <variablelist>
       <varlistentry>
        <term><guimenuitem>Total Filesystem Size</guimenuitem></term>
        <listitem>
         <para>
           The <guimenuitem>Total Filesystem Size</guimenuitem> display 
           shows filesystem sizes relative to how much space has been 
           allotted (typically by partitioning) for each filesystem.
         </para>
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guimenuitem>Used Filesystem Size</guimenuitem></term>
        <listitem>
         <para>
           The <guimenuitem>Used Filesystem Size</guimenuitem> display 
           shows filesystem sizes relative to which filesystems are the 
           most full: a small but very full filesystem will take up more 
           space in the graph than a large but empty one.
         </para>
        </listitem>
       </varlistentry>

       <varlistentry>
        <term><guimenuitem>Free Filesystem Size</guimenuitem></term>
        <listitem>
         <para>
           The <guimenuitem>Free Filesystem Size</guimenuitem> display 
           shows filesystem sizes relative to which filesystems have the 
           most space on them: a small but very full filesystem will take 
           up less space in the graph than a large but empty one.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
     </sect3>

     <sect3 id="fs-menu-set">
      <title><guimenu>Settings Menu</guimenu></title>
      <para>
        The <guimenu>Settings Menu</guimenu> gives access to the 
        <link linkend="preferences">Preferences</link> dialogue.
      </para>
     </sect3>

      <sect3 id="fs-menu-help">
       <title><guimenu>Help Menu</guimenu></title>
       <para>
         The <guimenu>Help Menu</guimenu> gives access to the 'About' 
         dialogue box and gtop's credits.
       </para>
      </sect3>
     </sect2>   
    </sect1>

    <sect1 id="preferences">
     <title>The Preferences Dialogue</title>

     <figure>
      <title>The preferences dialogue of gtop</title>
      <screenshot>
       <screeninfo>The preferences dialogue of gtop</screeninfo>
       <graphic format="png" fileref="./figs/gtop-prefs.png" srccredit="telsa">
       </graphic>
      </screenshot>
     </figure>

     <para>
       The gtop program is extremely configurable. As a result, the
       <guilabel>Preferences dialogue</guilabel> box is rather large. It is 
       split into seven main areas:
      <itemizedlist>
       <listitem>
        <para>
          <link linkend="globalprefs"><guilabel>Global</guilabel></link>
        </para>
       </listitem>
       <listitem>
        <para>
          <link linkend="procprefs"><guilabel>Processes</guilabel></link>
        </para>
       </listitem>
       <listitem>
        <para>
          <link linkend="fieldsprefs"><guilabel>Process Fields</guilabel></link>
        </para>
       </listitem>
       <listitem>
        <para>
          <link linkend="summprefs"><guilabel>Summary</guilabel></link>
        </para>
       </listitem>
       <listitem>
        <para>
          <link linkend="colprefs"><guilabel>Summary Colors</guilabel></link>
        </para>
       </listitem>
       <listitem>
        <para>
          <link linkend="memprefs"><guilabel>Memory Usage</guilabel></link>
        </para>
       </listitem>
       <listitem>
        <para>
          <link linkend="fsprefs"><guilabel>File System Usage</guilabel></link>
        </para>
       </listitem>
       <listitem>
        <para>
          <link linkend="graphprefs"><guilabel>Graph</guilabel></link>
        </para>
       </listitem>
      </itemizedlist>
     </para>
     <para>
        Only five of these show up in the selection area at the top of
        the box. There is a pair of arrows to the right of these five.
        Clicking those arrows alters the selected area. To reach the two
        sections not initially displayed, use these arrows to cycle 
        through the options. To select a preference section, click on 
        the name of the section.
     </para>
     <sect2 id="globalprefs">
      <title><guilabel>Global preferences</guilabel></title>
      <para>
        The <guibutton>session management checkbox</guibutton> will save the 
        state of gtop's session if checked. This includes not only the 
        preferences but the window position. Next time you run it, it will 
        remember and use those. 
      </para>
      <para>
        Despite being in the global preferences section, the 
        <guilabel>update times</guilabel> for the graphical summary refer 
        to the moving graphs in the processes display.
      </para>
      <para>
        The <guilabel>textual summary</guilabel> refers to the 
        <guilabel>statusbar</guilabel> found at the base of the gtop display.
      </para>
      <para>
        <guilabel>MDI mode</guilabel> refers to the multiple document 
        interface, which is how GNOME displays more than one document in an 
        application. This guide has been written under the assumption that 
        you are using the default of 'notebook'. More details on this are 
        available in the GNOME Users Guide in the control-center section. 
      </para>
     </sect2>

     <sect2 id="procprefs">
      <title><guilabel>Processes</guilabel></title>
      <para>
        Preferences in this section affect the process window.
      </para>
      <para>
        The <guilabel>font selector</guilabel> will invoke a new dialogue 
        window which allows you to examine and choose different fonts which 
        should be used for the processes window.
      </para>
      <para>
        The <guilabel>details</guilabel> section will alter how the details 
        of a process you select with the mouse button (either double-clicking 
        on the process with <mousebutton>button one</mousebutton>, or 
        selecting it with <mousebutton>button one</mousebutton> and choosing 
        the 'details' entry on the menu found by pressing
        <mousebutton>button two</mousebutton>) are displayed to you.
      </para>
      <para>
        <guibutton>Cumulative timings</guibutton> in the miscellaneous 
        section refers to toggling whether the <guibutton>Time</guibutton> 
        field in the process display shows the time used by that process 
        only (the default, with this unchecked) or the time used by that 
        process plus all the processes it spawned (shown if you enable 
        this) and which are now dead. 
      </para>
     </sect2>

     <sect2 id="fieldsprefs">
      <title><guilabel>Process Fields</guilabel></title>
      <para>
        This allows you to select which fields should be displayed on
        the process display and how many characters wide they should be.
        There are three fields which are not displayed by default:
        'resident', 'utime', and 'stime'. They can be selected here. And
        any field can be unselected and removed from the process display.
      </para>
     </sect2>

     <sect2 id="summprefs">
      <title><guilabel>Summary</guilabel></title>
      <para>
        The <guibutton>font selector</guibutton> will invoke a new dialogue 
        window which allows you to examine and choose different fonts which 
        should be used for the <guilabel>statusbar</guilabel>: the single 
        line of information at the base of each display.
      </para>
      <para>
        The <guilabel>graphical summary</guilabel> refers to the graphical 
        summary on the processes window. The <guilabel>textual summary
        </guilabel> refers to the <guilabel>statusbar</guilabel> at the base 
        of all windows. Unchecking the <guibutton>text summary
        box</guibutton> removes that line completely. Checking the 
        <guibutton>text summary box</guibutton> but not the <guibutton>status 
        bar</guibutton> results in the <guilabel>hostname</guilabel> section 
        being removed from the display.
      </para>
      <para>
        Note that checking the <guibutton>memory</guibutton> and 
        <guibutton>swap</guibutton> statistics checkboxes
        for the <guilabel>textual summary</guilabel> (unchecked by default) 
        will redraw the window to be very much wider to fit the extra 
        information in. Although the window can be resized, if you have a 
        screen size of 640x480 or 800x600, you may find this too wide for 
        comfort initially.
      </para>
     </sect2>

     <sect2 id="colprefs">
      <title><guilabel>Summary colors</guilabel></title>
      <para>
        This section deals with the colours used on the processes window
        in the small graphs at the top. Clicking on any colour will
        bring up the GNOME colour wheel for you to alter the colours
        displayed.
      </para>
     </sect2>

     <sect2 id="memprefs">
      <title><guilabel>Memory Usage</guilabel></title>
      <para>
        This section allows you to refine the display on the memory use
        window. The minimum sizes are the minimum size required for a
        process to be displayed as a separate entity. The remainder are
        grouped together at the bottom of the display. The process
        selection helps cut down (or expand) the processes whose memory
        use is displayed. User processes means only those processes
        owned by the user who started gtop. Controlling tty means only
        those processes which run in a terminal are displayed, removing
        many background system daemons from the display.
     </para>
    </sect2>

    <sect2 id="fsprefs">
     <title><guilabel>Filesystem usage</guilabel></title>
     <para>
       This section allows you to refine the display on the filesystem
       usage window. You can restrict your view to only certain types
       of filesystems. Most of these are designed for particular operating
       systems. However, it is often the case that other operating systems
       know how to read them too. 
     </para>
     <para>
       You can also alter what gtop looks for when counting up what is
       free, used or the total. These are radio buttons, so you can only
       pick one at a time. You can choose to view inodes, one-kilobyte
       blocks, or one-kilobyte blocks including reserved blocks. Inodes 
       are where UNIX stores information about files: the permissions, the 
       size, where on the filesystem it lives, everything but the name of 
       the file, essentially. Reserved blocks are part of the filesystem 
       which only root can write to. They take up about five to ten
       per cent of the filesystem. This helps stop the disk filling 
       completely as the result of user actions. But it also means that 
       reserved blocks are not available for users to use. The most useful 
       view is probably the default of one-kilobyte blocks, but you can 
       select inodes or one-kilobyte blocks including reserved blocks if 
       you choose.  
     </para>
    </sect2>

    <sect2 id="graphprefs">
     <title><guilabel>Graph</guilabel></title>
     <para>
       This section allows you to alter the appearance of the large
       graph on the left in the memory usage and filesystem usage windows.
       The geometry sizes are in pixels. The colours are altered in the
       same way as the colours of the process window's graphics: by 
       clicking on a colour to invoke the GNOME colour wheel.
     </para>
    </sect2>

  </sect1>

  <sect1 id="credits">
   <title>Credits</title>
   <para>
     The authors of <application>gtop</application> are Radek Doulik 
     (<email>doulik@karlin.mff.cuni.cz </email>) and Martin Baulig 
     (<email>martin@home-of-linux.org</email>).
   </para>
   <para>
     Mistakes in this guide are not their fault but that of Telsa
     Gwynne. (<email>telsa@linuxchix.org</email>)
   </para>
  </sect1>

  <sect1 id="more-info">
   <title>Further sources of information</title>
   <para>
     Process management and memory use are complicated subjects 
     which are slightly different from one flavour of UNIX and UNIX-like
     systems to another. If you want to know more about them on your 
     particular flavour (Linux, BSD, Solaris and so on), then these are
     possible starting points. This guide is heavily biased towards the
     Linux platform. The author would welcome corrections for this!
   </para>
   <itemizedlist>
    <listitem>
     <para>
       The manual entries for
       <command>top</command>, <command>ps</command>,
       <command>nice</command>, <command>renice</command>,
       <command>df</command>, <command>du</command>,
       <command>id</command>, <command>getuid</command>
       and <command>free</command>.
     </para>
    </listitem>
    <listitem>
     <para>
       The info entries for
       <command>df</command>, <command>du</command>, and 
       <command>sync</command>, all from the fileutils node, and for
       <command>id</command> in the sh-utils node.
     </para>
    </listitem>
    <listitem>
     <para>
       The contents of <filename>/usr/doc/procps</filename>, 
       <filename>/usr/doc/libgtop</filename> and 
       <filename>/usr/doc/gtop</filename> (on Linux; these may vary
       in location on other systems.)
     </para>
    </listitem>
    <listitem>
     <para>
       The document 
        <ulink url="http://serendipity.res.cmu.edu/~jberkman/MemoryUsage/terms.html">
        Memory Usage</ulink>, by Miguel de Icaza and Jacob Bergman.
     </para>
    </listitem>
   </itemizedlist>
  </sect1>

  <sect1 id="errata">
   <title>Caveats and errata</title>

   <para>
     With luck this page will be gone by the time the guide is out. 
     Potential errata in this guide:
   </para>

   <itemizedlist>
    <listitem>
     <para>
       This guide was written on and fact-checked against a Linux-based
       system. Whilst the general principles behind 
       <application>gtop</application> are the same, the details may be
       unintentionally inaccurate for other OSes. Please feel free to 
       send corrections.
     </para>
    </listitem>

    <listitem>
     <para>
       FIXME: Need explanations for Memory Use->View menu options for
       Shared Memory, Total Memory and Virtual Memory size.
       too...So what it is displaying when I select it, I don't know.
     </para>
    </listitem>
   </itemizedlist>

   <para>
     Bugs and possible bugs in the program itself, not this guide.
   </para>
   <itemizedlist>

    <listitem>
     <para>
       In the 'details' process view, the scrollbar is unusable because
       moving the mouse in it results in a drag and drop attempt. Um :)
     </para>
    </listitem>

    <listitem>
     <para>
       On the main process display, the pointer changes to a
       double-headed arrow when between two columns, and a vertical bar
       appears, but when moving the mouse, the column widths don't
       change.
     </para>
    </listitem>
   </itemizedlist>
  </sect1>
 </chapter>
</book>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:t
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
