2001-10-23  Jaka Mocnik  <jaka@segfault>

	* src/gtkgs.c (gtk_gs_load): "absolutize" relative filename paths.
	* fixed PostScript and Ghostscript capitalization.
	
2001-10-09  Jaka Mocnik  <jaka@gnu.org>

	* src/gtkgs.c (start_interpreter): properly handle multiple
	arguments in interpreter command.

2001-08-31  Abel Cheung  <maddog@linux.org.hk>

	* configure.in (ALL_LINGUAS): zh_TW.Big5 -> zh_TW

2001-08-10  Jaka Mocnik  <jaka@gnu.org>

	* ggv.spec.in: updated. patch by Ludovic Danigo
	<ludovic.danigo@worldonline.fr>.
	
2001-07-22  Jaka Mocnik  <jaka@gnu.org>

	* src/gtkgs.c (start_interpreter): enclose filename in quotes when
	creating GS command line in order to properly handle filenames with
	spaces.

2001-06-20  Karl Eichwalder  <ke@suse.de>

	* Merge in xml-i18n-tools-gvv-1-0-branch.

	* configure.in:  AM_PROG_XML_I18N_TOOLS must be called earlier.

	* configure.in (ALL_LINGUAS): Add 'hr'.

	* Start to apply xml-i18n-toolization running xml-i18n-prepare
	(0.8.4):

	* configure.in: Add AM_PROG_XML_I18N_TOOLS.

	* Makefile.am (Graphics_DATA): Fix ggv.desktop entry.
	* .cvsignore: Add ggv.desktop.
	* ggv.desktop: Remove file.
	* ggv.desktop.in: New file.

2001-05-30  Jaka Mocnik  <jaka@gnu.org>

	* src/ggvwindow.h (struct _ggv_window): added more members for
	some menu & popup-menu items.
	* src/main.c: added First/Last Page menu and popup menu-items.
	patch submitted by Dan E. Kelley <dan.kelley@dal.ca>.
	Implemented setting of sensitivity of new menu & popup-menu items.

2001-05-25  Jaka Mocnik  <jaka@gnu.org>

	* src/ggvutils.[ch] (ggv_compute_zoom): replaces compute_zoom().
	* src/prefs.c: really set the default zoom factor. fixes bug
	#55182.
	* src/main.c (create_sidebar): removed coordinates widget.
	* src/ggvwindow.h (struct _ggv_window): removed coordinates member.

2001-05-17  Jaka Mocnik  <jaka@gnu.org>

	* src/callbacks.c: apply/save file selection dialog dimensions.
	* src/prefs.[ch]: save/load file selection dialog dimensions to/from
	config file. fixes bug #54652.
	* save repect EOF setting.
	* configure.in: bumped version number to 1.0.1 and released a new
	distribution tarball. tagged source tree as GGV_1_0_1.

2001-05-17  Jaka Mocnik  <jaka@gnu.org>

	* src/main.c (create_popup_menus): added more keyboard accelerators.
	(create_menus): fixed keyboard accelerators clashes. fixes bug #54654.
	* src/callbacks.c (toggle_*_pages_callback): really _toggle_,
	don't just _set_ them. fixes bug #54653.

2001-05-10  Jaka Mocnik  <jaka@gnu.org>

	* src/callbacks.c (button_press_callback): added zoom-in function to
	middle-button.
	* src/gtkgs.[ch] (gtk_gs_set_center): new function.

2001-04-10  Jaka Mocnik  <jaka@gnu.org>

	* src/callbacks.c (open_callback): fix the notorious dot-problem.
	patch by <mike@gtnorthern.demon.co.uk>.
	(print_marked_pages_callback): changed C++ comment to C comment.
	* src/main.c: applied patch for non-compile-time-const initializers
	from <drk@sgi.com>.

2001-03-08  Jaka Mocnik  <jaka@gnu.org>

	* removed german help translation from ditribution.
	* bumped version to 1.0 and released a new tarball for GNOME 1.4.
	
2001-03-05  Jaka Mocnik  <jaka@gnu.org>

	* src/main.c (open_prefs_dialog): left-align labels.
	* po/sl.po: defuzzy strings.

2001-03-03 - John Fleck <jfleck@inkstain.net>

	* adding COPYING-DOCS

2001-03-03 John Fleck <jfleck@inkstain.net>

	* added:
	app-docs.make, omf-install/Makefile.am, help/C/ggv-C.omf,
	help/de/ggv-de.omf, help/it/ggv-it.omf, help/ja/ggv-ja.omf
	changed:
	help/C/Makefile.am, help/de/Makefile.am, help/it/Makefile.am,
	help/ja/Makefile.am, configure.in, Makefile.am
	Adding support for ScrollKeeper

2001-02-25  Fatih Demir	<kabalak@gtranslator.org>

	* help/C/.cvsignore: Be quiet about ggv.info.

2001-02-20  Jaka Mocnik  <jaka@gnu.org>

	* src/gtkscrollpane.c (gtk_scrollpane_motion_notify): fixed a bug
	that caused the scroll pane not to properly set value when the slider
	was dragged to top and/or left edge.

2001-02-19  Jaka Mocnik  <jaka@gnu.org>

	* src/main.c: "Attend" should read "At end";
	* src/*.po: updated because of the above string change.

2001-02-15  Gediminas Paulauskas <menesis@delfi.lt>

	* src/main.c: made ~15 strings translatable.

2001-02-14  Jaka Mocnik  <jaka@gnu.org>

	* src/bonobo-application-ps.c (set_page_item_sensitivity): check
	if gs->doc is NULL in order to prevent segfaults.

2001-02-01  Fatih Demir	<kabalak@gmx.net>

	* help/de/.cvsignore, help/ja/.cvsignore: Added these ignore
	files.

2001-01-31  Karl Eichwalder  <ke@suse.de>

	* configure.in (ALL_LINGUAS): Remove 1 uk entry (we've had 2).

2001-01-23  Daniel M German  <dmgerman@acm.org>

	* src/callbacks.c (about_callback): Added Tim Theisen and Johannes
	Plass as authors. There is a lot of code based on gv
	(including the parser) so IMHO it is fair to acknowledge them. I
	updated Jaka as the current maintainer.
	
2001-01-22  Daniel M German  <dmgerman@acm.org>

	* src/gtkgs.c (set_up_page): Remove a g_print message 

2001-01-22  Jaka Mocnik  <jaka@gnu.org>

	* src/gtkgs.c (gtk_gs_set_pagemedia): fixed a bug that prevented proper
	paper size overriding.
	* src/ps.c (psscan), gtkgs.c: made respect_eof configurable.
	* src/main.c, src/callbacks.c: added respect eof option to prefs dialog.
	* configure.in: now we're at 1.0-test7. boy, does this testing wear me
	out...

2001-01-21  Daniel M German  <dmgerman@acm.org>

	* src/ps.c (psscan): Implemented ignoring EOF in structured
	documents. Unfortunately some Structured Documents do not properly
	protect EOF of embedded documents.

2001-01-21  Jaka Mocnik  <jaka@gnu.org>

	* gtkgs.c (gtk_gs_set_pagemedia): added a check for
	gs->doc->pages != NULL before dereferencing them. stupid me...

2001-01-17  Jaka Mocnik  <jaka@gnu.org>

	* gtkgs.[ch]: added member loaded. set to TRUE when a document is
	loaded.
	* (struct _ggv_window): removed member loaded.
	* fixed paper menu and choice menu syncing.
	* gtkgs.c (gtk_gs_realize, compute_size, set_up_page): show white
	background of fallback media type when no document is loaded.
	(gtk_gs_set_pagemedia): hopefully this is now finally fixed. it
	gets media type in this order: page media, doc media, page bbox,
	doc bbox.
	fixed orientation menu syncing and handling.

2001-01-14  Stanislav Brabec  <utx@penguin.cz>  

        * src/main.c: Swapped odd/even in menus to finish odd/even
        cosmetics.

2001-01-14  Jonathan Blandford  <jrb@redhat.com>

	* src/main.c (create_menus): oops.  Forgot to change this.

2001-01-14  Jonathan Blandford  <jrb@redhat.com>

	* src/callbacks.c (*_toggled_*): Changed to use the new checklist.
	* src/main.c (toggle_pages): removed
	* src/gtkchecklist.[ch]: new widget.
	* src/stock/.cvsignore: added
	* src/main.c: Removed %800 as a zoom option.  It uses a _lot_ of
	memory needlessly.

2001-01-14  Jaka Mocnik  <jaka@barbara>

	* src/gtkgs.c: renamed gtkgs_errmsg to gtk_gs_emit_error_msg, to be
	consistent with the overall naming style.
	(gtk_gs_set_pagemedia): attempt to use page bounding box if no
	page media or document media are set. fixes problems with some PDF
	dsc files.

2001-01-13  Stanislav Brabec  <utx@penguin.cz>

	* src/main.c: Changed bad term "Paper Type" to "Page Size" to
	prevent ambiguity between PageSize and MediaType Postscript
	resources.

	* src/callbacks.c: Synchronize wheel mouse events with long time
	established GIMP behavior (i.e. Control=HScroll, Shift=Zoom).
	Increased whellmouse step. Still different from GIMP where wheel
	step is window size relative (1/4).

	* src/main.c, src/stock/toggleodd.xpm, src/stock/toggleeven.xpm:
	Prevent odd/even ambiguities: Use natural order (odd, even),
	swap images to be more intuitive.

	* ggv.desktop: Updated cs.

2001-01-11 John Fleck <jfleck@inkstain.net>
	* help/C/ggv.sgml, help/de/ggv.sgml, help/it/ggv.sgml, help/ja/ggv.sgml:
	fixing bug in the docs that prevented them from rendering in
	Nautilus: "DOCTYPE" in the dtd must be capitalized. Also changed
	"%" to "&percnt;" so as not to choke the poor Nautilus browser
	
2001-01-11 John Fleck <jfleck@inkstain.net>
	* added help/de/Makefile.am
	* help/C/Makefile.am, help/it/Makefile.am, help/ja/Makefile.am,
	help/Makefile.am, configure.in:
	update help doc makefiles to build html at package build time, so
	the packager rather than the end user needs DocBook tools to build
	the static html from the DocBook sgml. Also, install .sgml files
	in help directories for future Nautilus compatibility

2001-01-11  Jaka Mocnik  <jaka@gnu.org>

	* src/main.c: include stock/*.xpm, not *.xpm.
	* src/foot*.xpm: removed.
	* src/gtkgs.c (check_filecompressed): free filename after possible
	error messages; also uncompress files by passing the uncompressing
	command the compressed filename in commandline and not via redirection
	of stdin, as some bzip2 version seem to have problems with the latter.

2001-01-09  Jaka Mocnik  <jaka@gnu.org>

	* ggv.spec.in: removed the line for sysconfdir/CORBA/servers as
	.gnorba files no longer exist.

2001-01-08  Jaka Mocnik  <jaka@gnu.org>

	* src/gtkscrollpane.c (gtk_scrollpane_class_init): add handler for
	draw signal to fix some redrawing issues.
	* src/main.c (restore_session, save_session): save & restore document
	page, zoom and scrolled position.
	(synchronize_user_interface): set zoom menu option to the current
	window magnification and NOT to the default magnification.

>>>>>>> 1.190
2000-12-24  Jaka Mocnik  <jaka@gnu.org>

	* application-ps.oafinfo: becomes Bonobo_GGV.oafinfo. also changed
	OAFIIDs.
	* application-ps.gnorba: removed.
	* Makefile.am: removed application-ps.gnorba.
	* configure.in: bumped version to 1.0-test1. released the first
	test before 1.0.
	* MAINTAINERS: changed to jaka@gnu.org.

2000-12-22  Zbigniew Chyla  <cyba@gnome.pl>
	
	* ggv.desktop: Updated Polish translation.

2000-12-18  Dan Damian  <dand@dnttm.ro>

	* configure.in:	Added "ro" to ALL_LINGUAS.

2000-12-16  Jaka Mocnik  <jaka@gnu.org>

	src/bonobo-application-ps.c: updated to work with latest bonobo:
	changed references to EmbeddableFactory to GenericFactory.

2000-12-04  Jaka Mocnik  <jaka@gnu.org>

	* src/main.c (open_window): return the new ggv_window and take
	parameters for x, y, width and height of the window.
	(restore_session, save_session, client_die): new functions to
	support session management.
	(main): implement session management.

2000-11-23  Jaka Mocnik  <jaka@activetools.si>

	* src/bonobo-application-ps.c (reload_all_views): set menu item
	sensitivity for each view.

2000-11-21  Yukihiro Nakai  <nakai@gnome.gr.jp>

	* configure.in (ALL_LINGUAS): add zh_CN.GB2312

2000-11-16  Stanislav Visnovsky <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in (ALL_LINGUAS): added Slovak [sk]

2000-11-15  Maciej Stachowiak  <mjs@eazel.com>

	* configure.in: Make OAF support unconditional (Bonobo always uses
	OAF now).
	* Makefile.am: Likewise.
	* acconfig.h: Likewise.
	* src/bonobo-application-ps.c: Likewise.

2000-11-06  Jason Leach  <leach@wam.umd.edu>

	* src/bonobo-application-ps.c (stream_read): s/copy_to/copyTo/ to
	compile with the latest studlyCaps bonobo.

2000-10-15  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* src/bonobo-application-ps.c: converted to new bonobo UI code.

2000-10-08  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* src/*.c: unified capitalization: Gnome Ghostview and GGv.
	no more GNOME and ggv.

2000-10-06  Daniel M German  <dmgerman@acm.org>

	* src/callbacks.c
	* src/callbacks.h
	* src/ggvutils.c
	* src/ggvutils.h
	* src/ggvwindow.h
	* src/main.c
	* src/prefs.c
	* src/prefs.h: Added a toolbar and icons for the sidebar. 
         Coded  by Paolo Maggi <maggi@athena.polito.it>

2000-10-05  Daniel M German  <dmgerman@acm.org>

	* src/callbacks.c (button_press_callback): Support for 
	wheel mice.  Coded by Tomas Kindahl <tomas.kindahl@codefactory.se>
	* src/prefs.c: Aligned some  labels in prefs window.

2000-10-04  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* src/bonobo-application-ps.c (view_merge_menus): use
	Bonobo_UIContainer instead of Bonobo_UIHandler.
	
2000-09-25  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* help/C/ggv.texi: texinfo version of the sgml docs. automatic
	conversion does not work well and it had to be tweaked manually.
	therefore I have commited it to CVS.
	* help/C/Makefile.am: generate and install the info file.
	
2000-09-18 Yukihiro Nakai <nakai@gnome.gr.jp>

       * Update help/ja/ggv.sgml
       * Add ja entry to help/Makefile.am

2000-08-24  Daniel M German  <dmgerman@acm.org>

       * src/callbacks.c
       * src/callbacks.h
       * src/ggvwindow.h
       * src/gtkgs.c
       * src/main.c
       	 - Added support for orientation on on a per window basis.
	 - To be consistent, I added the option to override orientation
	   instead of the automatic option
       * src/prefs.c
       * src/prefs.h:
	 - Added orientation parameters in the setup window.
	
	 - There are still some bugs to fix, among them:
	   *set new paper media after the document is loaded
	   *there are still some bugs to fix for orientation
	   *try to test documents with multiple media
	   *try to see if there are documents with different orientation
	   
	
2000-08-22  Daniel M German  <dmgerman@acm.org>

       * src/callbacks.c
       * src/callbacks.h
       * src/ggvwindow.h
       * src/gtkgs.c
       * src/main.c
       * src/prefs.c
       * src/prefs.h:
	 - Added zoom magnification to the list of persistent parameters.
	 - Synchronized correctly all parameters between the document
	  and the user interface (zoom, override media, default media,
	  etc).
       
	
2000-08-15  Daniel M German  <dmgerman@acm.org>

	* src/gtkgs.c: 
	* src/callbacks.c: Added the ability to set up the orientation
	_before_ the document is loaded, and to set up the orientation
	on a window basis, instead of globally. Both zoom and orientation
	require  options in the preferences dialog window.
	
	* src/callbacks.c
        * src/main.c
        * src/ggvwindow.h:
	  Added support for individual window zooming in the menu. I also 
	  synchronized the zoom button actions with the currently selected
	  value in the zoom radio buttons in the main menu.

2000-08-13  Daniel M German  <dmgerman@acm.org>

	* src/gtkgs.c: added bounding box options for media type
	
	* src/prefs.c
	* src/main.c
	* src/callbacks.c: Added the ability to set watchfile and
	antialiasing on a document level (previously it was a global
	setting). 

2000-08-10  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* src/bonobo-application-ps.c: call bonobo_object_unref() instead
	of bonobo_object_destroy(). also fixed the factory code and some
	unref()ing issues.
	* src/gtkgs.[ch]: renamed gtkgs_defaults_struct to GtkGSDefaults
	for consistency and made it private to gtkgs.c.
	* some renaming and code reformating was done for consistency.
	* configure.in: fixed the bonobo check, as we need to link with both
	libbonobox and libbonobo.

2000-08-08  Daniel M German  <dmgerman@acm.org>

	* src/prefs.c 
	* src/main.c
	* src/gtkgs.c
	* src/gtkgs.h
	* src/prefs.h
	* src/bonobo-application-ps.c
	* src/callbacks.c
	  - Revamped the way the defaults for the gtkgs widget are
	stored. Instead of global variables I created a structure
	gtkgs_defaults and a bunch of functions to set and read its
	values. This will be more maintable and modular. 
	  - I removed the old variables gs_antialiasing,
	   gs_default_page_media. etc, ... and replace them with calls to
	   their corresponding functions.
	  - Fixed bug in which landscape documents were not recognized as
	  such when opened. I also changed the default of Landscape (as
	  270 degrees instead of 90) so landscape documents are shown
	  properly)
	  - Currently working on the automatic discovery of paper type, 
	  orientation and the ability to set defaults on a per window basis.
	* src/main.c the default message in the status bar shows more info
	about the current document, including magnification,
	filename, and type of PostScript document.

2000-08-07  Daniel M German  <dmgerman@acm.org>

	* TODO: Updated it. It still needs work.

2000-08-06  Daniel M German  <dmgerman@acm.org>

	* help/Makefile.am (SUBDIRS): there was a japanese translation
	entry but no subdirectory for its translation. Maybe somebody
	forgot to upload it? I removed it.

2000-07-16  Karl Eichwalder  <ke@suse.de>

	* help/C/ggv.sgml: "page" vs. "pane".

	* help/de/topic.dat: New file.
	* help/de/ggv.sgml: Start translation.

	* help/C/ggv.sgml: Normalize the word "PostScript".

2000-06-22  JP Rosevear  <jpr@arcavia.com>

	* src/bonobo-application-ps.c (view_next_page_cb): Constify param
	(view_prev_page_cb): ditto
	(view_recenter_page_cb): ditto
	(load_ps_from_stream): No return type any more (void).

	* configure.in: Improve bonobo/oaf check

2000-06-21  Daniel M German  <dmgerman@acm.org>

	* src/Makefile.am (COMPONENT_LDADD): fixed a minor error in order
	to compile without bonobo support.

2000-06-02  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* application-ps.oafinfo: added the OAF info file that I forgot
	during last commit.

2000-05-28  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* configure.in, Makefile.am, src/Makefile.am: added optional
	use of OAF for the bonobo component. thank god we're past GNORBA.
	* src/bonobo-application-ps.c (init_server_factory,
	init_embeddable_application_ps_factory): added OAF support.
	* application-ps.oafinfo: relevant OAF information for our
	bonobo component.
	* src/main.c (recent_add): yes, Postscript is application/postscript
	and not text/plain.
	* acconfig.h: add USING_OAF.

2000-05-27 Pauli Virtanen <pauli.virtanen@saunalahti.fi>

	* ggv.desktop: added finnish 

2000-05-15  Kjartan Maraas  <kmaraas@gnu.org>

	* TRANSLATABLE_FILES: Added list of files containing
	translatable strings / text.
	
2000-05-14  Andreas Hyden  <a.hyden@cyberpoint.se>

	* ggv.desktop: Added Swedish translation.

2000-05-11  Daniel M German  <dmgerman@acm.org>

	* ggv.desktop (Comment): Changed

	to:Gnome Ghostscript frontend
	Comment=A Ghostscript frontend to visualize PostScript files.	
	(submitted by Karl Eichwalder <ke@gnu.franken.de>)
	
	
	* Added the option to save the current geometry. Its only current
	defect is that it saves the geometry of the last window open
	(remember, we can open more than one window at a time).

	

2000-05-10  Karl Eichwalder  <ke@suse.de>

	* src/main.c (create_menus): Add missing shortcut.

2000-05-10  Karl Eichwalder  <ke@suse.de>

	* ggv.desktop: Improve de.

2000-05-10  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* configure.in: bumped version to 0.95 and released a new tarball.
	* pixmaps/foot*.xpm: moved back to src as these are actually
	source files and libtool doesn't like sources in another subdir.
	* pixmaps/Makefile.am: removed feet from SOURCES ;)
	* src/Makefile.am: added foot*.xpm to GTK_GS_SOURCES.

2000-04-18  Pablo Saratxaga <pablo@mandrakesoft.com>

	* configure.in (ALL_LINGUAS): added Catalan

2000-04-13  Fatih Demir	<kabalak@gmx.net>

	* ggv.desktop : Added [tr] ..

2000-04-11  Pablo Saratxaga <pablo@mandrakesoft.com>

	* configure.in (ALL_LINGUAS): added Lithuanian and Ukrainian

2000-04-10  Dima Sivachenko  <dima@Chg.RU>

	* Update Russian translation.

2000-04-03  Karl EICHWALDER  <ke@suse.de>

	* ggv.desktop: New entries for "de".

2000-04-01  Jason Leach  <leach@wam.umd.edu>

	* main.c (recent_update): more optimization/cleaning, lets not
	do g_list_length where we can just use an integer counter
	(recent_add): a postscript isn't mime-type "text/plain" is it?
	shouldn't it be "application/postscript"?

2000-03-30  Jason Leach  <leach@wam.umd.edu>

	* main.c (parse_an_arg): fix indentation to 8-space;
	(free_wwd): removed a duplicated if()
	(recent_update_menus): here too.

	* prefs.c (load_prefs): you don't need to do an if() check before
	a g_free(), the if() check is actually already done at the top of
	g_free()

2000-03-30  Christopher R. Gabriel  <cgabriel@firenze.linux.it>

	* configure.in: added help/it/Makefile for italian user documentation

2000-03-29  Jason Leach  <leach@wam.umd.edu>

	* main.c (open_prefs_dialog): set the title of the Preferences
	window to "GGV Preferences" rather than have it inherit "ggv" from
	the parent

2000-03-27  Christopher R. Gabriel  <cgabriel@firenze.linux.it>

	* configure.in (ALL_LINGUAS): added italian (it) translation.

2000-03-24  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* configure.in (ALL_LINGUAS): Added Slovene (sl) translation.
	* callbacks.c (about_callback): made the authors list shorter.
	as I've left no one out I hope no one gets mad ;) and prevented
	the about box from being shown multiple times.

2000-03-10  Alastair McKinstry <mckinstry@computer.org>
	
	* configure.in (ALL_LINGUAS): Added Irish (ga) translation.

2000-03-04   bertrand <bertrand@helixcode.com>

	* application-ps.gnorba: take into account the
	latest Bonobo name changes.

	* bonobo-application-ps.c (view_factory): 
	no need to create the ui handler for the view, 
	it's been already done when the view is 
	constructed. 

2000-02-08  Jaka Mocnik <jaka.mocnik@kiss.uni-lj.si>

        * gtkgs.h: Added macros to access components of structure GtkGS:
	the filename  of the uncompressed file and flags that show if the
	file is compressed or  a pdf file.
	* callbacks.c (print_callback), gtkgs.c (start_interpreter), 
	main.c (save_marked_pages): use this macros.
	* Makefile.am: new files ggvutils.[ch]
	* ps.c (psscan), gtkgs.c (gtk_gs_load):
	Moved uncompress functionality from ps.c (psscan) to gtkgs.c
	(gtk_gs_load new function check_filecompressed).
	Possible error messages from the uncompress command are displayed
	in the same way as ghostscript warnings (normally in the message
	window).
	Added support for bzip2-compressed files.
	Moved pdf-scan functionality from ps.c (psscan) to gtkgs.c
	(gtk_gs_load, new function check_pdf).
	Both functions quote the filenames for the system() calls to allow 
	filenames containing special characters.
	BUG: The list of recent files don't show filenames containing spaces
	(and possibly other 'special' characters).
	* main.c (load_gs): Don't show error dialog if gtk_gs_load fails
	because an error message is already shown in the message window.
	* main.c (open_window): Don't delete ggv window if loading of a
	file given in the command line fails because the user should have
	a chance to read the error messages.
	* gtkgs.h (GtkGS), gtkgs.c (gtk_gs_init, start_interpreter), 
	bonobo-application-ps.c (view-factory): Removed local copies of the
	commandlines for gzip and gs; use global variables instead.
	* callbacks.c (prefs_apply_callback), ggv_window.h (ggv_prefs), 
	main.c (open_prefs_dialog), prefs.c, prefs.h:
	Support for bzip2-compressed files.
	* callbacks.c (print_callback): quote filename for
	gnome_execute_shell so that printing of files containing spaces
	works.
        * ps.c: The error checking of malloced memory is useless as
	g_malloc, g_new etc abort the application if out of memory;
	removed.
	* prefs.c (load_prefs, save_prefs, set_prefs), prefs.h: 
        New option gs_watch_doc.
        * main.c (open_prefs_dialog), callbacks.c (prefs_apply_callback):
        New option "watch file" in configuration dialog.
        * main.c (load_gs): Start gtk_timeout function to check for changes
	of the loaded file.
        * gtkgs.c (gtk_gs_cleanup): stop timeout function.
        * callbacks.[ch] (timer_callback): new function; reload file if
	changed.
        * gtkgs.h: #defines for the timing behaviour: The check for file
	changes is performed every second, a reload is started 2 seconds
	after the file was changed.
	* main.c (open_prefs_dialog): Connect "help" callback.
	* callbacks.c: New function prefs_help_callback.
	* gtkgs.c (gtk_gs_cleanup): Close gs_psfile and set to NULL.
	(gtk_gs_load, gtk_gs_goto_page): Dont change gs_psfile here.
	(gtk_gs_set_pagemedia): set gs->changed when pagemedia was changed.
	* main.c (close_window): Delete status window before deleting main window.
	(set_gs_prefs): Reload file if page medium is changed.
	(load_gs):  Disable menu item "save marked pages" if a pdf file is
	loaded. Some additional cosmetic changes...
	(save_marked_pages): If a pdf file is loaded, use the name of the
	dsc file as input to pscopydoc. The resulting ps file can be used
	to print the marked pages.
	* ps.c (pscopydoc): Removed status messages to stdout.
	* help/C/ggv.sgml: Added short description of the new option
	"watch file" and the changed/added command lines for gzip and
	bzip2 in options/ghostscript.
	* po/POTFILES.in: Added all source files which contain strings that
	should be translated.
	* configure.in: bumped the version to 0.90.
	* bonobo-applicaton-ps.c (set_page_item_sensitivity): new function
	that sets sensitivity of Next/Previous Page menu items when the
	menus are merged.
	(view_[prev|next]_page_cb, view_merge_menus): use the above.
	* most of the above work is by Werner Koerner
	<wernerk.koerner@zae.uni-wuerzburg.de>

2000-02-06  Daniel German  <dmg@csg.uwaterloo.ca>

	* ps.c (gettextline): gettextline was returning the EOL at the end
	of the string. This resulted in a window title bar with an EOL at
	the end. the panel was showing it. 

2000-02-02  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* bonobo-application-ps.c: comply to changes in Bonobo API
	namespace.
	* configure.in: require bonobo >= 0.6.

2000-01-28  Daniel German  <dmg@csg.uwaterloo.ca>

	* Added Greek (el.po) to ALL_LINGUAS (Submitted by 
       Spyridon Papadimitriou <Spyridon_Papadimitriou@gs91.sp.cs.cmu.edu>

1999-12-21  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

       * gtk_gs.c (input): removed call to gtk_main_iteration in the
       callback function input - this sometimes caused a endless
       recursion.
       * gtkgs.c (start_interpreter): 
       The pipe to ghostscript was not set to non-blocking IO (the code
       was there, but not used).
       Some cleanup and small changes to enable reading from stdin.
       * main.c (main):
       Reading files from comandline: try adding '.pdf.gz' to filename,
       allow "-" as filename, if no filename is given and input is no tty
       then use stdin as input.
       * ps.c (psscan): Added code to scan ps files with a pjl header
       (many printer  drivers for laser printers send a pjl command to
       switch the printer to postscript mode). 
       psscan now ignores a leading ^D in the postscript-file.
       cleaned up uncompress and pdf-scan code (no recursion or goto's)
       replaced some more malloc, realloc, etc calls by their glib
       counterparts.
       * commented out some messages printed to stdout. 
       Some of these messages were printed while ggv has both mouse
       and keyboard focus. When these call blocks (e.g. when ggv was
       started in a xterm in the background) the whole X server was  
       blocked.
       * patches by Werner Koerner <Werner.Koerner@zae.uni-wuerzburg.de>.
	
1999-12-16  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* bonobo-application-ps.c (embeddable_factory): don't pass goad id
	as a parameter to gnome_persist_stream_new().
	(#define GGV_GOAD_ID): removed as it was not referenced anymore.

1999-12-14  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* callbacks.c (open-callback, save_callback): g_free() dirname.
	* gsmessage.[ch]: new files, implement a dialog for showing
	GS error messages in a single dialog instead of a bunch of
	error dialogs. this was sorely needed: thanks, Werner.
	* main.c (load_gs): create/clear the message dialog.
	if no document is available, show filename as title of the main
	window.
	* callbacks.c (interpreter_message_callback): add text to message
	dialog and show it.
	* gtkgs.[ch] (struct _GtkGS): removed filename_raw member.
	removed all references to the above member.
	* file.[ch]: removed.
	* callbacks.c (about_callback): added Werner to the about dialog.
	it's the least I can do to show my appreciation of his patches ;)
	* configure.in: increased version once again. we're at 0.83 now.
	
1999-12-11  Daniel M German  <dmg@csg.uwaterloo.ca>

	* Updated help/C/Makefile.am to make sure that help html files are
	included in the distribution file.
	* Released version 0.82

1999-12-11  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtkgs.c (input): replace call to g_main_iteration() with
	gtk_main_iteration().
	(set_up_page): clear newly allocated pixmap before it is used.
	(float compute_xdpi, float compute_ydpi): changed prototypes.
	* gtkgs.c, main.c: add checks when using document structure
	information (gs->doc, gs->doc->media, gs->doc->pages,
	gs->pages_marked).
	* callbacks.c (select_page_button_press_callback): fixed typo.
	* ps.c (psscan): ambiguous if-else constuction; added braces.
	add prototypes for static functions.
	* callbacks.h (zoom_to, recent_update): add prototypes
	* main.c (get_number, ggv_parse_geometry, escape_underlines, 
	create_pixmap, parse_an_arg, ggv_file_readable): made static
	* gtkscrollpane.c, main.c, prefs.c: fix compiler warnings
	* main.c (recent_update): when duplicate filenames occur then
	free memory of one of them.
	(load_gs): gtk_clist_append makes its own copies of the used strings,
	so an additional strdup is not necessary.
	(create_ggv_window): removed widget vbox which was created, but never
	used or freed.
	* all of the above is courtesy of bug-spotting and coding skills of
	Werner Koerner <Werner.Koerner@zae.uni-wuerzburg.de>.
	* main.c (recent_update_menus): only allocate menu once, as only one
	instance is required. free it upon completing menu updating. free the
	label.
	* configure.in: bumped version to 0.82.

1999-12-07  Daniel M German  <dmg@csg.uwaterloo.ca>

	* TODO: Added request to use gdk_pixbuf (might improve performance
	in slow machines).

1999-12-05    <dmg@csg.uwaterloo.ca>

	* configure.in: bumped version to 0.81.
	
	* Added command line options to the help file. Make sure the help
	files are part of the distribution.

	* main.c: commented code for save_as option. If somebody really
	wants to save "as" then she can mark all the pages and then save
	marked pages. Otherwise, it is just needed to implement a "copy"
	from the source file to the destination file.

	* ps.c (pscopyuntil): make sure we don't read beyond the end of
	file.

	* main.c (open_prefs_dialog): make sure the source file is the
	uncompressed one (if the source file is compressed). Fixes bug in
	which a "save pages" from a compressed file did not workx

1999-12-03  Nat Friedman  <nat@helixcode.com>

	* bonobo-application-ps.c (view_size_query_cb): Removed.
	(view_realize_cb): Removed call to deleted function
 	gnome_view_size_request.
	(reload_all_views): Likewise.
	(view_factory): Removed signal connect to "size_query" on the
 	View.

1999-12-02  Daniel M German  <dmg@csg.uwaterloo.ca>

	* configure.in: created version 0.80

	* prefs.c (load_prefs): ggv uses the shell to execute two
	commands: one to convert from pdf to ps and another to
	decompress. I protected the file names with " " so the file name
	does not get interpreted by the shell. This has a disadvantage: if
	the file name contains " then this will not work. Thanks to 
	Christian Hammers <ch@lathspell.westend.com> for the bug report.

1999-11-30  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* ggvwindow.h (struct _ggv_window): added GtkWidget * members for
	menu and popupmenu items for clearing and toggling pages.
	* main.c: included <ctype.h> in order to get prototype for isdigit().
	(load_gs, create_popup_menu, create_menus): set sensitivities for the
	page marking items.
	* ps.c: removed file_getTmpFileName() and replaced it with use of
	tempnam() and g_get_tmp_dir().
	* gtkgs.c (gtk_gs_cleanup): free all filenames and set them to NULL.
	once again, thanx for discovering these bug and providing the fixes go
	to Werner Koerner <werner.koerner@zae.uni-wuerzburg.de>.
	
1999-11-28  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtkgs.c (start_intrepreter): pass filename of the uncompressed
	file to gs if the original file was compressed.
	(gtk_gs_load): return FALSE if the document could not be loaded -
	this prevents segfaults when an empty document is loaded.
	(set_up_page): set LC_NUMERIC locale to C before printing floats for
	ghostscript and reset it back afterwards as ghostscript expects a
	'.' decimal point while some european locales use ','.
	* main.c (recent_update_menus): fixed occasional segfaults when
	updating menus. also fixed a memory leak by freeing window_with_data
	structures associated with menu items. don't translate the menu paths
	as libgnomeui does that on the fly.
	(recent_update): store files in a global list.
	(recent_update_menus): don't free the list passed in as the parameter.
	* ggvwindow.h (struct _ggv_window): changed recent_instantiated to
	num_recent (if >0 then recent file menus have been instantiated).
	* prefs.[ch]: removed gs_num_recent.
	* thanx for reporting recent files list, compressed files and locale
	problems and even sending patches for them go to Werner Koerner
	<werner.koerner@zae.uni-wuerzburg.de>

1999-11-21  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (load_gs): call recent_add().
	(open_window): call recent_update() after successfully loading a
	document.
	* callbacks.c (file_open_ok_callback): remove call to recent_add(), as
	we now call it from load_gs().

1999-11-20  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtkgs.c (gtk_gs_load): call gtk_gs_clean() even if the
	fname is NULL.
	* callbacks.c (print_callback): if the loaded document was compressed
	use the uncompressed temp file as the argument for the print command.
	* main.c: fix setting the sensitivity of 'File' menu items.
	(open_prefs_dialog): handle "changed" signal of all GtkEntries with
	prefs_changed_callback(). this fixes a bug that caused new values to
	be applied only if the user "activated" the entry by pressing Enter.
	* ggvwindow.h: add printmarked member to struct _ggvwindow.

1999-11-15  Yuri Syrota  <rasta@renome.rovno.ua>

	* configure.in (ALL_LINGUAS): Added Ukrainian (uk).

1999-11-02  Daniel M German  <dmg@csg.uwaterloo.ca>

	* main.c, callbacks.c: Moved error message "not marked pages" in
	  saved_as before the file dialog
	* ps.c: Added code to fix a "feature" of NT in which
	  code is added after the %%EndSetup and before
	  the first %%Page: x y. This code belongs to
	  the Setup.

1999-10-26  Daniel M German  <dmg@csg.uwaterloo.ca>

	* Released version 0.70

1999-10-26  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (create_popup_menus): add all the "Toggle *" items to the
	popup menu.
	(toggle_pages): return immediately if no document is loaded.
	* foot.xpm, foot_white.xpm: change background to None.

1999-10-24  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* bonobo-application-ps.c (verb_*_page): check if a document
	is loaded before turning the page.
	* foot.xpm, foot_white.xpm: make the background transparent
	instead of white.
	* main.c, callbacks.c: removed some redundant marking code and
	unneeded printouts.

1999-10-24  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (set_page_sensitivities): enable the next button when
	a non-structured document is loaded.
	(load_gs): clear page list if a non-structured doc is loaded.
	
1999-10-23  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtkgs.c (gtk_gs_load): set send_filename_to_gs to FALSE in case
	of a structured doc. this fixes a nasty bug that caused ggv to
	hang if a structured doc was loaded after a non-structured one.

1999-10-21  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (create_menus): add a 'Print marked pages' item.
	(save_marked_pages): a utility function that saves marked pages to
	a file. copied code from file_save_ok_callback().
	* callbacks.[ch] (file_save_ok_callback): call save_marked_pages().
	(print_marked_pages_callback): save marked pages to a tmp file and
	print them. does not unlink the tmp file.
	* ggvwindow.h: renamed bRecentHasBeenInstantiated to
	recent_instantiated.
	* gtkgs.c (gtk_gs_marshall_signal_0): removed.
	some formatting and var naming changes to make the code look nicer.

1999-10-20  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* bonobo-application-ps.c (view_factory): set a UIHandler to our
	view.
	(view_activate_cb): merge/remove view menus on (de)activation.
	(view_next_page_cb, view_prev_page_cb, view_recenter_page_cb):
	callbacks for view menus.

1999-10-05  Jesus Bravo Alvarez  <jba@pobox.com>

	* configure.in (ALL_LINGUAS): Added Galician (gl).

1999-09-20  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtkgs.[ch]: removed all traces of non-existant foo() signal ;).
	add an "interpreter_message" signal that gets called with lines of
	interpreter output as a parameter. the default handler simply frees
	the space allocated for message. seems like a nice way to pass
	interpreter errors to the widget user.
	* callbacks.[ch]: new files. moved all callbacks here from main.c
	since it was growing too large.
	(interpreter_message_callback): popup an error message with
	interpreter output. line by line unfortunately :(
	changed all instances of _cb to _callback - for consistency ;)
	* main.c: make some variables non-static in order to be accessed
	from callbacks.c. make all functions non-static.
	* ggvwindow.h: add enums and declarations of variables and functions
	shared by main.c and callbacks.c.
	* Makefile.am: add callbacks.c to build process.

1999-09-19  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtkgs.c: added some checks if the widget is realized before calling
	set_up_page(). removed some commented-out messages and improved the
	looks of some parts of the code.
	(gtk_gs_goto_page): pass a duplicated gs_filename gtk_gs_load() as
	gs_filename is freed in gtk_gs_load() before parameter is used.
	* bonobo-application-ps.c (verb_next_page, verb_prev_page): make them
	proper GnomeViewVerbFuncs.
	(view_factory): register verbs. connect realize signal handler to
	GtkGS in order to load and display document at realization time if it
	has been loaded before the view was created. connect size_query signal
	handler to the view.
	(view_realize_cb): render & display the document.
	(view_button_press_cb): popup verbs on button 3 click.
	(view_size_query_cb): ask for as much space as GtkGS needs...
	(stream_read): removed old code as I've implemented _Stream_copy_to()
	ages ago.
	(load_ps_from_stream): move view updating here from stream_read().
	(update_all_views): renamed to reload_all_views(), as this is really
	what it does.

1999-09-13  Karl Eichwalder  <ke@suse.de>

	* main.c (create_menus): Add accel key for "Save As..."
	(cf. gnumeric).

	* main.c (about_callback): Fix typo.
	* main.c (about_callback): Fix another one: It's PostScript, but
	Ghostscript (note the case of "...script") ;)
	* main.c (open_prefs_dialog): Ditto.

1999-09-08  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* ggvwindow.h: it is plain ugly to define and not only declare a
	GdkCursor in a header file, so I removed the definition.
 	* main.c (pan_cursor): define static GdkCursor *pan_cursor;
	(create_popup_menus): make #defines for indexes of relevant items
	in the popupMenu[] array in order to avoid sensitivity setting
	mayhem that followed when someone inserted new items in the menu.
	* bonobo-application-ps.c (pan_cursor): same as above.
	(verbs, embeddable_factory): sync with bonobo verb changes.
	(view_factory): remove call to set_prefs() and instead duplicate
 	most of its code, as it was changed to take ggvwindow* as parameter
	instead of GtkGS*. next time I'd appreciate if people checked how
	bonobo parts compiled before comitting their changes.
	* application-ps.gnorba: brought up-to-date.

1999-09-07    <dmg@csg.uwaterloo.ca>

	* main.c: updated authors

1999-09-07  Tomas Ogren  <stric@ing.umu.se>

	* main.c: Fixed a typo

1999-09-06   Daniel M. German <dmg@csg.uwaterloo.ca>
	
	* main.c, added ggvwindow.h, prefs.h, prefs.c
	Modified prefs so they apply to the ggv_window
	instead of gs, since some options apply to the former.
	
1999-09-06    Andreas Persenius <andreas@alfaskop.net>

	* main.c, prefs.h, prefs.c: 
	Added the option to jump at the beginning of a page when
	scrolling with pageup, page down.
	

1999-09-03  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* main.c (about_callback): Use the imlib visual for displaying the
	image loaded with imlib.  Fixes crashes on multi-depth visuals.

1999-09-03   Daniel M. German <dmg@csg.uwaterloo.ca>
	
	* prepared  version 0.61
	* main.c, gtkgs.c, ps.c
	 Finished support to save marked pages.

1999-09-03  Andreas Persenius <andreas@alfaskop.net>

	* main.c:
	 Adds ... to File/Open
	 Removes ... from File/Print... since no dialog comes up.
	 Sets the cursor position to 0 in the text entrys in the preferences
	 dialog.

1999-09-02  Matthias Warkus  <mawa@iname.com>

	* ggv-splash.png: Added beautiful image for about widget.

1999-08-29  Miguel de Icaza  <miguel@gnu.org>

	* main.c (escape_underlines): Include escape_underlines (copies
	from mc/gnome/gpopup2.c).
	(recent_update_menus): Escape file names from underlines.

1999-08-27  Karl Eichwalder  <ke@suse.de>

	* ggv.spec.in: Minor fixes.

1999-08-27  Karl Eichwalder  <ke@suse.de>

	* ggv.desktop (Comment): PostScript vs. Ghostscript.  Typo.

1999-08-27    <dmg@csg.uwaterloo.ca>

	* gtkgs.c,main.c: Finished support for selecting pages
	* ps.c: Started implementation of saving selected pages
	* foot.xpm, foot_white.xpm: Added the pixmaps for the marks
	
1999-08-25    <dmg@csg.uwaterloo.ca>

	* main.c: Starting adding support to select individual pages
	* main.c: Added fullscreen command line option

1999-08-24    <dmg@csg.uwaterloo.ca>

	* prepared version 0.51
	* Added MAINTAINERS file
	* gtkgs.c: Now it _deletes_ temporal files :)
	* main.c: Added geometry, spartan and nomenubar command line options
	  and support for them
	* main.c: Add .ps or .pdf extension if not specified in the command line
	* ps.c: changed all free and mallocs to their gnome counterparts

1999-08-23    <dmg@csg.uwaterloo.ca>
	
	* Started support for command line options
	* Close window is now active

1999-08-23  Miguel de Icaza  <miguel@gnu.org>

	* bonobo-application-ps.c (embeddable_factory): Adapt to current Bonobo.

1999-08-22  Nat Friedman  <nat@gnome-support.com>

	* bonobo-application-ps.c (main): Use bonobo_main.

1999-08-22  Herbert Valerio Riedel  <hvr@hvrlab.dhs.org>

	* main.c: changed type of data in struct _window_with_data to
	pointer (caused problems when sizeof(gpointer) > sizeof(gint) -
	eg. on alphas...)

1999-08-21  Herbert Valerio Riedel  <hvr@hvrlab.dhs.org>

	* Makefile.am: integrated spec file
	* ggv.spec.in: reworked spec file, based on old ggv.spec
	* configure.in: added ggv.spec.in to AC_OUTPUT
	* ggv.spec: removed, as it is autogenerated now

1999-08-20  Daniel M. German  <dmg@csg.uwaterloo.ca>

	* prepared version 0.50
	* removed debug messages
	* added support for most recently used documents
	* it deletes temporal files now

1999-07-13  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* application-ps.gnorba: use GNOME/Embeddable*.
	* main.c (load_gs): if the loaded document is the same as the one
	viewed, don't reset the page to 0.
	(set_gs_prefs): really reload the document.
	(print_callback): use gnome_execute_shell()
	* prefs.c (load_prefs): add %s to the default printing command.

1999-07-11  Tomas Ogren  <stric@ing.umu.se>

	* gtkgs.c: Process events to keep the UI somewhat alive..

1999-07-09  Tuomas J. Lukka  <lukka@iki.fi>

	* Fix some cvsignores

1999-07-08  Tuomas J. Lukka  <lukka@iki.fi>

	* From: Alexander Savelyev <fano@alfacom.net>
	patch to fix small buglet


1999-07-08  Tuomas J. Lukka  <lukka@iki.fi>

	* Add keystrokes to menu entries. 

1999-07-08  Tuomas J. Lukka  <lukka@iki.fi>

	* Fixed my own caused bug - accelerators should
	  work again.

1999-07-08 Daniel M. German <dmg@csg.uwaterloo.ca>
	
	* ps.c, gtkgs.c There seem to exist some PostScript documents that
	do not have !PS at the beginning. Heck, they have nothing. For example,	
	I was trying to read a file that started with:
	
	%! coverpage

	/beginword              % Usage: str x y beginword
	{
	...

	Even if a remove the line with %! it is still a valid PostScript
	file.
		
	Sooo, I decided (temporarily at least) to do what gv does: pass
	the file to GhostScript in the hope that it will be able to deal
	with it. The current error messages are sent to stderr. We should
	handle them in a nicer way.

	
1999-07-03 Daniel M. German <dmg@csg.uwaterloo.ca>
	* gtkgs.c fixed a bug that froze the
	  interface whenever a encapsulated postscript
	  file was displayed.
	* main.c added functionality to the file_open_window
	  it now uses the directory where the current 
	  document is as the default directory.
		
1999-07-02  Tuomas J. Lukka  <lukka@iki.fi>

	* Add '+' and '-' keys for zoom in & out
	* clean up key_pressed_event_callback by moving out the
	  stop_emit

1999-07-02  Tuomas J. Lukka  <lukka@iki.fi>

	* Allow the prefix to be just %!PS, not just %!PS-Adobe.
    	 Many files have just that.

1999-06-25  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* test-container.c: removed. it was just another nuisance
	that had to be updated all the time. test-container-autoload
	from bonobo package will do for testing the component.
	* Makefile.am: updated to reflect the above.

1999-06-22  Nat Friedman  <nat@gnome-support.com>

	* test-container.c: Use gnome_bonobo_object_client_free_verbs
 	instead of gnome_bonobo_object_free_verbs.  Ditto with
 	gnome_bonobo_object_client_get_verbs and
 	gnome_bonobo_object_client_do_verb.

	* bonobo-application-ps.c (view_factory): Accept the ViewFrame as
 	a parameter.

1999-06-22  Matt Loper  <matt@gnome-support.com>

	* bonobo-application-ps.c (bonobo_object_factory): Changed to
	eliminate need for path, and to reflect GnomeBonoboObjectFactory
	-> GnomeComponentFactory change. Return GnomeObject instead of
	GnomeBonoboObject.

1999-06-22 Daniel M. German <dmg@csg.uwaterloo.ca>
	* main.c Improved the file open window. It does not close
   	if the selected file is a directory or if the
	file does not exist. It now handles wildcards in the
	file name.

1999-06-21    <dmg@csg.uwaterloo.ca>
	* Contributed to the help
	
1999-06-20    <dmg@csg.uwaterloo.ca>

	* Released version 0.40
	* Fixed pt_BR.po

1999-06-18  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (create_ggv_window): fix toplevel sizing.
	
1999-06-16  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (hide_menubar_callback): becomes show_menubar_callback.
	(hide_toolbar_callback): becomes show_panel_callback.
	(show_menubar_callback): small fix to properly enable the togglebuttons
	when the menus are not created upon startup.
	* main.c, prefs.[ch]: changed gs_toolbar to gs_panel.

1999-06-15  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c: take care of the reload item sensitivity. turn hide/show items
	into toggleitems. some general work on code aesthethics.

1999-06-14  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* test-container.c: use new convenience functions for handling
	the verbs instead of using CORBA functions.
	* bonobo-application-ps.c: use the GNOME_Stream_copy_to() function,
	as I've just implemented it for GnomeStreamFS in bonobo.
	
1999-06-12  Daniel M. German  <dmg@csg.uwaterloo.ca>

	* Added pt_BR.po, contributed by Lalo Martins <lalo@webcom.com>

1999-06-09  Tuomas J. Lukka <lukka@iki.fi>

	* Help file small edit

1999-06-06  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtkgs.c (gtk_gs_load): set document size parameters to 0.
	* main.c (create_menus): added tooltip strings to UI items. install
	menu hints.
	(load_gs): report some status via appbar flashes.
	(create_ggv_window): add a statusbar.

1999-06-05  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtkgs.c (gtk_gs_load): don't try to print out page order
	unless we've successfully loaded the document.

1999-06-05  Tomas Ogren  <stric@ing.umu.se>

	* configure.in: Add sv to ALL_LINGUAS

1999-06-04  Sergey Panov <sipan@mit.edu>

        * configure.in:  Add ru to ALL_LINGUAS 

1999-06-02  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (create_menus): moved show/hide menubar/side panel to
	settings menu. disable the menu items that do nothing yet.
	(print_callback): print by system()ing a command on the ps file.
	usually, this would be lpr.
	(open_prefs_dialog): add a Printing page, letting the user specify
	the command used to print files.
	* prefs.[ch]: added preferences for printing command.
	* help/C/ggv.sgml: describe the menus and the new printing feature.
	* configure.in: check if we have lpr's path for default print
	command.

1999-06-01  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* bonobo-application-ps.c, test-container.c: respect recent
	changes to the Verbs interface (no more verb codes).
	
1999-05-31  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (struct _ggv_window): add prev[item|pu] and next[item|pu]
	members that point to Next/Prev page [popup]menu items. use these
	for setting their sensitivity.
	(set_page_sensitivities): new function to set sensitivity of all
	next/prev widgets (buttons, menuitems) properly.
	(select_page_callback, goto_page): use the above.
	(create_popup_menu): add zoom in/out items.
	* help/C/ggv.sgml: some changes to make english look more english ;)
	added another chapter on the preferences.
	
1999-05-31  Matt Loper  <matt@gnome-support.com>

	* application-ps.gnorba: Changed two goad_id's and one repo id to
	reflect the Component -> BonoboObject namechange. 

	* test-container.c: Changed minor things to reflect Component ->
	BonoboObject renaming.

	* bonobo-application-ps.c: Changed comment to reflect
	renaming. Changed component_data_t typedef to
	bonobo_object_data_t.
	(bonobo_object_destroy_cb): Renamed component_destroy_cb function
	to bonobo_object_destroy_cb.
	(bonobo_object_factory): Renamed component_factory function to
	bonobo_object_factory.
	
1999-05-30  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (goto_page): set prev/next button sensitivity properly.
	(about_callback): added myself to the authors ;)	
	* bonobo-application-ps.c (component_factory): add some verbs
	to our component and connect a handler for do_verb signal.
	gtk_object_set_data() our component_data to the actual
	GnomeComponent as we'll need this in do_verb_cb().
	(do_verb_cb): handler for do_verb signal.
	* test-container.c (add_verb): add an item with the verb
	name to Verbs menu. connect "activate" signal handler and
	gtk_object_set_data() the GnomeComponent that the verb was
	acquired from to the item.
	(add_cmd): get component's verb list and create menu items
	with their names in Verbs menu.
	(verb_cb): get the GnomeComponent that the verb was acquired from
	using a gtk_object_get_data() and do a GNOME_Component_do_verb()
	on it with verb_name set to NULL as we don't pass it to the
	callback.

1999-05-28  Daniel M. German <dmg@csg.uwaterloo.ca>
        * gtkgs.c
	* gtkgs.h
	* main.c
	   Added support for non structured documents. It still
	requires testing.
	* main.c
	  Disable buttons when document has not been opened
	  Enable buttons once it has been open
          Disable prev page in structured documents

	 
1999-05-27  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* bonobo-application-ps.c (main): remove hardcoded GtkGS 
	instead load GS configuration from /bonobo-application-ps/...
	* prefs.[ch] (load_prefs, save_prefs): pass prefix as a parameter
	to enable loading prefs for both ggv and bonobo component.
	(set_prefs): apply prefs to a GtkGS widget.
	* ps.h: enclosed in #ifndef __GGV_PS_H__/#endif.
	* main.c: respect changes to prefs.[ch].
	* test-container.c: activate component after creating the view so
	that it can receive mouse events.
	* Makefile.am: share prefs sources between ggv and bonobo component.

1999-05-27  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* bonobo-application-ps.c: new file. a bonobo component that
	displays postscript via gtkgs widget.
	* test-container.c: a test container app for bonobo component.
	stolen from bonobo source tree.
	* configure.in: check for bonobo.
	* Makefile.am: if bonobo is present, build ps component and
	test-container.
	* application-ps.gnorba: gnorba file for the component. note that
	none of the bonobo stuff is installed yet. to use the component,
	you have to copy bonobo-application-ps somewhere in your PATH and
	the .gnorba file to $prefix/etc/CORBA/servers and run test-container.
	
1999-05-26  Tuomas J. Lukka <lukka@iki.fi>

	* Start a help file

1999-05-24  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtkscrollpane.c (gtk_scrollpane_update_slider_size): fixed
	the size calculation code. gdk_window_move_resize() works as it
	should now.
	(gtk_scrollpane_motion_notify): fixed this also.

1999-05-23  Tuomas J. Lukka <lukka@iki.fi>

	* Implement the zoomin/zoomout buttons and change to using
	  magsteps.
	* Prevent the scrollpane from growing indefinitely (odd bug,
	  now commented out as FIXME in gtkscrollpane.c)

1999-05-23  Tuomas J. Lukka <lukka@iki.fi>

	* main.c : add zoomin, zoomout buttons. We need gnome stock
	  buttons for these!
	  The buttons don't do anything yet, though: we need to
	  make the variable have a reasonable meaning (I'd prefer magstep,
	  opinions?)

1999-05-23  Jaka Mocnik  <jaka-mocnik@kiss.uni-lj.si>

	* main.c (main): load preferences BEFORE opening files from
	command line arguments.
	
1999-05-20  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* prefs.[ch]: added preferences for toolbar and menubar
	visibility.
	* main.c (open_prefs_dialog): new Layout properties page for
	the above settings.
	(button_press_callback, button_release_callback):
	moved commented out cropping code to middle-button click and
	assigned left-button to start panning.
	(motion_callback): pan if left mouse button is pressed.
	* gtkgs.[ch] (gtk_gs_scroll): new public function to scroll the
	visible parts.
	* gtkscrollpane.h: added in_slider member. set to true when
	pointer is in the slider window.
	* gtkscrollpane.c: respect themes. fixed size requisition signal
	handler.

1999-05-20  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c: some sanitizing of cases when a document can't be loaded.
	* gtkgs.c: hide gs target window when a document can't be loaded and
	show it when a document is successfully loaded.
	* gtkscrollpane.c: fixed a bug in expose signal handler that caused
	the shadow around the trough not to be redrawn.
	
1999-05-19  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (create_ggv_window): cosmetics. removed the frame
	around "sidebar" and added one around GtkGS widget.
	(hide_menubar_callback): fixed.
	(reload_callback): fixed.
	(set_gs_prefs, apply_gs_prefs): new functions for setting
	preferences for a single and all open GtkGS widget.
	(open_prefs_dialog): a dialog for setting preferences.
	* gtkscrollpane.c (gtk_scrollpane_update_slider_size):
	fixed a bug that caused the scrollpane to require more space
	with each size_request signal.
	* prefs.[ch]: new files; loading and saving of preferences.
	* gtkgs.[ch]: changed members gs_gs_cmd_scan_pdf to gs_scan_pdf_cmd
	and gs_uncompress_command to gs_uncompress_cmd.
	(gtk_gs_set_pagemedia): changed the interface a bit.
	* ps.[ch]: add a #define PAPER_SIZE_COUNT in order to use papersizes[]
	in prefs dialog.
	* Makefile.am: added prefs.[ch] to ggv sources.

1999-05-18  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (create_menus): use gnome-app-helper stuff where
	appropriate. restructured the menus a bit.
	(create_popup_menus): use gnome-popup-menu for this.
	(about_callback): cosmetics.
	(file_open_destroy_callback): in order to reflect its use,
	changed to file_open_cancel_callback.
	(file_open_delete_callback): new handler for file selection's
	delete event.
	(struct _ggv_window, open_callback, file_open_ok_callback,
	file_open_cancel_callback): use ggv->file_sel instead of a
	global file_sel.
	* gtkscrollpane.c (gtk_scrollpane_size_request): make it work
	as it should.

1999-05-17  Tuomas J. Lukka <lukka@iki.fi>
	* main.c: factor out goto_page and make it jump in the list if 
	  the entry is not visible.
	* Update fi.po

1999-05-06  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* main.c (struct _ggv_window): put _window_with_data arrays
	for menus here instead of dynamically allocating it.
	(open_window, close_window): new helper functions to open and close
	ggv windows.
	(create_menus, new_callback): add a "New Window" item to "File"
	menu to open a new window.
	(delete_callback): new function, called instead of exit_callback()
	on window delete_events.
	(close_cmd): becomes close_callback().
	(create_ggv_window): make windows accept dropped files.
	(drop_callback): new function: load files dropped on a window.
	also g_free() what needs to be freed all over the code.

1999-05-05  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtkgs.c: add checks if the GtkGS widget is realized before
	calling gtk_gs_munge_adjustments() preventing segfaulting due
	to moving and resizing a non-existant window.
	
1999-04-23 Daniel M. German  <dmg@csg.uwaterloo.ca>
	* gtkscrollpane.h, gtkscrollpane.c
	I modified the API for scrollpane in order to
	replace scroll up, scroll down, scroll left
	and scroll right with one function:
	gtk_scrollpane_step.
	Added scroll_page_goto_edge
	Added wrapping option to scrolling, this
	allows the user to move from one page to another
	when pressing space or backspace
	* main.c
	Replace calls to scrolling functions for new functions
	When scrollign through document (space), it moves
	the pane to the top corner in a new page. Backspace
	should be modified accordingly. New functions allows
	to write less code when handling different orientations. 
	The idea is to have less repetion of code. The API for scrolling
	might change again in order to accomodate this.
	
	
1999-04-22 Daniel M. German  <dmg@csg.uwaterloo.ca>
	* main.c
        * Changed 'q' accelerator to Ctrl-Q, which is the
	GNOME standard. I also changed the location of the
	quit accelerator to the menu definition, so it
	uses the proper callback.
	* Added other accelerators to the menu
	
1999-04-22  Tuomas J. Lukka	<lukka@iki.fi>
	* Add the 'q' accelerator for getting out a la ghostview.
	* Add size requests to try to behave well
	* Add a scrollbar (scrolled_window) around the page list

1999-04-15 Daniel M. German  <dmg@csg.uwaterloo.ca>
	* main.c
	 It now kills all windows before exiting (exit_callback), ergo
	  no gs process are left running.
	o
1999-04-14 Daniel M. German  <dmg@csg.uwaterloo.ca>
        * Released version 0.30
	* gtkgs.c, gtkgs.h
	 Fixed the bad bug in which GS stopped processing input.
	 The "truly bad hack" is history (I hope :)
	
1999-04-09  Shooby Ban <bansz@szif.hu>
	* Added hungarian translation

1999-03-28  Tuomas J. Lukka	<lukka@iki.fi>
	* Add fi to all_linguas
	* set usize of scrollpane in main.c
	* Fix gtk_gs bug: the adjustments were not set properly
	  since size_allocate was called when gs->width was
	  not yet set. My fix needs to be looked at.
	  The scrollpane now works.
	* Does not allocate full document size any more - this
	  is bad because it goes over screen size easily.

1999-03-28  Tuomas J. Lukka	<lukka@iki.fi>
	* Fix desktop fi entry

1999-03-13 Daniel M. German  <dmg@csg.uwaterloo.ca
	* main.c
        Added error handling when loading file
	Fixed bugs and finished support for multiple windows (only
	  from command line)
	Automatic resizing when opening files
	Page up (next page) and page down (prev page) reversed to mimic
	ghostview  behaviour
	Modified zoom menu and (and simplified) zoom callback to reflect
	ghostview options (1/10, 1/8, 1/4, 1/2, 1/1.44, 1/1, etc)				
	* gtkgs.c        
	Fixed zooming bug

	
1999-02-25  Jonathan Blandford  <jrb@redhat.com>

	* ggv.desktop (Comment): added German translation by Matthias
	Warkus.

1998-11-28  Raja R Harinath  <harinath@cs.umn.edu>

	* main.c (create_ggv_window): 
	Remove call to deleted function	`gtk_clist_set_policy' which 
	was non-functional anyway. (xref gtk+/ChangeLog:
	Wed Nov 19 01:22:42 1998  Tim Janik  <timj@gtk.org>).

	* gtkgs.c (gtk_gs_init): 
	Removed setting of the GTK_BASIC flag (xref gtk+/ChangeLog:
	Wed Nov 18 22:54:36 1998  Tim Janik  <timj@gtk.org>).

1998-11-10  Raja R Harinath  <harinath@cs.umn.edu>

	* configure.in (paths.h): New check.
	(GS_PROG): Check for the full path of `gs'.
	(GS_PATH): New #define, defined to GS_PROG.
	* acconfig.h (GS_PATH): New define.
	* file.c: Protect inclusion of `paths.h' with HAVE_PATHS_H.
	* gtkgs.c (gtk_gs_init): Don't hardcode "/usr/bin/gs", use the
	discovered GS_PATH.
	From "Brandon S. Allbery" <allbery@ece.cmu.edu>.
	
1998-08-12  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* configure.in (ALL_LINGUAS): Added Portuguese translation after
	the split of gnome-graphics.

Fri Aug  7 11:54:03 1998 Jonathan Blandford <jrb@redhat.com>
	* main.c: commented out crop code temporarily.
	* when it works correctly, i'll uncomment it... (:

1998-08-07  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	Split of gnome-graphics into ee and ggv modules:

	* autogen.sh: 
	* configure.in: 
	* Makefile.am: Adjusted for new ggv module.

1998-08-07  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* ggv.desktop: Added Portuguese translation.

Wed Jul 29 18:19:12 1998  Jonathan Blandford  <jrb@redhat.com>
	many changes.  A bit more stable now.
	* main.c: Added support for key presses and some mouse click support.
	* gtkscrollpane.c (gtk_scrollpane_update_slider_size): fixed a big bug.
	* gtkgs.c: fixed many bugs.

Mon Jul 27 14:50:28 1998  Tom Tromey  <tromey@cygnus.com>

	Some `-ansi -Wall -Wmissing-declarations' fixes:
	* gtkgs.c (catchPipe): Now static.
	(start_interpreter): Removed unused variables.
	Include <sys/types.h>, <sys/wait.h>, and <stdio.h>.
	(gtk_gs_goto_page): Removed unused variable.
	(is_interpreter_ready): Now static.
	(is_interpreter_running): Likewise.
	* file.c: Turned C++ comments into C comments.
	* file.h (file_getTmpFilename): Fixed declaration to match
	definition.
	* ps.c: Include "file.h", <glib.h>.
	(file_getTmpFilename): Argument now const.
	(get_next_text): Renamed from `gettext' to avoid clash with GNU
	gettext.

	Added gettext and argument parsing:
	* main.c (startup_files): New global.
	Include <config.h> first.
	(parse_an_arg): New function.
	(parser): New structure.
	(main): Pass parser to gnome_init.
	(orientationMenu2): Wrapped strings with N_.
	(fileMenu): Likewise.
	(documentMenu): Likewise.
	(helpMenu): Likewise.
	(mainMenu): Likewise.
	(about_callback): Use _() around user-visible strings.
	(open_callback): Likewise.

Fri Jul 10 20:10:37  Jonathan Blandford <jrb@redhat.com>

	* rewrite of ggv. many files removed. some added.
	  following files have been added: TODO, main.c, gtkgs.c, gtkgs.h
	  gtkscrollpane.h gtkscrollpane.c
	  ggv is no longer nearly as dependent on the old ghostview code
	  any more.
