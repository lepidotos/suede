dnl Process this file with autoconf to produce configure.
AC_INIT(foo.defs)
AM_INIT_AUTOMAKE(guile-gtk-example, 0.1)

AC_PROG_CC
AM_PROG_LIBTOOL

GNOME_COMMON_INIT
GNOME_PLATFORM_GNOME_2(no)

if test $platform_gnome_2 = yes ; then
  GNOME_PKGCONFIG_CHECK_MODULES(GTK, gtk+-2.0:1.3.1)
else
  GNOME_PKGCONFIG_CHECK_MODULES(GTK, gtk+:1.2.6)
fi
AC_SUBST(GTK_CFLAGS)
AC_SUBST(GTK_LIBS)

AC_MSG_CHECKING("for guile-gtk CFLAGS")
GUILEGTK_CFLAGS=`build-guile-gtk cflags`
AC_SUBST(GUILEGTK_CFLAGS)
AC_MSG_RESULT($GUILEGTK_CFLAGS)

AC_MSG_CHECKING("for guile-gtk LIBS")
GUILEGTK_LIBS=`build-guile-gtk libs`
AC_SUBST(GUILEGTK_LIBS)
AC_MSG_RESULT($GUILEGTK_LIBS)

AC_MSG_CHECKING("for guile-gtk LIBLIBS")
GUILEGTK_LIBLIBS=`build-guile-gtk liblibs`
AC_SUBST(GUILEGTK_LIBLIBS)
AC_MSG_RESULT($GUILEGTK_LIBLIBS)

AC_OUTPUT(Makefile)
