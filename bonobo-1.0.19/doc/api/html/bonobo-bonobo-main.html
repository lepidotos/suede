<HTML
><HEAD
><TITLE
>bonobo-main</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.64
"><LINK
REL="HOME"
TITLE="Bonobo API Reference Manual"
HREF="book1.html"><LINK
REL="UP"
TITLE="Core Bonobo Objects"
HREF="bonobo-core.html#BONOBO-CORE-OBJECT"><LINK
REL="PREVIOUS"
TITLE="BonoboXObject"
HREF="bonobo-bonobo-xobject.html"><LINK
REL="NEXT"
TITLE="Object Activation and Lifecycle"
HREF="bonobo-object-activation.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
BGCOLOR="#000000"
CELLPADDING="1"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="5"
>Bonobo API Reference Manual</FONT
></TH
></TR
><TR
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="left"
><A
HREF="bonobo-bonobo-xobject.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>&#60;&#60;&#60; Previous Page</B
></FONT
></A
></TD
><TD
WIDTH="25%"
BGCOLOR="#0000C0"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="book1.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Home</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#00C000"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="bonobo-core.html#BONOBO-CORE-OBJECT"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Up</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="right"
><A
HREF="bonobo-object-activation.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Next Page &#62;&#62;&#62;</B
></FONT
></A
></TD
></TR
></TABLE
></DIV
><H1
><A
NAME="BONOBO-BONOBO-MAIN"
>bonobo-main</A
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN991"
></A
><H2
>Name</H2
>bonobo-main&nbsp;--&nbsp;Bonobo initialization.</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN994"
></A
><H2
>Synopsis</H2
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="SYNOPSIS"
>&#13;

<GTKDOCLINK
HREF="GBOOLEAN"
>gboolean</GTKDOCLINK
>    <A
HREF="bonobo-bonobo-main.html#BONOBO-INIT"
>bonobo_init</A
>                     (<GTKDOCLINK
HREF="CORBA-ORB-CAPS"
>CORBA_ORB</GTKDOCLINK
> orb,
                                             <GTKDOCLINK
HREF="PORTABLESERVER-POA"
>PortableServer_POA</GTKDOCLINK
> poa,
                                             <GTKDOCLINK
HREF="PORTABLESERVER-POAMANAGER"
>PortableServer_POAManager</GTKDOCLINK
> manager);
void        <A
HREF="bonobo-bonobo-main.html#BONOBO-MAIN"
>bonobo_main</A
>                     (void);
<GTKDOCLINK
HREF="GBOOLEAN"
>gboolean</GTKDOCLINK
>    <A
HREF="bonobo-bonobo-main.html#BONOBO-ACTIVATE"
>bonobo_activate</A
>                 (void);
void        <A
HREF="bonobo-bonobo-main.html#BONOBO-SETUP-X-ERROR-HANDLER"
>bonobo_setup_x_error_handler</A
>    (void);
<GTKDOCLINK
HREF="CORBA-ORB-CAPS"
>CORBA_ORB</GTKDOCLINK
>   <A
HREF="bonobo-bonobo-main.html#BONOBO-ORB"
>bonobo_orb</A
>                      (void);
<GTKDOCLINK
HREF="PORTABLESERVER-POA"
>PortableServer_POA</GTKDOCLINK
> <A
HREF="bonobo-bonobo-main.html#BONOBO-POA"
>bonobo_poa</A
>               (void);
<GTKDOCLINK
HREF="PORTABLESERVER-POAMANAGER"
>PortableServer_POAManager</GTKDOCLINK
> <A
HREF="bonobo-bonobo-main.html#BONOBO-POA-MANAGER"
>bonobo_poa_manager</A
>
                                            (void);&#13;</PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN1012"
></A
><H2
>Description</H2
><P
>  Initialization functions for Bonobo applications.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN1015"
></A
><H2
>Details</H2
><DIV
CLASS="REFSECT2"
><A
NAME="AEN1017"
></A
><H3
><A
NAME="BONOBO-INIT"
></A
>bonobo_init ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
><GTKDOCLINK
HREF="GBOOLEAN"
>gboolean</GTKDOCLINK
>    bonobo_init                     (<GTKDOCLINK
HREF="CORBA-ORB-CAPS"
>CORBA_ORB</GTKDOCLINK
> orb,
                                             <GTKDOCLINK
HREF="PORTABLESERVER-POA"
>PortableServer_POA</GTKDOCLINK
> poa,
                                             <GTKDOCLINK
HREF="PORTABLESERVER-POAMANAGER"
>PortableServer_POAManager</GTKDOCLINK
> manager);</PRE
></TD
></TR
></TABLE
><P
>Initializes the bonobo document model.  It requires at least
the value for <TT
CLASS="PARAMETER"
><I
>orb</I
></TT
>.  If <TT
CLASS="PARAMETER"
><I
>poa</I
></TT
> is CORBA_OBJECT_NIL, then the
RootPOA will be used, in this case <TT
CLASS="PARAMETER"
><I
>manager</I
></TT
> should be CORBA_OBJECT_NIL.</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN1030"
></A
><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>orb</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> the ORB in which we run</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>poa</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> optional, a POA.</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><TT
CLASS="PARAMETER"
><I
>manager</I
></TT
>&nbsp;:</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> optional, a POA Manager</TD
></TR
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>Returns</I
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>TRUE</TT
> on success, or <TT
CLASS="LITERAL"
>FALSE</TT
> on failure.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1053"
></A
><H3
><A
NAME="BONOBO-MAIN"
></A
>bonobo_main ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>void        bonobo_main                     (void);</PRE
></TD
></TR
></TABLE
><P
>Activates the Bonobo POA Manager and enters the main event loop.</P
><P
></P
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1059"
></A
><H3
><A
NAME="BONOBO-ACTIVATE"
></A
>bonobo_activate ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
><GTKDOCLINK
HREF="GBOOLEAN"
>gboolean</GTKDOCLINK
>    bonobo_activate                 (void);</PRE
></TD
></TR
></TABLE
><P
>Activates the Bonobo POA manager registered by bonobo_init.
This should be called at the end of application initialization.
You do not need to call this function if you use <A
HREF="bonobo-bonobo-main.html#BONOBO-MAIN"
>bonobo_main</A
>().</P
><P
></P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN1067"
></A
><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>Returns</I
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
><TT
CLASS="LITERAL"
>TRUE</TT
> on success, or <TT
CLASS="LITERAL"
>FALSE</TT
> on failure.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1078"
></A
><H3
><A
NAME="BONOBO-SETUP-X-ERROR-HANDLER"
></A
>bonobo_setup_x_error_handler ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>void        bonobo_setup_x_error_handler    (void);</PRE
></TD
></TR
></TABLE
><P
>To do graphical embedding in the X window system, Bonobo
uses the classic foreign-window-reparenting trick.  The
GtkPlug/GtkSocket widgets are used for this purpose.  However,
serious robustness problems arise if the GtkSocket end of the
connection unexpectedly dies.  The X server sends out DestroyNotify
events for the descendants of the GtkPlug (i.e., your embedded
component's windows) in effectively random order.  Furthermore, if
you happened to be drawing on any of those windows when the
GtkSocket was destroyed (a common state of affairs), an X error
will kill your application.</P
><P
>To solve this latter problem, Bonobo sets up its own X error
handler which ignores certain X errors that might have been
caused by such a scenario.  Other X errors get passed to gdk_x_error
normally.</P
><P
></P
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1085"
></A
><H3
><A
NAME="BONOBO-ORB"
></A
>bonobo_orb ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
><GTKDOCLINK
HREF="CORBA-ORB-CAPS"
>CORBA_ORB</GTKDOCLINK
>   bonobo_orb                      (void);</PRE
></TD
></TR
></TABLE
><P
>fetches the bonobo orb</P
><P
>   Returns the CORBA_ORB object that is being used by Bonobo.</P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN1092"
></A
><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>Returns</I
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> The ORB used for this Bonobo application.  The ORB
is created in <A
HREF="bonobo-bonobo-main.html#BONOBO-INIT"
>bonobo_init</A
>().</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1102"
></A
><H3
><A
NAME="BONOBO-POA"
></A
>bonobo_poa ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
><GTKDOCLINK
HREF="PORTABLESERVER-POA"
>PortableServer_POA</GTKDOCLINK
> bonobo_poa               (void);</PRE
></TD
></TR
></TABLE
><P
>fetches the bonobo poa</P
><P
>   Returns the POA object that is being used by Bonobo.</P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN1109"
></A
><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>Returns</I
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> The POA used for this Bonobo application.  The POA
is created when <A
HREF="bonobo-bonobo-main.html#BONOBO-INIT"
>bonobo_init</A
>() is called.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
><HR><DIV
CLASS="REFSECT2"
><A
NAME="AEN1119"
></A
><H3
><A
NAME="BONOBO-POA-MANAGER"
></A
>bonobo_poa_manager ()</H3
><TABLE
BORDER="0"
BGCOLOR="#D6E8FF"
WIDTH="100%"
CELLPADDING="6"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
><GTKDOCLINK
HREF="PORTABLESERVER-POAMANAGER"
>PortableServer_POAManager</GTKDOCLINK
> bonobo_poa_manager
                                            (void);</PRE
></TD
></TR
></TABLE
><P
>fetches the bonobo poa manager.</P
><P
>   Returns the POA Manager object that is being used by Bonobo.</P
><DIV
CLASS="INFORMALTABLE"
><A
NAME="AEN1126"
></A
><P
></P
><TABLE
BORDER="0"
WIDTH="100%"
BGCOLOR="#FFD0D0"
CELLSPACING="0"
CELLPADDING="4"
CLASS="CALSTABLE"
><TBODY
><TR
><TD
WIDTH="20%"
ALIGN="RIGHT"
VALIGN="TOP"
><I
CLASS="EMPHASIS"
>Returns</I
> :</TD
><TD
WIDTH="80%"
ALIGN="LEFT"
VALIGN="TOP"
> The POA Manager used for this Bonobo application.  The POA
Manager is created when <A
HREF="bonobo-bonobo-main.html#BONOBO-INIT"
>bonobo_init</A
>() is called, but it is not
activated until <A
HREF="bonobo-bonobo-main.html#BONOBO-MAIN"
>bonobo_main</A
>() is called.</TD
></TR
></TBODY
></TABLE
><P
></P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><BR
CLEAR="all"><BR><TABLE
WIDTH="100%"
BORDER="0"
BGCOLOR="#000000"
CELLPADDING="1"
CELLSPACING="0"
><TR
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="left"
><A
HREF="bonobo-bonobo-xobject.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>&#60;&#60;&#60; Previous Page</B
></FONT
></A
></TD
><TD
WIDTH="25%"
BGCOLOR="#0000C0"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="book1.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Home</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#00C000"
ALIGN="center"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
><A
HREF="bonobo-core.html#BONOBO-CORE-OBJECT"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Up</B
></FONT
></A
></B
></FONT
></TD
><TD
WIDTH="25%"
BGCOLOR="#C00000"
ALIGN="right"
><A
HREF="bonobo-object-activation.html"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Next Page &#62;&#62;&#62;</B
></FONT
></A
></TD
></TR
><TR
><TD
COLSPAN="2"
ALIGN="left"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>BonoboXObject</B
></FONT
></TD
><TD
COLSPAN="2"
ALIGN="right"
><FONT
COLOR="#FFFFFF"
SIZE="3"
><B
>Object Activation and Lifecycle</B
></FONT
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
>